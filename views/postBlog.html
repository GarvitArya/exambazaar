<style>
    #instituteHolder{
        background: white;
        border: 1px solid #ccc;
        padding: 10px;
    }
    #logoHolder{
        height: 50px;
    }
    
    #link{
        color: rgba(0,0,0,0.6);
    }
    #link:hover{
        color: #20C39A;
    }
    
    #badge{
        background: #20C39A;
    }
    img{
        max-width: 100%;
    }
</style>

<div id="spacer1" class="hidden-xs whiteBackground">
</div>
<div id="spacerXS" class="hidden-sm hidden-md hidden-lg whiteBackground">
</div>
<div flex layout="row" layout-align="center center" class="whiteBackground">
<div flex-xs="100" flex-gt-xs="80" layout="column" layout-align="center center" class="paddingTB20 width100 blogFont" ng-if="user">
    <div layout="column" layout-align="center center" class="width100 paddingTB10 marginB10 ">
        <div layout="row" layout-align="center center" class="width100 font16">
            <div layout="column" layout-align="start start" class="paddingL20 editFont">
                <div layout="column" layout-align="center center" ng-if="user.image">
                    <img id="userPic" ng-src="{{user.image}}" class="img-circle" />
                    <span ngf-select="uploadBloggerPic(newPic)" ng-model="newPic" ngf-accept="'image/*'" ngf-resize="{width: 200, height:200, quality: 0.8, centerCrop: true}">Change</span>
                </div>
                <div layout="column" layout-align="center center" ng-if="!user.image" ngf-select="uploadBloggerPic(newPic)" ng-model="newPic" ngf-accept="'image/*'" ngf-resize="{width: 200, height:200, quality: 0.7, centerCrop: true}">
                    <div layout="row" layout-align="center center" class="lightGreyBackground"  id="picHolder" >
                        <i class="fa fa-plus-circle" aria-hidden="true"></i>&nbsp;Add Image
                    </div>

                </div>

            </div>
            <div class="marginL10">
                {{user.basic.name}}
            </div>
            <div class="marginL10 font10 danger" ng-click="setCredentials()">
                Edit Credentials
            </div>
        </div>
        <div layout="column" layout-align="start start" class="padding20 secondFont gainsboroBorder width100 marginT20" id="profileSection" ng-if="user.blogger.active && credentialsMode">
            <div layout="row" layout-align="start start" class="width100">
                Credentials & Highlights
            </div>
            <div layout="row" layout-align="start center" class="width100 marginT20">
                <div flex="25" layout="column" layout-align="start start">
                    <div>
                        Add profile credential
                    </div>
                    <div class="editFont font10 ">
                        Credentials also appear on blogs you write
                    </div>
                </div>
                <div flex>
                    <input type="text" class="font12 width100" ng-model="user.blogger.profileCredential"  placeholder="mechanical engineer, electric car enthusiast" >
                </div>
            </div>
            <div layout="row" layout-align="end center" class="width100" >
                <md-button class="md-raised md-primary" ng-click="saveBlogger()">
                     Save
                </md-button>
            </div>
        </div>
        <div layout="row" layout-align="center center" class="width100 font12 marginTB10" ng-if="masterUser">
            <div ng-click="sanitizeblogposts()" class="danger">Sanitize All Blogs</div>
            
        </div>
    </div>
    <div layout="column" layout-align="center start" layout-wrap class="blogFont font12 width100 paddingTB20 paddingLR20 gainsboroBorder">
        <div layout="row" layout-align="start center" class="width100 font20 bold marginB20">
            <div ng-if="user.userType == 'Master'">
                All Blogs
            </div>
            <div ng-if="user.userType != 'Master'">
                {{user.basic.name}}'s Blog Posts
            </div>
            <div flex layout="row" layout-align="end center">
                <md-button class="md-black md-small font10 tolowercase" href="https://exambazaar.com/blogpost/blog-basics" target="_blank">
                    Blog Basics
                </md-button>
            </div>
        </div>
        <div layout="row" layout-align="start center" class="width100 marginB10 bold gainsboroBottomBorder paddingTB5">
            <div layout="row" layout-align="start center" flex="5">
                S. No.
            </div>
            <div layout="row" layout-align="start center" flex="30" class="paddingLR10">
                Blog Title
            </div>
            <div layout="row" layout-align="start center" flex="15">
                Author
            </div>
            <div layout="row" layout-align="start center" flex="10">
                Created on
            </div>
            <div layout="row" layout-align="start center" flex="10" >
                Edit/Preview
            </div>
            <div layout="row" layout-align="start center" flex="5" >
                Active
            </div>
            <div layout="row" layout-align="start center" flex="5">
                Clone
            </div>
            <div layout="row" layout-align="start center" flex="10" ng-if="masterUser">
                Upvotes
            </div>
            <div layout="row" layout-align="start center" flex="5" ng-if="masterUser">
                Save
            </div>
            <div layout="row" layout-align="start center" flex="5" ng-if="masterUser">
                Remove
            </div>
        </div>
        <div layout="row" layout-align="start center" ng-repeat="thisblog in userBlogs | orderBy: '-upvotes'" class="width100 greyDashedBottomBorder paddingTB5">
            <div layout="row" layout-align="start center" flex="5">
                {{$index + 1}}.
            </div>
            <div layout="row" layout-align="start center" flex="30" class=" paddingLR10">
                <a class="text-primary" ng-click="previewBlogPost(thisblog)" id="copyLink">
                    {{thisblog.title}}
                </a>
            </div>
            <div layout="row" layout-align="start center" flex="15" ng-if="!masterUser">
                {{thisblog.user.basic.name}}
            </div>
            <div layout="row" layout-align="start center" flex="15" ng-if="masterUser">
                
                <md-input-container class="width75 text-primary">
                  <md-select ng-model="thisblog.user._id"  placeholder="Select Blogger">
                    <md-option ng-value="blogger._id" ng-repeat="blogger in allBloggers | orderBy: 'basic.name'" class="text-primary">
                      {{blogger.basic.name}}
                    </md-option>
                  </md-select>
                </md-input-container>
            </div>
            <div layout="row" layout-align="start center" flex="10">
                {{thisblog._created | date: "dd MMMM" }}
            </div>
            <div layout="column" layout-align="center start" flex="10">
                <a class="danger" ng-click="editBlogPost(thisblog)" id="copyLink">
                    Edit
                </a>
            </div>
            <div layout="row" layout-align="start center" flex="5" >
                {{thisblog.active}}
            </div>
            <div layout="row" layout-align="start center" flex="5">
                <i class="fa fa-clone" aria-hidden="true" ng-click="cloneConfirm(thisblog)"></i>
            </div>
            <div layout="row" layout-align="start center" flex="10" ng-if="masterUser">
                {{thisblog.upvotes}}&nbsp;&nbsp;
                <i class="fa fa-arrow-circle-up" aria-hidden="true" ng-click="randomUpvotes(thisblog)" ng-if="user.basic.name =='Gaurav Parashar'"></i>
            </div>
            <div layout="row" layout-align="start center" flex="5" ng-if="masterUser">
                <i class="fa fa-floppy-o" aria-hidden="true" ng-click="updateConfirm(thisblog)"></i>
            </div>
            <div layout="row" layout-align="start center" flex="5" ng-if="masterUser">
                <i class="fa fa-times-circle danger" aria-hidden="true" ng-click="removeConfirm(thisblog)"></i>
            </div>
            
            
        </div>
        
    </div>
    <div layout="row" layout-align="start center" class="width100 marginB10 paddingB10">
        <div layout="row" layout-align="end center" flex class="font14 marginR10">
            Inspire others by writing amazing blog posts for the Exambazaar community
        </div>
        <div layout="row" layout-align="start center">
            <md-button class="md-danger md-small font10" ng-click="newBlogPost()">
                Write a new blog post
            </md-button>
        </div>

    </div>
    
    
</div>
    
<div flex-xs="100" flex-gt-xs="80" layout="column" layout-align="center center" class="paddingTB20 width100" ng-if="!user">
    <div layout="column" layout-align="center center" class="width100 paddingTB10 marginB10 gainsboroBottomBorder">
        <div layout="row" layout-align="center center" class="width100 font20 danger">
            You need to be logged in to be able to post!
        </div>
    </div>
    
</div>
</div>

<div style="visibility: hidden">    
<div class="md-dialog-container" id="copiedDialog">
  <md-dialog>
      <div layout="row" layout-xs="column" layout-padding layout-align="center center" id="dialogHeaderWhite" >
        <div layout="column" layout-align="center center" class="margin10 padding5">
            <div layout="row" layout-align="center center" class="margin10 padding5">    
                <span class="text-primary md-headline">
                <i class="fa fa-check-square" aria-hidden="true"></i>
                </span>
                <span class="md-title">
                Copied!
                </span>
            </div>
            <div layout="row" layout-align="center center" class="editFont font10 danger margin10 padding5">
                {{copiedText}}
            </div>
        </div>
      </div>
  </md-dialog>
</div>
</div>
<div style="visibility: hidden">    
    <div class="md-dialog-container" id="savedDialog">
      <md-dialog>
          <div layout="row" layout-xs="column" layout-padding layout-align="center center" id="dialogHeaderWhite" >
              <div class="margin20 padding10">
                <span class="text-primary md-headline">
                  <i class="fa fa-check-square" aria-hidden="true"></i>
                </span>
                <span class="md-title">
                    Changes Saved!
                </span>
                
              </div>
          </div>
      </md-dialog>
    </div>    
</div>