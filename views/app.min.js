function generateOtp(e,t){return e=1e3,t=9999,Math.floor(Math.random()*(t-e+1))+e}function compare(e,t){var r=moment(e,"DD/MM/YYYY"),o=moment(t,"DD/MM/YYYY");return r>o?1:o>r?-1:0}var exambazaar=angular.module("exambazaar",["ui.router","ngMaterial","ngAria","material.svgAssetsCache","angular-loading-bar","ngAnimate","ngCookies","angularMoment","ngSanitize","angularFileUpload","ngGeolocation","ngMap","ngHandsontable","duScroll","ngFileUpload","youtube-embed","ngtweet","ngFacebook","ui.bootstrap","720kb.socialshare","angular-clipboard","mgcrea.bootstrap.affix"]);!function(){"use strict";function e(e,t,r,o,a,n,i,s,l,c){t.hideLoginDialog(),s.getObject("location")&&(t.location=s.getObject("location")),t.streams=e.data,c.pageTitle="Exambazaar: Select your Exam Stream",c.pageDescription="Select your exam stream from Engineering, Medical, CA & CS, School, Mba, Law, Foreign Education, Civil Services, SSC, Bank, Defence, Insurance, Financial Certification",c.pageKeywords="Exambazaar, Best Coaching India, Coaching Reviews, Engineering Coaching, Medical Coaching, CA & CS Coaching, NTSE Coaching, CAT Coaching, CLAT Coaching, SAT GMAT Coaching, IAS Coaching, SSC Coaching, Bank PO Coaching, Defence Coaching"}function t(e,t,r){return r.indexOf(e)===t}angular.module("exambazaar").config(function(e,t){e.theme("default").primaryPalette("teal"),t.setAppId("1236747093103286"),t.setPermissions("public_profile,email")}).controller("streamController",e),exambazaar.constant("cities",["Jaipur","Hyderabad","Noida","Ajmer","Alwar","Kota","Bikaner","Ganganagar","Sikar","Bhilwara","Juhnjhunu","New Delhi","Delhi","Lucknow","Indore","Bhopal","Roorkee","Thrissur","Mohali","Patiala","Ahmedabad","Vadodara","Surat","Rajkot","Ghaziabad","Agra","Dehradun","Meerut","Allahabad","Amritsar","Bangalore","Guwahati","Kolkata","Gwalior","Pune","Trivandrum","Mumbai","Rohtak","Nasik","Kurukshetra","Shimla","Kanpur","Ludhiana","Coimbatore","Ambala","Mathura","Patna","Mysore","Chandigarh","Chennai","Vishakhapatnam","Vellore"]),exambazaar.constant("categories",[{displayname:"Engineering",name:"engineering",sub:"JEE Main, JEE Advanced, BITSAT, NATA, GATE and more",subcategory:[{name:"jee",displayname:"JEE Main & Advanced"},{name:"bitsat",displayname:"BITSAT"},{name:"nata",displayname:"NATA"},{name:"gate",displayname:"GATE"}]},{displayname:"Medical",name:"medical",sub:"AIIMS, NEET UG, JIPMER, AFMC, PGIMER and more",subcategory:[{name:"aipmt",displayname:"NEET UG"},{name:"aiims",displayname:"AIIMS"},{name:"afmc",displayname:"AFMC"}]},{displayname:"CA & CS",name:"cacs",sub:"CA CPT, CA IPCC, CA Final, CS Foundation Exam and more",subcategory:[{name:"ca cpt",displayname:"CA CPT"},{name:"cs foundation exam",displayname:"CS Foundation Exam"}]},{displayname:"School",name:"school",sub:"NTSE, NSE, KVPY, IMO, NSO and more",subcategory:[{name:"ntse",displayname:"NTSE",description:"NTSE is a National Level scholarship program to identify and nurture talented students. Close to 500,000 students appear in this scholarship exam every year, and 1000 scholarships are awarded"}]},{displayname:"MBA",name:"mba",sub:"CAT, XAT, CMAT, SNAP and more",subcategory:[{name:"cat",displayname:"CAT"},{name:"xat",displayname:"XAT"},{name:"snap",displayname:"SNAP"}]},{displayname:"Law",name:"law",sub:"CLAT, AILET, LSAT, CBS and more",subcategory:[{name:"clat",displayname:"CLAT"},{name:"ailet",displayname:"AILET"},{name:"lsat",displayname:"LSAT"}]},{displayname:"Foreign Education",name:"foreigneducation",sub:"IELTS, GRE, GMAT, SAT, TOEFL and more",subcategory:[{name:"sat",displayname:"SAT"},{name:"gmat",displayname:"GMAT"},{name:"gre",displayname:"GRE"},{name:"ielts",displayname:"IELTS"},{name:"toefl",displayname:"TOEFL"}]},{displayname:"Civil Services",name:"civilservices",sub:"CSE, IPS Ltd. Competitive Exam, UPSC CAPF Exam, IES/ISS Exam, IFS Exam, SCRA and more",subcategory:[{name:"Civil Services Exam",displayname:"Civil Services Exam"},{name:"ies/iss exam",displayname:"IES/ISS Exam"},{name:"ifs exam",displayname:"IFS Exam"}]},{displayname:"SSC",name:"ssc",sub:"SSC CPO (S.I) Exam, SSC CGLE, SSC JE, SSC CHSL Exam, SSC CMLE and more",subcategory:[{name:"ssc cpo",displayname:"SSC CPO (S.I) Exam"},{name:"ssc cgle",displayname:"SSC CGLE"},{name:"ssc je",displayname:"SSC JE"},{name:"ssc chsl",displayname:"SSC CHSL"},{name:"ssc cmle",displayname:"SSC CMLE"}]},{displayname:"Bank",name:"bank",sub:"Bank Clerical Exam, Bank PO Exam, RBI Exam, SBI PO Exam, IBPS Clerk CWE and more",subcategory:[{name:"Bank Clerical Exam",displayname:"Bank Clerical Exam"},{name:"Bank PO Exam",displayname:"Bank PO Exam"},{name:"RBI Exam",displayname:"RBI Exam"},{name:"SBI PO Exam",displayname:"SBI PO Exam"},{name:"IBPS Clerk CWE",displayname:"IBPS Clerk CWE"}]},{displayname:"Defense",name:"defense",sub:"CDS Exam, NDA Exam, AFCAT, I.A.F. Exam, I.N.A Exam and more",subcategory:[{name:"cds exam",displayname:"CDS Exam"},{name:"nda exam",displayname:"NDA Exam"},{name:"afcat",displayname:"AFCAT"},{name:"i.a.f. exam",displayname:"I.A.F. Exam"},{name:"i.n.a exam",displayname:"I.N.A Exam"}]},{displayname:"Insurance",name:"insurance",sub:"IRDA Exam, G.I.C Exam, LIC, L.I.C D.O and more",subcategory:[{name:"IRDA Exam",displayname:"IRDA Exam"},{name:"G.I.C Exam",displayname:"G.I.C Exam"},{name:"LIC",displayname:"LIC"},{name:"L.I.C D.O",displayname:"L.I.C D.O"}]}]),exambazaar.service("UserService",["$http",function(e){this.saveUser=function(t){return e.post("/api/users/save",t)},this.deliverVoucher=function(t){return e.post("/api/users/deliverVoucher",t)},this.sendReferrals=function(t){return e.post("/api/users/sendReferrals",t)},this.fbSave=function(t){return e.post("/api/users/fbSave",t)},this.getUser=function(t){return e.get("/api/users/edit/"+t,{userId:t})},this.getEmails=function(t){return e.get("/api/users/emails/"+t,{userId:t})},this.getPartner=function(t){return e.get("/api/users/editPartner/"+t,{userId:t})},this.getUserBasic=function(t){return e.get("/api/users/editBasic/"+t,{userId:t})},this.getUserShortlisted=function(t){return e.get("/api/users/editShortlist/"+t,{userId:t})},this.getUserShortlistedInstitutes=function(t){return e.get("/api/users/userShortlist/"+t,{userId:t})},this.getUsers=function(){return e.get("/api/users")},this.getInterns=function(){return e.get("/api/users/interns")},this.getUserFilled=function(t){return e.get("/api/users/editFilled/"+t,{userId:t})},this.userexists=function(t){return e.get("/api/users/userexists/"+t,{mobile:t})},this.referexists=function(t){return e.get("/api/users/referexists/"+t,{mobile:t})},this.markLogin=function(t){return e.post("/api/users/markLogin",t)},this.markLatLng=function(t){return e.post("/api/users/markLatLng",t)},this.shortlistInstitute=function(t){return e.post("/api/users/shortlistInstitute",t)},this.addPic=function(t){return e.post("/api/users/addPic",t)},this.getUsersCount=function(){return e.get("/api/users/count")},this.getVerfiedUsersCount=function(){return e.get("/api/users/verfiedCount")},this.getStudentCount=function(){return e.get("/api/users/studentcount")},this.updatePassword=function(t){return e.post("/api/users/updatePassword",t)}}]),exambazaar.service("EmailService",["$http",function(e){this.getEmails=function(){return e.get("/api/emails")},this.send=function(t){return e.post("/api/emails/send",t)},this.sendGrid=function(t){return e.post("/api/emails/sendGrid",t)},this.welcomeEmail=function(t){return e.post("/api/emails/welcomeEmail",t)}}]),exambazaar.service("EligibilityService",["$http",function(e){this.bulksaveEligibility=function(t){return e.post("/api/eligibilitys/bulksave",t)},this.getEligibility=function(t){return e.get("/api/eligibilitys/edit/"+t,{eligibilityId:t})},this.getEligibilities=function(){return e.get("/api/eligibilitys")}}]),exambazaar.service("ExamService",["$http",function(e){this.saveExam=function(t){return e.post("/api/exams/save",t)},this.getExam=function(t){return e.get("/api/exams/edit/"+t,{examId:t})},this.getExams=function(){return e.get("/api/exams")},this.getStreamExams=function(t){return e.get("/api/exams/stream/"+t,{streamName:t})},this.getExamByName=function(t){return e.get("/api/exams/exam/"+t,{examName:t})},this.addLogo=function(t){return e.post("/api/exams/addLogo",t)}}]),exambazaar.service("SendGridService",["$http",function(e){this.saveSendGridCredential=function(t){return e.post("/api/sendGridCredentials/save",t)},this.getSendGridCredential=function(t){return e.get("/api/sendGridCredentials/edit/"+t,{sendGridCredentialId:t})},this.getOneSendGridCredential=function(){return e.get("/api/sendGridCredentials/getOne")},this.getSendGridCredentials=function(){return e.get("/api/sendGridCredentials")}}]),exambazaar.service("subscriberService",["$http",function(e){this.saveSubscribers=function(t){return e.post("/api/subscribers/bulksave",t)},this.sendReviewInvites=function(t){return e.post("/api/subscribers/sendReviewInvites",t)},this.getSubscriber=function(t){return e.get("/api/subscribers/edit/"+t,{subscriberId:t})},this.getSubscribers=function(){return e.get("/api/subscribers")}}]),exambazaar.service("AwsCredentialService",["$http",function(e){this.saveAwsCredential=function(t){return e.post("/api/awsCredentials/save",t)},this.getAwsCredential=function(t){return e.get("/api/awsCredentials/edit/"+t,{awsCredentialId:t})},this.getActiveAwsCredential=function(){return e.get("/api/awsCredentials/getOne")},this.getAwsCredentials=function(){return e.get("/api/awsCredentials")}}]),exambazaar.service("MediaTagService",["$http",function(e){this.saveMediaTags=function(t){return e.post("/api/mediaTags/bulksave",t)},this.getMediaTag=function(t){return e.get("/api/mediaTags/edit/"+t,{mediaTagId:t})},this.getMediaTagByType=function(t){return e.get("/api/mediaTags/mediaType/"+t,{mediaType:t})},this.getMediaTags=function(){return e.get("/api/mediaTags")},this.getMediaTypes=function(){return e.get("/api/mediaTags/mediaTypes/")}}]),exambazaar.service("GroupService",["$http",function(e){this.saveGroups=function(t){return e.post("/api/groups/bulksave",t)},this.getGroup=function(t){return e.get("/api/groups/edit/"+t,{groupId:t})},this.getGroups=function(){return e.get("/api/groups")}}]),exambazaar.service("cisavedService",["$http",function(e){this.savecisaved=function(t){return e.post("/api/cisaveds/save",t)},this.institutesSaved=function(){return e.get("/api/cisaveds/institutesSaved")},this.savedCount=function(){return e.get("/api/cisaveds/savedCount")},this.getcisaved=function(t){return e.get("/api/cisaveds/edit/"+t,{cisavedId:t})},this.getcisaveds=function(){return e.get("/api/cisaveds")}}]),exambazaar.service("ipService",["$http",function(e){this.getip=function(){return e.get("https://freegeoip.net/json/")}}]),exambazaar.service("viewService",["$http",function(e){this.saveview=function(t){return e.post("/api/views/save",t)},this.masterViewSummary=function(){return e.get("/api/views/masterViewSummary")},this.getview=function(t){return e.get("/api/views/edit/"+t,{viewId:t})},this.getviews=function(){return e.get("/api/views")},this.getuserviews=function(t){return e.get("/api/views/user/"+t,{userId:t})},this.getinstituteviews=function(t){return e.get("/api/views/institute/"+t,{instituteId:t})}}]),exambazaar.service("tofillciService",["$http",function(e){this.sendEmails=function(){return e.get("/api/tofillcis/sendEmails")},this.savetofillci=function(t){return e.post("/api/tofillcis/save",t)},this.markDone=function(t){return e.post("/api/tofillcis/markDone",t)},this.filledCount=function(){return e.get("/api/tofillcis/filledCount")},this.institutesFilled=function(){return e.get("/api/tofillcis/institutesFilled")},this.gettofillci=function(t){return e.get("/api/tofillcis/edit/"+t,{tofillciId:t})},this.prevFilled=function(t){return e.get("/api/tofillcis/prevFilled/"+t,{groupName:t})},this.removeAssigned=function(t){e.get("/api/tofillcis/remove/"+t,{tofillciId:t})},this.gettofillcis=function(){return e.get("/api/tofillcis")},this.getusertofillcis=function(t){return e.get("/api/tofillcis/user/"+t,{userId:t})}}]),exambazaar.service("reviewService",["$http",function(e){this.savereview=function(t){return e.post("/api/reviews/save",t)},this.existingReview=function(t){return e.post("/api/reviews/existingReview",t)},this.groupReviews=function(t){return e.post("/api/reviews/groupReviews",t)},this.reviewsCount=function(){return e.get("/api/reviews/reviewsCount")},this.getreview=function(t){return e.get("/api/reviews/edit/"+t,{reviewId:t})},this.removereview=function(t){e.get("/api/reviews/remove/"+t,{reviewId:t})},this.getreviews=function(){return e.get("/api/reviews")},this.getuserReviews=function(t){return e.get("/api/reviews/user/"+t,{userId:t})}}]),exambazaar.service("rateInstituteService",["$http",function(e){this.saverateInstitute=function(t){return e.post("/api/rateInstitutes/save",t)},this.markDone=function(t){return e.post("/api/rateInstitutes/markDone",t)},this.ratedCount=function(){return e.get("/api/rateInstitutes/ratedCount")},this.institutesRated=function(){return e.get("/api/rateInstitutes/institutesRated")},this.getrateInstitute=function(t){return e.get("/api/rateInstitutes/edit/"+t,{rateInstituteId:t})},this.prevRated=function(t){return e.get("/api/rateInstitutes/prevRated/"+t,{groupName:t})},this.removeAssigned=function(t){e.get("/api/rateInstitutes/remove/"+t,{rateInstituteId:t})},this.getrateInstitutes=function(){return e.get("/api/rateInstitutes")},this.getuserrateInstitute=function(t){return e.get("/api/rateInstitutes/user/"+t,{userId:t})}}]),exambazaar.service("addContactInfoService",["$http",function(e){this.saveaddContactInfo=function(t){return e.post("/api/addContactInfos/save",t)},this.markDone=function(t){return e.post("/api/addContactInfos/markDone",t)},this.changeUser=function(){return e.get("/api/addContactInfos/changeUser")},this.verifiedCount=function(){return e.get("/api/addContactInfos/verifiedCount")},this.institutesFilled=function(){return e.get("/api/addContactInfos/institutesFilled")},this.getaddContactInfo=function(t){return e.get("/api/addContactInfos/edit/"+t,{addContactInfoId:t})},this.removeAssigned=function(t){e.get("/api/addContactInfos/remove/"+t,{addContactInfoId:t})},this.getaddContactInfos=function(){return e.get("/api/addContactInfos")},this.getuseraddContactInfos=function(t){return e.get("/api/addContactInfos/user/"+t,{userId:t})}}]),exambazaar.service("toverifyciService",["$http",function(e){this.savetoverifyci=function(t){return e.post("/api/toverifycis/save",t)},this.markDone=function(t){return e.post("/api/toverifycis/markDone",t)},this.changeUser=function(){return e.get("/api/toverifycis/changeUser")},this.verifiedCount=function(){return e.get("/api/toverifycis/verifiedCount")},this.institutesFilled=function(){return e.get("/api/toverifycis/institutesFilled")},this.gettoverifyci=function(t){return e.get("/api/toverifycis/edit/"+t,{toverifyciId:t})},this.removeAssigned=function(t){e.get("/api/toverifycis/remove/"+t,{toverifyciId:t})},this.gettoverifycis=function(){return e.get("/api/toverifycis")},this.getusertoverifycis=function(t){return e.get("/api/toverifycis/user/"+t,{userId:t})}}]),exambazaar.service("suggestCoachingService",["$http",function(e){this.savesuggestCoaching=function(t){return e.post("/api/suggestCoachings/save",t)},this.markDone=function(t){return e.post("/api/suggestCoachings/markDone",t)},this.getsuggestCoaching=function(t){return e.get("/api/suggestCoachings/edit/"+t,{suggestCoachingId:t})},this.getsuggestCoachings=function(){return e.get("/api/suggestCoachings")},this.getusersuggestCoachings=function(t){return e.get("/api/suggestCoachings/user/"+t,{userId:t})}}]),exambazaar.service("LocationService",["$http",function(e){this.saveLocation=function(t){return e.post("/api/locations/save",t)},this.saveLocations=function(t){return e.post("/api/locations/bulksave",t)},this.getLocation=function(t){return e.get("/api/locations/edit/"+t,{examId:t})},this.getLocations=function(){return e.get("/api/locations")},this.getCityLocations=function(t){return e.get("/api/locations/city/"+t,{cityName:t})},this.getCities=function(){return e.get("/api/locations/cities/")}}]),exambazaar.service("ImageService",["$http",function(e){this.saveImage=function(t){return e.post("/api/images/save",t)},this.s3Credentials=function(t){return e.post("/api/images/s3Credentials",t)},this.saveImages=function(t){return e.post("/api/images/bulksave",t)},this.getImage=function(t){return e.get("/api/images/edit/"+t,{imageId:t})},this.getImages=function(){return e.get("/api/images")}}]),exambazaar.service("couponService",["$http",function(e){this.saveCoupon=function(t){return e.post("/api/coupons/save",t)},this.getCoupon=function(t){return e.get("/api/coupons/edit/"+t,{couponId:t})},this.nameExists=function(t){return e.post("/api/coupons/nameExists/",t)},this.getOneActiveCouponCode=function(t){return e.post("/api/coupons/getOneActiveCouponCode/",t)},this.deliver=function(t){return e.post("/api/coupons/deliver/",t)},this.getCoupons=function(){return e.get("/api/coupons")},this.databaseServices=function(){return e.get("/api/coupons/databaseServices")},this.getAllCodes=function(){return e.get("/api/coupons/allCodes")},this.couponsCount=function(){return e.get("/api/coupons/couponsCount")},this.issuedcouponsCount=function(){return e.get("/api/coupons/issuedcouponsCount")},this.getOneOfEachActiveCoupon=function(){return e.get("/api/coupons/oneOfEachActiveCoupon")},this.getProviderCoupons=function(t){return e.get("/api/coupons/providerCoupons/"+t,{providerId:t})},this.getCouponByName=function(t){return e.get("/api/coupons/coupon/"+t,{couponName:t})}}]),exambazaar.service("offerService",["$http",function(e){this.saveOffer=function(t){return e.post("/api/offers/save",t)},this.getOffer=function(t){return e.get("/api/offers/edit/"+t,{offerId:t})},this.nameExists=function(t){return e.post("/api/offers/nameExists/",t)},this.getOffers=function(){return e.get("/api/offers")},this.getActiveOffers=function(){return e.get("/api/offers/activeOffers")},this.getActiveOffersBasic=function(){return e.get("/api/offers/activeOffersBasic")},this.getActiveOffersMedium=function(){return e.get("/api/offers/activeOffersMedium")},this.getProviderOffers=function(t){return e.get("/api/offers/providerOffers/"+t,{providerId:t})},this.getOfferByName=function(t){return e.get("/api/offers/offer/"+t,{offerName:t})}}]),exambazaar.service("StreamService",["$http",function(e){this.saveStream=function(t){return e.post("/api/streams/save",t)},this.getStream=function(t){return e.get("/api/streams/edit/"+t,{streamId:t})},this.getStreams=function(){return e.get("/api/streams")},this.getStreamByName=function(t){return e.get("/api/streams/stream/"+t,{streamName:t})}}]),exambazaar.service("ProviderService",["$http",function(e){this.getProviders=function(t){return e.get("/api/providers/"+t,{city:t})},this.removeDuplicates=function(t){return e.get("/api/providers/edit/removeDuplicates/"+t,{city:t})}}]),exambazaar.service("targetStudyProviderService",["$http",function(e){this.getProviders=function(t){return e.get("/api/targetStudyProviders/city/"+t,{city:t})},this.allResults=function(t){return e.get("/api/targetStudyProviders/allResults/"+t,{examId:t})},this.getProvidersWithAreas=function(){return e.get("/api/targetStudyProviders/providersWithAreas")},this.coachingAddressService=function(){return e.get("/api/targetStudyProviders/coachingAddressService")},this.searchProviders=function(t){return e.get("/api/targetStudyProviders/query/"+t,{query:t})},this.searchCoachingGroupProviders=function(t){return e.get("/api/targetStudyProviders/coachingGroupQuery/"+t,{query:t})},this.searchCityProviders=function(t){return e.post("/api/targetStudyProviders/cityQuery",t)},this.showGroupHelper=function(t){return e.post("/api/targetStudyProviders/showGroupHelper",t)},this.searchCityReviewProviders=function(t){return e.post("/api/targetStudyProviders/cityReviewQuery",t)},this.cityGroupExamQueryForm=function(t){return e.post("/api/targetStudyProviders/cityGroupExamQuery",t)},this.bulkSaveLatLng=function(t){return e.post("/api/targetStudyProviders/bulkSaveLatLng",t)},this.checkLogo=function(t){return e.get("/api/targetStudyProviders/checkLogo/"+t,{pageNumber:t})},this.bulkCheckLogos=function(t){return e.post("/api/targetStudyProviders/bulkCheckLogos",t)},this.bulkDisableProviders=function(t){return e.post("/api/targetStudyProviders/bulkDisableProviders",t)},this.groupProviders=function(t){return e.get("/api/targetStudyProviders/group/"+t,{query:t})},this.addFaculty=function(t){return e.post("/api/targetStudyProviders/addFaculty",t)},this.addManagement=function(t){return e.post("/api/targetStudyProviders/addManagement",t)},this.removeManagement=function(t){return e.post("/api/targetStudyProviders/removeManagement",t)},this.addPrimaryManagement=function(t){return e.post("/api/targetStudyProviders/addPrimaryManagement",t)},this.addResult=function(t){return e.post("/api/targetStudyProviders/addResult",t)},this.bulkAddResult=function(t){return e.post("/api/targetStudyProviders/bulkAddResult",t)},this.addPhoto=function(t){return e.post("/api/targetStudyProviders/addPhoto",t)},this.addLogo=function(t){return e.post("/api/targetStudyProviders/addLogo",t)},this.addResultPic=function(t){return e.post("/api/targetStudyProviders/addResultPic",t)},this.addVideo=function(t){return e.post("/api/targetStudyProviders/addVideo",t)},this.changeProvidersStartingWith=function(t){return e.get("/api/targetStudyProviders/changeProvidersStartingWith/"+t,{startsWith:t})},this.getCourseProviders=function(t){return e.post("/api/targetStudyProviders/cityCourse",t)},this.getProvider=function(t){return e.get("/api/targetStudyProviders/coaching/"+t,{coachingId:t})},this.getProviderReview=function(t){return e.get("/api/targetStudyProviders/coachingreview/"+t,{coachingId:t})},this.getGroupInfo=function(t){return e.get("/api/targetStudyProviders/getGroupInfo/"+t,{coachingId:t})},this.getGroupCity=function(t){return e.post("/api/targetStudyProviders/coachingGroup/",t)},this.getProviderBasic=function(t){return e.get("/api/targetStudyProviders/basiccoaching/"+t,{coachingId:t})},this.getGroupName=function(t){return e.get("/api/targetStudyProviders/getGroupName/"+t,{coachingId:t})},this.getProviderFillSummary=function(t){return e.get("/api/targetStudyProviders/fillSummary/"+t,{coachingId:t})},this.cisavedUsers=function(t){return e.get("/api/targetStudyProviders/cisavedUsers/"+t,{coachingId:t})},this.setEBVerifyState=function(t){return e.post("/api/targetStudyProviders/setEBVerifyState",t)},this.setEBContactInfoState=function(t){return e.post("/api/targetStudyProviders/setEBContactInfoState",t)},this.saveProvider=function(t){return e.post("/api/targetStudyProviders/savecoaching",t)},this.bulkSaveProviders=function(t){return e.post("/api/targetStudyProviders/bulksavecoaching",t)},this.getCount=function(){return e.get("/api/targetStudyProviders/count")},this.getCityCount=function(){return e.get("/api/targetStudyProviders/cityCount")},this.getCityProviderCount=function(t){return e.get("/api/targetStudyProviders/cityProviderCount/"+t,{city:t})},this.getCities=function(){return e.get("/api/targetStudyProviders/cities")},this.providercities=function(t){return e.get("/api/targetStudyProviders/providercities/"+t,{query:t})},this.getWebsites=function(){return e.get("/api/targetStudyProviders/websites")},this.uprank=function(t){return e.get("/api/targetStudyProviders/uprank/"+t,{targetStudyProviderId:t})},this.downrank=function(t){return e.get("/api/targetStudyProviders/downrank/"+t,{targetStudyProviderId:t})},this.cleanTargetstudyurls=function(){return e.get("/api/targetStudyProviders/cleanTargetstudyurls")},this.rank0=function(){return e.get("/api/targetStudyProviders/setRank0")},this.logoService=function(){return e.get("/api/targetStudyProviders/logoService")},this.databaseService=function(){return e.get("/api/targetStudyProviders/databaseService")},this.sandbox2Service=function(t){return e.get("/api/targetStudyProviders/sandbox2Service/"+t,{city:t})},this.UniqueLogoService=function(){return e.get("/api/targetStudyProviders/UniqueLogoService")},this.allDistinct=function(){return e.get("/api/targetStudyProviders/allDistinct")},this.getAllCourses=function(){return e.get("/api/targetStudyProviders/getAllCourses")},this.removeDuplicates=function(t){return e.get("/api/targetStudyProviders/edit/removeDuplicates/"+t,{city:t})}}]),exambazaar.service("NotificationService",["$http",function(e){this.markRead=function(t){return e.post("/api/notifications/markRead",t)}}]),exambazaar.service("MasterService",["$http",function(e){this.addIntern=function(t){return e.post("/api/masters/addIntern/",t)}}]),exambazaar.service("StudentService",["$http",function(e){this.saveStudent=function(t){return e.post("/api/students/save",t)},this.saveStudents=function(t){return e.post("/api/students/bulksave",t)},this.getStudent=function(t){return e.get("/api/students/edit/"+t,{studentId:t})},this.getStudentAttendance=function(t){return e.get("/api/students/attendance/"+t,{studentId:t})},this.getStudentNotification=function(t){return e.get("/api/students/notification/"+t,{studentId:t})},this.getStudents=function(){return e.get("/api/students")},this.getStudentsCount=function(){return e.get("/api/students/count")}}]),exambazaar.service("SMSService",["$http",function(e){this.sendSMS=function(t){return e.post("/api/smss/send",t)}}]),exambazaar.service("OTPService",["$http",function(e){this.generateOTP=function(t){return e.post("/api/otps/generate",t)}}]),exambazaar.service("ProfilePicService",["$http",function(e){this.saveProfilePic=function(t){return e.post("/api/profilePics/add",t)}}]),exambazaar.controller("signupController",["$scope","$stateParams","$cookies","$state","OTPService","UserService","$mdDialog",function(e,t,r,o,a,n,i){i.hide(),e.button1="Start",e.button2="Verify",e.button3="Finish",e.step1=!0,e.step2=!1,e.step3=!1,e.verifyPhone=function(){e.generateUserOTP()},e.verifyOTP=function(){e.newUser.OTP==e.setOTP?(e.step2=!1,e.step3=!0):e.OTPmessage="The OTP you have entered is incorrect."},e.addUser=function(){e.newUser.userType="Student",e.newUser.verified=!0;n.saveUser(e.newUser).success(function(e){var t=e,a={userId:t._id,masterId:t._id,facebookId:t.facebookId,userType:t.userType,basic:t.basic,image:t.image,mobile:t.mobile,email:t.email};r.putObject("sessionuser",a),o.go("main")}).error(function(e,t){console.info("Error "+e+" "+t)})},e.generateUserOTP=function(){n.userexists(e.newUser.contact.mobile).success(function(t){var r=t;if(console.info(r),r)e.userExistMessage="User with mobile "+e.newUser.contact.mobile+" already exists!";else{var o={mobile:e.newUser.contact.mobile,otp:generateOtp(),reason:"Signup"};a.generateOTP(o).success(function(t){e.enterOTP=!0,e.setOTP=t.otp,console.info("OTP sent to mobile "+o.mobile)}).error(function(){}),e.OTPgenerated=!0,e.step1=!1,e.step2=!0,e.enterOTP=!1}}).error(function(e,t){console.info("Error "+e+" "+t)})}}]),exambazaar.controller("categoryController",["$scope","$stateParams","$cookies","$state","categories","$rootScope","examList",function(e,t,r,o,a,n,i){e.hideLoginDialog(),e.exams=i.data,e.categoryName=t.categoryName,e.exams[0].stream&&(e.category=e.exams[0].stream);var s="",l="";e.exams.forEach(function(t,r){s+=t.displayname,l+=t.displayname+" Coaching",r<e.exams.length-1&&(s+=", ",l+=", ")}),n.pageTitle="Choose exam within "+e.category.displayname+" Stream",n.pageDescription="Study for "+s+" at the best coaching institutes across 90 cities of India | Exambazaar - results, fees, faculty, photos, vidoes, reviews of Coaching Institutes in India";var c="Exambazaar "+e.category.displayname+" Coaching, Best "+e.category.displayname+" Coaching Institutes, Top "+e.category.displayname+" Coaching Centre, "+e.category.displayname+" Coaching in India, ";n.pageKeywords="Exambazaar, "+c+l}]),exambazaar.controller("landingController",["$scope","$stateParams","$cookies","$state","categories","$rootScope","metaService","$mdDialog",function(e,t,r,o,a,n){e.hideLoginDialog(),e.number=24,e.getNumber=function(e){return new Array(e)},e.categoryName=t.categoryName,e.category={},e.subcategory=[],n.pageTitle="Exambazaar: Find best coaching institutes in your city for more than 50 exams",n.pageDescription="Search and apply to the best coaching institutes and get the education that you deserve. Browse through courses, photos, videos and results for 26000+ institutes in 90+ cities",n.pageKeywords="Exambazaar, Best Coaching Institutes, Top Coaching Centre, Coaching Reviews, Engineering Coaching, Medical Coaching, CA & CS Coaching, NTSE Coaching, CAT Coaching, CLAT Coaching, SAT GMAT Coaching, IAS Coaching, SSC Coaching, Bank PO Coaching, Defence Coaching",e.goToCity=function(e){r.putObject("subcategory",e),o.go("city")}}]),exambazaar.controller("cityController",["$scope","$stateParams","$cookies","$state","cities","$rootScope","categories","$mdDialog","thisStream","thisExam",function(e,t,r,o,a,n,i,s,l,c){e.hideLoginDialog(),e.rankedCities=["Delhi","Mumbai","New Delhi","Ahmedabad","Chennai","Kolkata","Hyderabad","Pune","Bangalore","Chandigarh","Jaipur","Agra","Ajmer","Allahabad","Alwar","Ambala","Amritsar","Bhilwara","Bhopal","Bikaner","Coimbatore","Dehradun","Ganganagar","Ghaziabad","Guwahati","Gwalior","Indore","Juhnjhunu","Kanpur","Kota","Kurukshetra","Lucknow","Ludhiana","Mathura","Meerut","Mohali","Mysore","Nasik","Noida","Patiala","Patna","Rajkot","Rohtak","Roorkee","Shimla","Sikar","Sonbhadra","Surat","Thrissur","Trivandrum","Vadodara","Vellore","Vishakhapatnam"],e.cities=a,e.exam=c.data,e.category=l.data,e.categoryName=t.categoryName,e.subCategoryName=t.subCategoryName,e.subcategory=e.exam,e.showCoaching=function(e){r.putObject("city",e),o.go("findCoaching",{cityName:e})},e.showPrerenderedDialog=function(e){s.show({contentElement:"#myDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})},e.cancel=function(){s.cancel()};var u="",d="";e.rankedCities.forEach(function(t,r){11>r&&(u+=t,d+="Best "+e.subcategory.displayname+" Coaching in "+t,10>r&&(u+=", ",d+=", "))}),n.pageTitle=e.subcategory.displayname+": Select city to study",n.pageDescription="Search for "+e.subcategory.displayname+" coaching institutes in "+u+" and 90 other cities in India | Exambazaar - results, fees, faculty, photos, vidoes, reviews of Coaching Institutes in India";var m="Exambazaar "+e.subcategory.displayname+" Coaching, Best "+e.subcategory.displayname+" Coaching Institutes, Top "+e.subcategory.displayname+" Coaching Centre, "+e.subcategory.displayname+" Coaching in India, ";n.pageKeywords="Exambazaar, "+m+d}]),exambazaar.controller("coachingController",["$scope","$rootScope","targetStudyProviderService","targetStudyProvidersList","cities","$state","$stateParams","$cookies","thisStream","thisExam","streamExams","$mdDialog","$geolocation",function(e,t,r,o,a,n,i,s,l,c,u,d,m){if(e.hideLoginDialog(),e.editable=!1,s.getObject("sessionuser")){var f=s.getObject("sessionuser");"Master"==f.userType&&(e.editable=!0)}e.userPosition=null,s.getObject("userlocation")?(e.userlocation=s.getObject("userlocation"),(!e.userPosition||e.userPosition.length<4)&&m.getCurrentPosition({timeout:6e4}).then(function(t){s.putObject("userlocation",t),e.userlocation=t,e.userlocation&&e.userlocation.coords&&e.userlocation.coords.latitude&&e.userlocation.coords.longitude&&(e.userlatlng=new google.maps.LatLng(e.userlocation.coords.latitude,e.userlocation.coords.longitude),e.userPosition=e.userlocation.coords.latitude.toString()+","+e.userlocation.coords.longitude.toString())}),e.userlocation&&e.userlocation.coords&&e.userlocation.coords.latitude&&e.userlocation.coords.longitude&&(e.userlatlng=new google.maps.LatLng(e.userlocation.coords.latitude,e.userlocation.coords.longitude),console.log(e.userlatlng),e.userPosition=e.userlocation.coords.latitude.toString()+","+e.userlocation.coords.longitude.toString())):m.getCurrentPosition({timeout:6e4}).then(function(t){s.putObject("userlocation",t),e.userlocation=t,e.userlocation&&e.userlocation.coords&&e.userlocation.coords.latitude&&e.userlocation.coords.longitude&&(e.userlatlng=new google.maps.LatLng(e.userlocation.coords.latitude,e.userlocation.coords.longitude))
}),e.categoryName=i.categoryName,e.subCategoryName=i.subCategoryName,e.city=i.cityName,e.category=l.data,e.subcategory=c.data,e.streamExams=u.data.map(function(e){return e.name}),e.providersList=o.data,e.uniqueProviders=[],e.uniqueInstitutes=[];var g=[],p=[],h=new google.maps.DirectionsService,v=function(t,r,o){h.route({origin:t,destination:r,travelMode:"DRIVING"},function(a,n){"OK"===n?e.providersList[o].distance=a.routes[0].legs[0].distance:n==google.maps.GeocoderStatus.OVER_QUERY_LIMIT?setTimeout(function(){v(t,r,o)},10):console.log("Geocode was not successful for the following reason: "+n)})};e.providersList.forEach(function(t,r){var o=t.latlng;if(e.userlatlng&&o&&o.lat&&o.lng&&""!=o.lat&&""!=o.lng){var a=new google.maps.LatLng(o.lat,o.lng),n=google.maps.geometry.spherical.computeDistanceBetween(e.userlatlng,a)/1e3;t.SLdistance=n,g.push(e.userlatlng),p.push(a);var i=e.userlatlng,s=a;v(i,s,r)}var l=e.uniqueProviders.indexOf(t.name);if(-1==l){e.uniqueProviders.push(t.name);var c={institutes:[t],logo:t.logo,groupName:t.groupName};e.uniqueInstitutes.push(c)}else e.uniqueInstitutes[l].institutes.push(t)});var y,b,w,C;e.uniqueInstitutes.forEach(function(t){y=[],b=[],t.institutes.forEach(function(t){w=t.coursesOffered,C=t.results,w.forEach(function(e){-1==y.indexOf(e)&&y.push(e)}),C.forEach(function(t){t.exam==e.subcategory._id&&b.push(t)})}),t.coursesOffered=y,t.groupResults=b}),e.showCoaching=function(t){e.providersList.forEach(function(e){e.showDetails=!1}),t.showDetails=!0},e.cities=a;var S="",I="",x=25,E=10;e.uniqueProviders.forEach(function(t,r){x>r&&(S+=t,x-1>r&&(S+=", ")),E>r&&(I+=t+" "+e.city,E-1>r&&(I+=", "))}),e.setFilter=function(t){e.searchText=t},e.clearFilter=function(){e.searchText=""},t.pageTitle=e.subcategory.displayname+" Coaching in "+e.city,t.pageDescription="Select from top "+e.uniqueInstitutes.length+" "+e.subcategory.displayname+" Coaching Institutes in "+e.city+". Choose from "+S+" and  many more! | Exambazaar - results, fees, faculty, photos, vidoes, reviews of Coaching Institutes in India";var P="Best "+e.subcategory.displayname+" Coaching Institutes in "+e.city+", Top "+e.uniqueInstitutes.length+" "+e.subcategory.displayname+" Coaching Centres in "+e.city+", ";t.pageKeywords=P+I}]),exambazaar.controller("oldClaimController",["$scope","$rootScope","targetStudyProviderService","thisProvider","$state","$stateParams","$cookies","$mdDialog",function(e,t,r,o,a,n,i,s){if(e.editable=!1,e.verifiedUser=!1,i.getObject("sessionuser")){var l=i.getObject("sessionuser");"Master"==l.userType&&(e.editable=!0,e.verifiedUser=!0)}e.started=!1,e.getStarted=function(){e.started=!0},e.showMap=!1,e.flipMap=function(){e.showMap=!e.showMap},e.provider=o.data,e.cancel=function(){s.cancel(),e.started=!1},e.provider.mapAddress=e.provider.pincode?e.provider.name+", "+e.provider.address+" "+e.provider.city+" "+e.provider.pincode:e.provider.name+", "+e.provider.address+" "+e.provider.city,t.pageTitle=e.provider.name}]),exambazaar.controller("verifyClaimController",["$scope","$rootScope","targetStudyProviderService","OTPService","UserService","thisProvider","$state","$stateParams","$cookies","$mdDialog","$timeout",function(e,t,r,o,a,n){e.provider=n.data,e.currStep=1,e.provider.mobile.length>0&&(e.verifyMobile=e.provider.mobile[0]),e.update=function(t){e.verifyMobile=t,e.currStep=1},e.enterOTP=[],e.userPassword="",e.verifyPassword="",e.sendOTP=function(){var t={mobile:e.verifyMobile,otp:generateOtp(),reason:"Claiming "+e.provider._id};o.generateOTP(t).success(function(t){e.serverOTP=t.otp,e.currStep=2}).error(function(){console.info()})},e.incorrectOTP=!1,e.verifyOTP=function(){if(e.enterOTP[0]&&e.enterOTP[1]&&e.enterOTP[2]&&e.enterOTP[3]){var t=e.enterOTP[0].toString()+e.enterOTP[1].toString()+e.enterOTP[2].toString()+e.enterOTP[3].toString();console.log(t+" "+e.serverOTP),t==e.serverOTP?(e.currStep=3,e.incorrectOTP=!1,console.info("OTP verified")):(e.incorrectOTP=!0,console.info("OTP incorrect"),e.currStep=2),console.log(e.currStep)}},e.updateUserPassword=function(t){e.userPassword=t},e.updateVerifyPassword=function(t){e.verifyPassword=t},e.createProvider=function(){var t=(e.provider._id,e.verifyMobile),r=e.userPassword,o=e.verifyPassword;if(r==o){e.newUser={basic:{name:e.provider.name},partner:e.provider._id,userType:"Partner",verified:!0,contact:{mobile:t},password:e.userPassword};{a.saveUser(e.newUser).success(function(r){e.userlogin.mobile=t,e.userlogin.password=e.userPassword,e.login()}).error(function(e,t){console.info("Error "+e+" "+t)})}}},e.$watch("enterOTP[3]",function(t){null!=t&&e.verifyOTP()},!0)}]),exambazaar.controller("showGroupController",["$scope","$rootScope","targetStudyProviderService","thisGroup","thisStream","thisExam","streamList","examList","$state","$stateParams","$cookies","UserService","$mdDialog","$timeout","viewService","reviewService",function(e,t,r,o,a,n,i,s,l,c,u,d,m,f,g,p){function h(e,t){var r=6,o={start:0,end:t};return 0>=e-r/2?(o.start=0,o.end=Math.min(o.start+r,t)):e+r/2>=t?(o.end=t,o.start=Math.max(0,o.end-r)):(o.start=e-r/2,o.end=Math.min(o.start+r,t)),o}t.reviewStream=null,t.reviewExam=null,t.reviewCity=null,t.reviewInstitute=null,m.hide(),e.cancel=function(){m.cancel()},e.group=o.data;var v=(e.group.map(function(e){return e.disabled}),e.group.map(function(e){return e._id}));e.exam=n.data,e.category=a.data,e.categoryName=c.categoryName,e.subCategoryName=c.subCategoryName,e.subcategory=e.exam,e.city=c.cityName,e.allExams=s.data,e.allStreams=i.data,e.playerVars={controls:1,showinfo:0},u.getObject("sessionuser")?(e.user=u.getObject("sessionuser"),d.getUserShortlistedInstitutes(e.user.userId).success(function(t){var r=t,o=r.map(function(e){return e.institute._id});e.shortlistedIds=[],e.shortlistDetails=[],v.forEach(function(t){var a=o.indexOf(t);-1!=a&&(e.shortlistedIds.push(t),e.shortlistDetails.push(r[a]))}),-1!=e.shortlistedIds.indexOf(e.provider._id)&&(e.shortlisted=!0)}).error(function(e,t){console.info("Shortlist Error"+t+" "+e)}),"Master"==e.user.userType&&(e.ebuser=!0)):e.signupNeeded=!0,e.user&&e.user.userId||e.showLoginForm(),e.overviewIcons=[{icon:"images/icons/centre.png",text:"Centres",data:"1"},{icon:"images/icons/city.png",text:"Cities",data:"1"},{icon:"images/icons/students.png",text:"Students",data:"100"},{icon:"images/icons/faculty.png",text:"Faculty",data:"10"}],e.components=["Contact","Exams","Results","Courses","Photos","Videos","Faculty","Location","Reviews"],e.rankCategories=["GENERAL","OBC-NCL","SC/ST","PwD"],e.resultYears=["2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003"],e.provider={name:c.groupName,city:c.cityName},e.groupExams=[],e.groupStreams=[],e.groupPhotos=[],e.groupVideos=[],e.groupResults=[],e.groupCourses=[],e.groupFaculties=[];var y=[],b=[];e.group.forEach(function(t){t.latlng&&(t.mapAddress=[t.latlng.lat,t.latlng.lng]),t.logo&&(e.provider.logo=t.logo);var r=t.exams;r.forEach(function(r){y=e.groupExams.map(function(e){return e.exam._id});var o=y.indexOf(r._id);if(-1==o){var a={exam:r,centre:[t]},n=r.stream;b=e.groupStreams.map(function(e){return e._id}),-1==b.indexOf(n._id)&&e.groupStreams.push(n),e.groupExams.push(a)}else{var i=e.groupExams[o];i.centre.push(t)}});var o=t.photo,a=t.results,n=t.video,i=t.faculty,s=t.course;e.groupPhotos=e.groupPhotos.concat(o),e.groupVideos=e.groupVideos.concat(n),e.groupFaculties=e.groupFaculties.concat(i),e.groupResults=e.groupResults.concat(a),e.groupCourses=e.groupCourses.concat(s)}),e.groupExamsOnly=e.groupExams.map(function(e){return e.exam}),e.showPhotoDialog=function(t,r){e.activePhotoIndex=r,e.activePhoto=e.groupPhotos[r];var o=h(r,e.groupPhotos.length);e.startPhotoIndex=o.start,e.endPhotoIndex=o.end,m.show({contentElement:"#photoDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.prevPhoto=function(){var t=e.activePhotoIndex-1;e.changePhotoImage(t)},e.nextPhoto=function(){var t=e.activePhotoIndex+1;e.changePhotoImage(t)},e.changePhotoImage=function(t){var r=e.groupPhotos.length;if(t>=0&&r>t){e.activePhotoIndex=t,e.activePhoto=e.groupPhotos[t];var o=h(t,e.groupPhotos.length);e.startPhotoIndex=o.start,e.endPhotoIndex=o.end}},e.showFacultyDialog=function(t,r){e.activeFacultyIndex=r,e.activeFaculty=e.groupFaculties[r];var o=h(r,e.groupFaculties.length);e.startFacultyIndex=o.start,e.endFacultyIndex=o.end,m.show({contentElement:"#facultyDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.getShortlistSelectedColour=function(t){var r="notselected";if(e.shortlistedIds){var o=e.shortlistedIds.indexOf(t._id);-1==o||(r="selected")}return r},e.updateShortlistInstitute=function(t){var r=e.shortlistedIds.indexOf(t._id);-1==r&&(e.shortlistedIds.push(t._id),e.shortlistInstitute(t._id))},e.shortlistInstitute=function(t){if(e.user.userId&&t){var r={userId:e.user.userId,instituteId:t};d.shortlistInstitute(r).success(function(){console.info("Institute Shortlisted"),l.reload()}).error(function(e,t){console.log("Shortlist error: "+t+" "+e)})}},e.prevFaculty=function(){var t=e.activeFacultyIndex-1;e.changeFacultyImage(t)},e.nextFaculty=function(){var t=e.activeFacultyIndex+1;e.changeFacultyImage(t)},e.changeFacultyImage=function(t){var r=e.groupFaculties.length;if(t>=0&&r>t){e.activeFacultyIndex=t,e.activeFaculty=e.groupFaculties[t];var o=h(t,e.groupFaculties.length);e.startFacultyIndex=o.start,e.endFacultyIndex=o.end}},e.showResultDialog=function(t,r,o){e.activeResultIndex=r,e.activeResult=e.groupResults[r];var a=h(r,e.groupResults.length);e.startResultIndex=a.start,e.endResultIndex=a.end,e.dialogExamResult=o,m.show({contentElement:"#resultsDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.prevResult=function(){var t=e.activeResultIndex-1;e.changeResultImage(t)},e.nextResult=function(){var t=e.activeResultIndex+1;e.changeResultImage(t)},e.changeResultImage=function(t){var r=e.groupResults.length;if(t>=0&&r>t){e.activeResultIndex=t,e.activeResult=e.groupResults[t];var o=h(t,e.groupResults.length);e.startResultIndex=o.start,e.endResultIndex=o.end}};var w=[];e.group.forEach(function(e){e.city==c.cityName&&w.push(e._id)}),e.user=u.getObject("sessionuser");var C={institutes:w,claim:!1};if(e.user&&e.user.userId&&(C.user=e.user.userId),u.getObject("ip")){var S=u.getObject("ip");C.ip=S}g.saveview(C).success(function(){}).error(function(){console.info()});var I="";e.groupExams.forEach(function(t,r){I+=c.groupName+" "+c.cityName+" for "+t.exam.displayname,r<e.groupExams.length-1&&(I+=", ")}),t.pageTitle=c.groupName+" in "+c.cityName+" for "+c.subCategoryName,t.pageDescription=c.groupName+", "+e.city+" has "+e.group.length+" "+e.subcategory.displayname+" Coaching Centers in "+e.city+". | Exambazaar - results, fees, faculty, photos, vidoes, reviews of "+c.groupName;var x="Top "+c.subCategoryName+" Coaching in "+c.cityName+", "+c.groupName+" in "+c.cityName+" for "+c.subCategoryName+", "+e.group.length+" "+c.groupName+" Centers in "+e.city+", ";t.pageKeywords=x+I,e.years=["2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003"],e.reviewTags=["Great Faculty","Supportive Administration","Value for Money","Hi-Tech","Exhaustive Content","Realistic Test Series"],e.addRemoveReviewTag=function(t){e.userReview.tags||(e.userReview.tags=[]);var r=e.userReview.tags.indexOf(t);-1==r?e.userReview.tags.push(t):e.userReview.tags.splice(r,1)},e.setReviewTagColor=function(t){var r="unfilledTag",o=e.userReview.tags.indexOf(t);return(o-=-1)&&(r="filledTag"),r},e.updateUserReviewYear=function(t){e.userReview&&(d.year_of_start=t)},e.userReviewMode=!1,e.showUserReviewDialog=function(t){m.show({contentElement:"#userReviewDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0}).finally(function(){e.userReviewMode=!0})},e.editUserReviewMode=function(){e.userReviewMode=!e.userReviewMode},p.groupReviews(v).success(function(t){e.otherReviews=t,e.otherReviews.forEach(function(t,r){var o=t.institute,a=v.indexOf(o);t.institute=e.group[a],e.reviewParams.forEach(function(o){e.reviews.indexOf(parseFloat(t[o.name]));e.setReview(o.name,parseFloat(t[o.name]),e.otherReviews[r])})})}).error(function(e,t){console.info("Error "+e+" "+t)}),e.updateReviewInstitute=function(t){e.userReview.institute=t._id,console.log(e.userReview.institute)},e.reviewParams=[{name:"faculty",displayname:"Faculty and Teaching Experience",hoverVal:-1},{name:"competitive_environment",displayname:"Competitive Environment",hoverVal:-1},{name:"quality_of_material",displayname:"Quality of material",hoverVal:-1},{name:"infrastructure",displayname:"Infrastructure",hoverVal:-1}],e.userReview={institute:null,exam:e.exam._id,stream:e.category._id,text:"",tags:[]},e.user&&e.user.userId&&(e.userReview.user=e.user.userId),e.reviewParams.forEach(function(t){e.userReview[t.name]=null});var E=!1;e.$watch("user.userId",function(t){if(t&&!E){E=!0;var r={user:t,instituteIdArray:v};p.existingReview(r).success(function(t){t&&t.length>0?(e.userReview=t[0],e.userReview&&e.reviewParams.forEach(function(t){e.reviews.indexOf(parseFloat(e.userReview[t.name]));e.setReview(t.name,parseFloat(e.userReview[t.name]),e.userReview)})):e.user}).error(function(e,t){console.info("Error "+e+" "+t)})}},!0),e.reviews=[1,1.5,2,2.5,3,3.5,4,4.5,5],e.reviewsClasses=["review1","review2","review3","review4","review5","review6","review7","review8","review9"],e.minTextLength=140,e.placeholder="Tip: A great review covers information about Faculty, Peer Interaction, Quality of material and Infrastructure. Got recommendations for your favorite faculty and employees, or something everyone should know about "+e.provider.name+", "+e.provider.city+"? Include that too! And remember, your review needs to be atleast "+e.minTextLength+" characters long. The best review will be featured on our main page :)";var P=e.reviewParams.map(function(e){return e.name});e.getBackgroundColour=function(t,r,o){var a=P.indexOf(t.name),n="noreview",i=e.reviewParams[a].name;if(o&&o[i]){var s=o[i],l=e.reviews.indexOf(s);if(l>=r){var c=l+1;n="review"+c}}if(e.reviewParams[a].hoverVal>=0&&(n="noreview"),e.reviewParams[a].hoverVal>=r){var u=r+1;n="review"+u}return n},e.getReviewSelectedColour=function(t){var r="notselected";return e.userReview&&e.userReview.institute&&e.userReview.institute==t._id&&(r="selected"),r},e.logMouseEvent=function(t,r){switch(event.type){case"mouseenter":console.log("Hey Mouse Entered");break;case"mouseover":var o=P.indexOf(t.name);e.reviewParams[o].hoverVal=r;break;case"mouseout":var o=P.indexOf(t.name);e.reviewParams[o].hoverVal=-1;break;case"mouseleave":console.log("Mouse Gone");break;default:console.log(event.type)}},e.reviewCentreError=!1,e.showSelectReviewCentreDialog=function(e){m.show({contentElement:"#selectReviewCentreDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})},e.showSelectShortlistCentreDialog=function(e){m.show({contentElement:"#selectShortlistCentreDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})},e.showSavedReviewDialog=function(e){m.show({contentElement:"#savedReviewDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),f(function(){m.cancel()},1e3)},e.selectReviewCentre=function(){e.group.length>1?e.showSelectReviewCentreDialog():(e.updateReviewInstitute(e.group[0]),e.submitReview())},e.cancelSelectReviewCentre=function(){e.reviewCentreError=!1,m.hide()},e.submitReview=function(){e.userReview.institute?e.userReview.user?p.savereview(e.userReview).success(function(t){var r=t;e.showSavedReviewDialog(),l.go("availOffer",{userId:e.user.userId,reviewId:r})}).error(function(e,t){console.info("Error "+e+" "+t)}):(console.log("No user set"),e.showLoginForm()):e.reviewCentreError=!0},e.checkReview=function(t,r){return e.userReview[t.name]>=r?!0:!1},e.setReview=function(e,t,r){r&&(r[e]=t)},e.invalidSubmit=function(){var t=!1;if(e.reviewParams.forEach(function(r){e.userReview&&e.userReview[r.name]||(t=!0)}),e.userReview){e.userReview.text=e.userReview.text.trim(),e.userReview.text=e.userReview.text.replace(/\s+/g," ");var r=e.userReview.text.length;r<e.minTextLength&&(t=!0)}return e.userReview.exam&&e.userReview.stream&&e.userReview.year_of_start||(t=!0),t}}]),exambazaar.controller("offersController",["$scope","$rootScope","targetStudyProviderService","thisProvider","$state","$stateParams","$cookies","$mdDialog","$timeout","thisGroupInfo","offersList","couponsList","offerService","couponService","UserService",function(e,r,o,a,n,i,s,l,c,u,d,m,f,g,p){function h(){var e=!0;return e}function v(e){var t="23456789ABDEGJKMNPQRVWXYZ",r=t.length,o=6,a=9999,n={};n.generate=function(){for(var e="",a=0;o>a;a++)e+=t.charAt(Math.floor(Math.random()*r));return e},n.generateUnique=function(e){e=e||[];for(var t,r=0;!t&&a>r;)t=n.generate(),-1!==e.indexOf(t)&&(t=null,r++);return t};for(var i=[];i.length<e;){var s="EB"+n.generateUnique(i);i.push(s)}return i}e.provider=a.data,e.provideroffers=d.data,e.provideroffers.forEach(function(e){var r=e.coupons.map(function(e){return e.name});e.couponNames=r.filter(t)}),e.uniqueOffers=e.provideroffers,e.couponsList=m.data,e.groupInfo=a.groupInfo,s.getObject("sessionuser")&&(e.user=s.getObject("sessionuser"));var y=moment(),b=moment().add(6,"months"),w=moment().add(3,"months"),C=e.provider.name+" - "+y.format("DD MMM YY");e.newoffer={name:C,provider:e.provider._id,primaryContact:{},otheremails:[],othermobiles:[],_start:y,_end:b,active:!0,couponBuilder:[],offerNameError:""},e.addEmail=function(){e.newoffer.otheremails||(e.newoffer.otheremails=[]),e.newoffer.otheremails.push("")},e.addMobile=function(){e.newoffer.othermobiles||(e.newoffer.othermobiles=[]),e.newoffer.othermobiles.push("")},e.showDeleteMobileConfirm=function(t){var r=e.newoffer.othermobiles.length;if(r>0){var o=e.newoffer.othermobiles[r-1];if(""==o)e.newoffer.othermobiles.pop();else{var a=l.confirm().title("Would you like to delete "+o+"?").textContent("You will not be able to recover it after deleting!").ariaLabel("Lucky day").targetEvent(t).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");l.show(a).then(function(){e.newoffer.othermobiles.pop()},function(){})}}},e.showDeleteEmailConfirm=function(t){var r=e.newoffer.otheremails.length;if(r>0){var o=e.newoffer.otheremails[r-1];if(""==o)e.newoffer.otheremails.pop();else{var a=l.confirm().title("Would you like to delete "+o+"?").textContent("You will not be able to recover it after deleting!").ariaLabel("Lucky day").targetEvent(t).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");l.show(a).then(function(){e.newoffer.otheremails.pop()},function(){})}}},e.provider.primaryManagement&&(e.provider.primaryManagement.name&&(e.newoffer.primaryContact.name=e.provider.primaryManagement.name),e.provider.primaryManagement.email&&(e.newoffer.primaryContact.email=e.provider.primaryManagement.email,e.newoffer.otheremails.push(e.provider.primaryManagement.email)),e.provider.primaryManagement.mobile&&(e.newoffer.primaryContact.mobile=e.provider.primaryManagement.mobile,e.newoffer.othermobiles.push(e.provider.primaryManagement.mobile))),e.discountTypes=["Percentage Discount","Flat Discount"],e.validityTypes=["From date of issue by Exambazaar","Fixed Expiry Date"];var S="Generated by "+e.provider.name;e.generationTypes=["Generated by Exambazaar"],e.generationTypes.push(S),e.addOffer=function(){e.offer=e.newoffer,e.existingOffer=null},e.setExistingOffer=function(t){e.existingOffer=t,e.offer=null},e.provideroffers.length>0&&e.setExistingOffer(e.provideroffers[0]),e.$watch("existingOffer.coupons",function(e){e&&e.length>0&&e.forEach(function(e){if(e.user&&!e.user._id){var t=e.user;p.getUserBasic(t).success(function(t){e.user=t}).error(function(e,t){console.info("Error "+e+" "+t)})}})},!0),e.addCoupon=function(){var t=[];t.push("Go to "+e.provider.website),t.push("Choose the product (test series, correspondence course) you want to purchase"),t.push("Enter exclusive promo code (if applicable) at checkout on "+e.provider.website);var r="";e.offer.otheremails.length>0&&(r=" or "+e.offer.otheremails[0]),t.push("For any help email: always@exambazaar.com"+r);var o={name:"",discountType:"Percentage Discount",validfor:"All Courses",validityType:"Fixed Expiry Date",generationType:S,flatDiscount:"500",percentageDiscount:"40",validtyDuration:"30",fixedExpiryDate:w,nCoupons:1e3,percentageSocialShareBenefit:15,flatSocialShareBenefit:250,steps:t,couponCodes:[],couponNameError:""};e.offer.couponBuilder.push(o)},e.updateDiscountType=function(e,t){e.discountType=t},e.updateValidityType=function(e,t){e.validityType=t},e.updateGenerationType=function(e,t){e.generationType=t},e.readyToAddCoupons=function(e){var t=!1,r=["name","discountType","validfor","validityType","generationType"];return r.forEach(function(r){e[r]&&""!=e[r]||(t=!0)}),e.discountType&&"Percentage Discount"==e.discountType&&(e.percentageDiscount&&""!=e.percentageDiscount||(t=!0)),e.discountType&&"Flat Discount"==e.discountType&&(e.flatDiscount&&""!=e.flatDiscount||(t=!0)),e.validityType&&"From date of issue by Exambazaar"==e.validityType&&(e.validtyDuration&&""!=e.validtyDuration||(t=!0)),e.validityType&&"Fixed Expiry Date"==e.validityType&&(e.fixedExpiryDate&&""!=e.fixedExpiryDate||(t=!0)),t},e.generateCoupons=function(t){var r=t.nCoupons,o=v(2*r,e.couponsList);e.couponsList=e.couponsList.concat(o);var a=(o.length,o.splice(0,r)),n=o;a.forEach(function(e,r){var o={code:a[r],socialShareCode:n[r]};t.couponCodes.push(o)})},e.removeCouponBuilder=function(t,r){var o=e.offer.couponBuilder[t],a=l.confirm().title("Would you like to remove "+o.name+"?").textContent("You will not be able to recover the changes in your coupon builder!").ariaLabel("Lucky day").targetEvent(r).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");l.show(a).then(function(){e.offer.couponBuilder.splice(t,1)},function(){})},e.showUploadCouponsDialog=function(t,r){e.uploadCouponBuilder=t,l.show({contentElement:"#uploadCouponsDialog",parent:angular.element(document.body),targetEvent:r,clickOutsideToClose:!0})},e.cancelDialog=function(){l.hide()},e.uploadedCoupons=[],e.submitUploadedCoupons=function(t){var r=e.uploadedCoupons.map(function(e){return e.code}),o=e.uploadedCoupons.map(function(e){return e.socialShareCode});e.uploadErrorMessages=null;var a=[],n=[];r.forEach(function(e,t){e?a.push(e):t<o.length-1&&a.push(e)}),o.forEach(function(t){t&&""!=t&&(h(t)?n.push(t):(e.uploadErrorMessages||(e.uploadErrorMessages=[]),e.uploadErrorMessages.push("Incorrect Social Share Code: "+t)))}),!e.uploadErrorMessages&&a.length>0&&n.length>0&&a.length==n.length?(console.log("We are set to add coupons"),a.forEach(function(e,r){var o={code:a[r],socialShareCode:n[r]};t.couponCodes.push(o)}),l.hide()):(e.uploadErrorMessages||(e.uploadErrorMessages=[]),console.log(a.length+" "+n.length),e.uploadErrorMessages.push("Please add equal valid normal and social coupon codes before submitting")),console.log()},e.removeCodes=function(t,r){var o=e.offer.couponBuilder[t],a=l.confirm().title("Would you like to remove "+o.couponCodes.length+" coupons for "+o.name+"?").textContent("You can regenerate the codes in your coupon builder!").ariaLabel("Lucky day").targetEvent(r).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");l.show(a).then(function(){e.uploadedCoupons=[],o.couponCodes=[]},function(){})},e.disabledAddOffer=function(){},e.saveOffer=function(t){if(e.saveOfferError=null,0==t.couponBuilder.length)e.saveOfferError||(e.saveOfferError=[]),e.saveOfferError.push("Add atleast one coupon builder and coupon codes");else if(""!=t.offerNameError)console.log(t.offerNameError),e.saveOfferError||(e.saveOfferError=[]),e.saveOfferError.push("Offer Name already exists! Choose another name");else if(t.couponBuilder.length>0&&(t.couponBuilder.forEach(function(t){0==t.couponCodes.length&&(e.saveOfferError||(e.saveOfferError=[]),e.saveOfferError.push("Generate or upload atleast one coupon code for "+t.name)),""!=t.couponNameError&&e.saveOfferError.push("Coupon Name already exists! Choose another name: "+t.name)}),!e.saveOfferError)){console.log(e.offer);{f.saveOffer(e.offer).success(function(){n.reload()}).error(function(e,t){console.info("Error "+e+" "+t)})}}},e.$watch("offer.name",function(t,r){if(null!=t&&""!=t&&t!=r){var o={name:t};f.nameExists(o).success(function(t){e.offer.offerNameError=t?"Offer Name already exists! Choose another name":"",e.fetching=!1}).error(function(){console.info("Error ")})}},!0),e.$watch("offer.couponBuilder",function(t,r){null!=t&&""!=t&&t.length>0&&t!=r&&t.forEach(function(t,o){var a={name:t.name};r[o]&&t.name==r[o].name||g.nameExists(a).success(function(r){t.couponNameError=r?"Coupon Name already exists! Choose another name":"",e.fetching=!1}).error(function(){console.info("Error ")})})},!0)}]),exambazaar.controller("claimController",["$scope","$rootScope","targetStudyProviderService","ImageService","LocationService","OTPService","UserService","cisavedService","tofillciService","viewService","Upload","thisProvider","imageMediaTagList","videoMediaTagList","examList","streamList","cisavedUsersList","$state","$stateParams","$cookies","$mdDialog","$timeout","toverifyciService","thisGroupInfo","addContactInfoService","rateInstituteService",function(e,t,r,o,a,n,i,s,l,c,u,d,m,f,g,p,h,v,y,b,w,C,S,I,x,E){function P(e,t){var r=6,o={start:0,end:t};return 0>=e-r/2?(o.start=0,o.end=Math.min(o.start+r,t)):e+r/2>=t?(o.end=t,o.start=Math.max(0,o.end-r)):(o.start=e-r/2,o.end=Math.min(o.start+r,t)),o}if(e.imageTags=m.data.mediaTypeTags,e.imageTypes=m.data.distinctTypes,e.videoTags=f.data.mediaTypeTags,e.videoTypes=f.data.distinctTypes,e.resultSet=[],e.showHeaderLogin=function(){t.$emit("CallShowLogin",{})},e.verifyingOTP=!1,e.verifyByOTP=function(){e.verifyingOTP=!0,e.nMobiles=e.provider.mobile.length,e.verifyStep=1},e.newMobileMode=!1,e.verifyStep=0,e.addClaimMobile=function(){e.newMobileMode=!0,e.verifyStep=1},e.selectMobile=function(t){e.OTPMobile=t},e.sendOTP=function(t){e.verificationMobile=t;var r={mobile:t,otp:generateOtp(),reason:"Claiming "+e.provider._id};n.generateOTP(r).success(function(t){e.serverOTP=t.otp}).error(function(){console.info()}),e.verifyStep=2},e.verifyOTP=function(){e.serverOTP==e.userOTP?(alert("Success"),e.createUserBool=!0,e.verifyStep=3):alert("You have entered an incorrect OTP.")},e.$watch("[provider.address, provider.city]",function(t){if(null!=t&&""!=t[0]&&""!=t[1]){var r=t[0],o=t[0];C(function(){GMaps.geocode({address:r+", "+o,callback:function(t,r){if("OK"==r){var o={lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()};e.provider.latlng&&e.provider.latlng.lat==o.lat&&e.provider.latlng.lng==o.lng||(e.editLocation=!0,e.provider.latlng=o,console.log(e.provider.latlng))}else"ZERO_RESULTS"==r&&(e.provider.latlngna=!0)}})},250)}},!0),e.markLatlng=function(){GMaps.geocode({address:e.provider.address+", "+e.provider.city,callback:function(t,r){"OK"==r?(console.log(t[0].geometry.location.lat()),e.provider.latlng={lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()},e.showLatLngDialog()):(console.log(r+" "+e.provider._id),e.showNoLatLngDialog(),"ZERO_RESULTS"==r&&(e.provider.latlngna=!0))}})},e.overviewIcons=[{icon:"images/icons/centre.png",text:"Centres",data:"1"},{icon:"images/icons/city.png",text:"Cities",data:"1"},{icon:"images/icons/students.png",text:"Students",data:"100"},{icon:"images/icons/faculty.png",text:"Faculty",data:"10"}],e.rankCategories=["GENERAL","OBC-NCL","SC/ST","PwD"],e.resultYears=["2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003"],e.ebVerifyStates=["Verified","No Response","Does not Exist","Not Verified"],e.provider=d.data,e.components=["Contact","Exams","Results","Courses","Photos","Videos","Faculty"],e.provider&&"Online Coaching"!=e.provider.type&&e.components.push("Location"),e.thisGroupInfo=I.data,e.verifyClaim=function(){v.go("verifyClaim",{coachingId:e.provider._id})},e.cisavedUsersList=h.data,e.showClaimDialog=function(e){w.show({contentElement:"#claimDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!1})},e.shortlisted=!1,e.showDisabled=function(e){w.show({contentElement:"#disabledDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!1})},e.disabled=e.provider.disabled,e.disabled&&e.showDisabled(),e.editable=!1,e.verifiedUser=!1,e.ebuser=!1,e.masteruser=!1,e.showAddPrimaryManagement=function(e){w.show({contentElement:"#addPrimaryManagementDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!1})},e.showUnauthorizedAccess=function(e){w.show({contentElement:"#unauthorizedAccessDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!1})},b.getObject("sessionuser")){e.user=b.getObject("sessionuser");var T={institutes:[e.provider._id],user:e.user.userId,claim:!0};if(b.getObject("ip")){var k=b.getObject("ip");console.log(k),T.ip=k}c.saveview(T).success(function(){}).error(function(){console.info()}),i.getUserShortlisted(e.user.userId).success(function(t){var r=t.map(function(e){return e._id});-1!=r.indexOf(e.provider._id)&&(e.shortlisted=!0)}).error(function(e,t){console.info("Shortlist Error"+t+" "+e)}),"Master"==e.user.userType&&(e.editable=!0,e.verifiedUser=!0,e.ebuser=!0,e.masteruser=!0),"Intern - Business Development"==e.user.userType&&(e.editable=!0,e.verifiedUser=!0,e.ebuser=!0),"Partner"==e.user.userType&&(e.verifiedUser=!0,e.ebuser=!1,-1!=e.user.partner.indexOf(e.provider._id)?e.provider.primaryManagement&&""!=e.provider.primaryManagement.name&&""!=e.provider.primaryManagement.mobile?e.editable=!0:(e.editable=!1,e.showAddPrimaryManagement()):(e.editable=!1,e.showUnauthorizedAccess()))}else{var T={institutes:[e.provider._id],claim:!0};if(b.getObject("ip")){var k=b.getObject("ip");T.ip=k}c.saveview(T).success(function(){console.info("View Marked")}).error(function(){console.info()}),e.showClaimDialog()}e.markPrimaryManagement=function(){v.go("partner-dashboard",{userId:e.user.userId})};var U=e.provider.city;if(a.getCityLocations(U).success(function(t){e.cityLocations=t}).error(function(){console.info("Error ")}),e.allExams=g.data,e.allStreams=p.data,e.streamIds=[],e.streams=[],e.preview={stream:null,exam:null},e.provider.exams.forEach(function(t){e.preview.exam||(e.preview.exam=t.name,e.preview.stream=t.stream.name),-1==e.streamIds.indexOf(t.stream._id)&&(e.streamIds.push(t.stream._id),e.streams.push(t.stream))}),e.providerExamIds=e.provider.exams.map(function(e){return e._id}),e.editExam=!1,e.setEBVerifyState=function(t){if(e.editable){e.provider.ebVerifyState=t;var o={provider:e.provider._id,state:t,user:e.user.userId};r.setEBVerifyState(o).success(function(){var r={institute:e.provider._id};e.verifiedStateMarked=t,console.log(r),S.markDone(r).success(function(){e.showVerifiedDoneDialog(),v.reload()}).error(function(){console.info("Error ")})}).error(function(){console.info("Error")})}else alert("Cannot Edit without logging in or verifying identity"),e.showClaimDialog()},e.contactInfoStates=["Found & Added","Website not found"],e.setEBContactInfoState=function(t){if(e.editable){e.provider.addContactInfoDone=!0;var o={provider:e.provider._id,contactInfoState:t,user:e.user.userId};console.info(o),r.setEBContactInfoState(o).success(function(){var t={institute:e.provider._id};x.markDone(t).success(function(){e.showContactInfoAddedDialog(),v.reload()}).error(function(){console.info("Error ")})}).error(function(){console.info("Error")})}else alert("Cannot Edit without logging in or verifying identity"),e.showClaimDialog()},e.showDisableConfirm=function(t,r){var o=w.confirm().title("Would you like to diable "+t.name+"?").textContent("Address: "+t.address+", "+t.city+"!").ariaLabel("Lucky day").targetEvent(r).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");w.show(o).then(function(){e.disableProvider(t),v.reload()},function(){})},e.disableProvider=function(t){if(t._id){var o=[t._id],a={instituteIds:o,user:e.user.userId};r.bulkDisableProviders(a).success(function(){e.showSavedDialog()
}).error(function(){console.info("Error ")})}},e.addExam=function(t){e.editable?-1==e.provider.exams.indexOf(t)&&(e.provider.exams.push(t),e.providerExamIds=e.provider.exams.map(function(e){return e._id}),e.saveProvider()):(alert("Cannot Edit without logging in or verifying identity"),e.showClaimDialog())},e.modes=["Class Room","Online Classes","Test Series","Distance Education","Satellite Classes","Weekend Classroom"],e.durations=["1 Month","2 Months","3 Months","4 Months","5 Months","6 Months","9 Months","1 Year","2 Year","3 Year","4 Year"],e.feeTypes=["In Lumpsum","In Installments"],e.editContact=!1,e.editEBVerify=!1,e.editEBRating=!1,e.editContacts=function(){e.editContact=!0},e.preAddPhoneLength=e.provider.phone.length,e.addPhone=function(){e.provider.phone.push("")},e.shortlistInstitute=function(){if(e.user.userId){var t={userId:e.user.userId,instituteId:e.provider._id};i.shortlistInstitute(t).success(function(){console.info("Institute Shortlisted"),v.reload()}).error(function(e,t){console.log("Shortlist error: "+t+" "+e)})}},e.showDeletePhoneConfirm=function(t){var r=e.provider.phone.length;if(r>0){var o=e.provider.phone[r-1];if(""==o)e.provider.phone.pop();else{var a=w.confirm().title("Would you like to delete "+o+"?").textContent("You will not be able to recover it after deleting!").ariaLabel("Lucky day").targetEvent(t).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");w.show(a).then(function(){e.provider.phone.pop()},function(){})}}},e.showSpreadsheetConfirm=function(t){var r=!1;if(e.examPivotResults.forEach(function(e){"null"!=e.pivot&&e.result.length!=e.initialLength+1&&(r=!0)}),r){var o=w.confirm().title("Do you not want to save the changes in Results?").textContent("You will not be able to recover the changes you have made!").ariaLabel("Lucky day").targetEvent(t).clickOutsideToClose(!0).ok("I will do it later!").cancel("Cancel");w.show(o).then(function(){e.editResult=!1},function(){})}else e.editResult=!1},e.addMobile=function(){e.provider.mobile.push("")},e.showDeleteMobileConfirm=function(t){var r=e.provider.mobile.length;if(r>0){var o=e.provider.mobile[r-1];if(""==o)e.provider.mobile.pop();else{var a=w.confirm().title("Would you like to delete "+o+"?").textContent("You will not be able to recover it after deleting!").ariaLabel("Lucky day").targetEvent(t).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");w.show(a).then(function(){e.provider.mobile.pop()},function(){})}}},e.addEmail=function(){e.provider.email.push("")},e.addEmailSuggestion=function(t){var r=!1;e.provider.email.forEach(function(e){e==t&&(r=!0)}),r?console.log("Email Exists"):e.provider.email.push(t)},e.addWebsiteSuggestion=function(t){var r=!1;e.provider.website.forEach(function(e){e==t&&(r=!0)}),r?console.log("Website Exists"):e.provider.website.push(t)},e.showDeleteEmailConfirm=function(t){var r=e.provider.email.length;if(r>0){var o=e.provider.email[r-1];if(""==o)e.provider.email.pop();else{var a=w.confirm().title("Would you like to delete "+o+"?").textContent("You will not be able to recover it after deleting!").ariaLabel("Lucky day").targetEvent(t).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");w.show(a).then(function(){e.provider.email.pop()},function(){})}}},e.addWebsite=function(){e.provider.website.push("")},e.showDeleteWebsiteConfirm=function(t){var r=e.provider.website.length;if(r>0){var o=e.provider.website[r-1];if(""==o)e.provider.website.pop();else{var a=w.confirm().title("Would you like to delete "+o+"?").textContent("You will not be able to recover it after deleting!").ariaLabel("Lucky day").targetEvent(t).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");w.show(a).then(function(){e.provider.website.pop()},function(){})}}},e.addOtherListings=function(){e.provider.otherlistings||(e.provider.otherlistings=[]),e.provider.otherlistings.push("")},e.showDeleteOtherListingsConfirm=function(t){var r=e.provider.otherlistings.length;if(r>0){var o=e.provider.otherlistings[r-1];if(""==o)e.provider.otherlistings.pop();else{var a=w.confirm().title("Would you like to delete "+o+"?").textContent("You will not be able to recover it after deleting!").ariaLabel("Lucky day").targetEvent(t).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");w.show(a).then(function(){e.provider.otherlistings.pop()},function(){})}}},e.saveContacts=function(){e.saveProvider(),e.editContact=!1},e.setLocation=function(t){e.provider.location=t},e.addingCourse=!1,e.preAddCourseLength=e.provider.course.length,e.setCourseDuration=function(e,t){e.duration=t},e.setFeeType=function(e,t){e.feeType=t},e.setCourseStudyMode=function(e,t){e.mode=t},e.deleteCourse=function(t){var r=-1;e.provider.course.forEach(function(e,o){t._id==e._id&&(r=o),t._id||t.name!=e.name||(r=o)}),-1!=r&&e.provider.course.splice(r,1)},e.editCourse=!1,e.editCourses=function(){e.editCourse=!0},e.addCourse=function(t){e.preAddCourseLength=e.provider.course.length;var r={exam:t._id,name:"",fees:"",idealFor:"",mode:""};e.provider.course.push(r),console.info(JSON.stringify(e.provider.course))},e.removeExam=function(t){if(e.editable){var r=-1;e.provider.exams.forEach(function(e,o){e._id==t._id&&(r=o)}),-1!=r&&(e.provider.exams.splice(r,1),e.providerExamIds=e.provider.exams.map(function(e){return e._id}),e.saveProvider())}else alert("Cannot Edit without logging in or verifying identity"),e.showClaimDialog()},e.deleteFaculty=function(t){t.active=!1,e.provider.faculty.forEach(function(r,o){r._id==t._id&&e.provider.faculty.splice(o,1)})},e.playerVars={controls:1,showinfo:0},e.deleteVideo=function(t){t.active=!1,e.provider.video.forEach(function(r,o){r._id==t._id&&e.provider.video.splice(o,1)})},e.deletePhoto=function(t){t.active=!1,e.provider.photo.forEach(function(r,o){r._id==t._id&&e.provider.photo.splice(o,1)})},e.deleteResultPhoto=function(e,t){e.newresultphotos.forEach(function(r,o){r.link==t.link&&e.newresultphotos.splice(o,1)})},e.saveProvider=function(){var t={targetStudyProvider:e.provider,user:e.user.userId};r.saveProvider(t).success(function(){e.showSavedDialog(),v.reload(),console.info("Done")}).error(function(){console.info("Error ")})},e.provider.faculty.forEach(function(e){e.infoAvailable=e.name||e.subject||e.yearsExperience||e.qualification||e.description?1:0}),e.provider.results.forEach(function(){}),e.provider.results.forEach(function(e){var t="<button class='btn-primary editFont' ng-controller='claimController' ng-click='popHi()' >Add Pic</button>";e.imageShow=t}),e.editResult=!1,e.editResults=function(){e.editResult=!0},e.unEditResults=function(){e.examPivotResults.forEach(function(e){e.result.lenth!=e.initialLength&&(spreadSheetEdited=!0)}),e.editResult=!1},e.resultHelper=function(t,r){var o=r.length,a=0,n=e.provider.results.length,i=r;i.push("null");var s=[];i.forEach(function(r){var o={pivot:r,result:[]};if("exam"==t){var a=e.providerExamIds.indexOf(r);-1!=a&&(o.exam=e.provider.exams[a])}s.push(o)}),e.provider.results.forEach(function(r){var l=i.indexOf(r[t]._id);if(r[t]&&-1==l){i.push(r[t]);var c={pivot:r[t],result:[r]};s.push(c)}else r[t]?s[l].result.push(r):(console.info("Pivot not set"),s[o].result.push(r));a+=1,a==n&&(s.forEach(function(e){e.initialLength=e.result.length}),e.pivotResult=s)}),0==n&&(s.forEach(function(e){e.initialLength=0}),e.pivotResult=s)},e.resultPicHelper=function(){var t=0,r=e.provider.results.length,o=[],a=[];e.provider.results.forEach(function(n){var i;if(t+=1,n.exam){if(i=n.exam._id||n.exam,n.image){var s=a.indexOf(i);if(-1==s){a.push(i);var l={exam:i,result:[n]};o.push(l)}else o[s].result.push(n)}}else i="";t==r&&(e.resultWithImages=o)})},e.resultPicHelper(),e.examWiseResult=[],e.resultSortExamYear=function(){var t=0,r=e.provider.results.length,o=e.provider.exams,a=e.resultYears,n=[];o.forEach(function(e){var t={exam:e._id,yearResult:[]};a.forEach(function(e){var r={year:e,result:[]};t.yearResult.push(r)}),n.push(t)}),e.provider.results.forEach(function(o){var a,i=o.year;a=o.exam?o.exam._id||o.exam:"",t+=1;var s=[];n.forEach(function(e){e.exam==a&&(s=e.yearResult,s.forEach(function(e){e.year==i&&e.result.push(o)}))}),t==r&&(e.examWiseResult=n)}),0==r&&(e.examWiseResult=n)},e.resultHelper("exam",e.providerExamIds),e.examPivotResults=e.pivotResult,e.resultSortExamYear(),e.yearWiseResult=[],e.resultSortYearExam=function(){var t=0,r=e.provider.results.length,o=e.resultYears,a=e.provider.exams,n=[];o.forEach(function(e){var t={year:e,examResult:[]};a.forEach(function(e){var r={exam:e._id,result:[]};t.examResult.push(r)}),n.push(t)}),e.provider.results.forEach(function(o){var a=o.year,i=o.exam._id||o.exam;t+=1;var s=[];n.forEach(function(e){e.year==a&&(s=e.examResult,s.forEach(function(e){e.exam==i&&e.result.push(o)}))}),t==r&&(e.yearWiseResult=n)})},e.markasdone=function(){var t={institute:e.provider._id,user:e.user.userId};console.info(t),s.savecisaved(t).success(function(){l.markDone(t).success(function(){e.showMarkedDialog(),v.reload()}).error(function(){console.info("Error ")})}).error(function(){console.info("Error ")})},e.updateResultPhoto=function(e,t,r,o){if(e.image&&""!=e.image){var a=w.confirm().title("Do you not want to change image for "+e.name+"?").textContent("There is already an image set, you will not be able to recover the old image!").ariaLabel("Lucky day").targetEvent(o).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");w.show(a).then(function(){r.result.forEach(function(e){e.image==t.link&&(e.image="")}),e.image=t.link},function(){})}else r.result.forEach(function(e){e.image==t.link&&(e.image="")}),e.image=t.link},e.saveProvider=function(){console.info(e.provider);var t={targetStudyProvider:e.provider,user:e.user.userId};r.saveProvider(t).success(function(){e.editResult||e.editResult?e.addExamResult():(e.showSavedDialog(),v.reload(),console.info("Done"))}).error(function(){console.info("Error ")})},e.addExamResult=function(){var t=e.provider._id,o={providerId:t,examResults:[]},a=["name"];e.examPivotResults.forEach(function(e){var t={exam:e.pivot,result:[]};"null"!=e.pivot&&o.examResults.push(t)});var n=o.examResults.map(function(e){return e.exam});e.examPivotResults.forEach(function(e){var t=n.indexOf(e.pivot);e.result.forEach(function(e){var r=!0;a.forEach(function(t){null==e[t]&&(e._id||(r=!1))}),r&&-1!=t&&o.examResults[t].result.push(e)})}),r.bulkAddResult(o).success(function(o){if(console.info("Done"),"Done"==o){{r.getProvider(t).success(function(t){e.provider=t,e.resultHelper("exam",e.providerExamIds),e.examPivotResults=e.pivotResult,e.resultSortExamYear(),e.editResult=!1}).error(function(){console.info("Error ")})}e.showSavedDialog(),v.reload()}}).error(function(){console.info("Error ")})},e.saveResults=function(){e.saveProvider(),e.editResult=!1},e.preUploadResultLength=e.provider.results.length,e.prevResult=function(){var t=e.activeResultIndex-1;e.changeResultImage(t,e.provider.results.length)},e.nextResult=function(){var t=e.activeResultIndex+1;e.changeResultImage(t)},e.changeResultImage=function(t){var r=e.provider.results.length;if(t>=0&&r>t){e.activeResultIndex=t,e.activeResult=e.provider.results[t];var o=P(t,e.provider.results.length);e.startResultIndex=o.start,e.endResultIndex=o.end}},e.editVideo=!1,e.preUploadVideoLength=e.provider.video.length,e.editVideos=function(){e.editVideo=!0},e.saveVideos=function(){e.saveProvider(),e.editVideo=!1},e.addVideos=function(){var t={link:""};e.provider.video.push(t),e.editVideo=!0},e.restoreVideo=function(t){t.active=!0,e.saveProvider()},e.editPhoto=!1,e.preUploadPhotoLength=e.provider.photo.length,e.editPhotos=function(){e.editPhoto=!0},e.editResultPhotos=function(){e.editResultPhoto=!0},e.savePhotos=function(){e.saveProvider(),e.editPhoto=!1},e.dontsaveChanges=function(){v.reload()},e.cancelChanges=function(){e.cancel()},e.editFaculty=!1,e.editFaculties=function(){e.editFaculty=!0},e.saveFaculties=function(){e.saveProvider(),e.editFaculty=!1},e.preUploadFacultyLength=e.provider.faculty.length,e.prevFaculty=function(){var t=e.activeFacultyIndex-1;e.changeFacultyImage(t,e.provider.faculty.length)},e.nextFaculty=function(){var t=e.activeFacultyIndex+1;e.changeFacultyImage(t)},e.changeFacultyImage=function(t){var r=e.provider.faculty.length;if(t>=0&&r>t){e.activeFacultyIndex=t,e.activeFaculty=e.provider.faculty[t];var o=P(t,e.provider.faculty.length);e.startFacultyIndex=o.start,e.endFacultyIndex=o.end}},e.prevPhoto=function(){var t=e.activePhotoIndex-1;e.changePhotoImage(t,e.provider.faculty.length)},e.nextPhoto=function(){var t=e.activePhotoIndex+1;e.changePhotoImage(t)},e.changePhotoImage=function(t){var r=e.provider.photo.length;if(t>=0&&r>t){e.activePhotoIndex=t,e.activePhoto=e.provider.photo[t];var o=P(t,e.provider.photo.length);e.startPhotoIndex=o.start,e.endPhotoIndex=o.end}},e.editLocation=!1,e.editLocations=function(){e.editLocation=!0},e.saveLocations=function(){e.saveProvider(),e.editLocation=!1},e.editDescription=!1,e.addeditDescription=function(){e.editDescription=!0},e.editEBnote=!1,e.addebNote=function(){e.editEBnote=!0,e.preAddNotesLength=e.provider.ebNote.length;var t={note:"",user:e.user.userId};e.provider.ebNote.push(t),console.info(JSON.stringify(e.provider.ebNote))},e.saveEBNotes=function(){e.saveProvider(),e.editLocation=!1},e.addPhotoTag=function(t){-1==e.tagThisPhoto.tags.indexOf(t._id)&&e.tagThisPhoto.tags.push(t._id)},e.addVideoTag=function(t){-1==e.tagThisVideo.tags.indexOf(t._id)&&e.tagThisVideo.tags.push(t._id)},e.removeVideoTag=function(t){var r=e.tagThisVideo.tags.indexOf(t._id);-1!=r&&e.tagThisVideo.tags.splice(r,1)},e.addFacultyTag=function(t){-1==e.tagThisFaculty.tags.indexOf(t._id)&&e.tagThisFaculty.tags.push(t._id)},e.showFacultyTagDialog=function(t,r){e.tagThisFaculty=r,w.show({contentElement:"#tagFacultyDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.showAddResultDialog=function(t,r){e.resultExam=r,w.show({contentElement:"#addResultDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.showFacultyExamDialog=function(t,r){e.tagThisFaculty=r,e.facultyExamIds=e.tagThisFaculty.exams.map(function(e){return e._id}),w.show({contentElement:"#examFacultyDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.addFacultyExam=function(t){-1==e.tagThisFaculty.exams.indexOf(t)&&(e.tagThisFaculty.exams.push(t),e.facultyExamIds=e.tagThisFaculty.exams.map(function(e){return e._id}))},e.removeFacultyExam=function(t){var r=-1;e.tagThisFaculty.exams.forEach(function(e,o){e._id==t._id&&(r=o)}),-1!=r&&(e.tagThisFaculty.exams.splice(r,1),e.providerExamIds=e.facultyExamIds=e.tagThisFaculty.exams.map(function(e){return e._id}))},e.showResultExamDialog=function(t,r){e.tagThisResult=r,w.show({contentElement:"#resultExamDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.setExamForResult=function(t,r){r.exam=t._id?t._id:t,e.editResult2=!0},e.setResultExam=function(t){e.tagThisResult.exam=t._id?t._id:t,e.cancel()},e.setResultRankCategory=function(e,t){e.category=t},e.setResultYear=function(e,t){e.year=t},e.showPhotoTagDialog=function(t,r){e.tagThisPhoto=r,w.show({contentElement:"#tagPhotoDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.showVideoTagDialog=function(t,r){e.tagThisVideo=r,w.show({contentElement:"#tagVideoDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.showSavedDialog=function(e){w.show({contentElement:"#savedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),C(function(){w.cancel()},1e3)},e.showLatLngDialog=function(e){w.show({contentElement:"#latlngDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),C(function(){w.cancel()},1e3)},e.showNoLatLngDialog=function(e){w.show({contentElement:"#nolatlngDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),C(function(){w.cancel()},3e3)},e.showMarkedDialog=function(e){w.show({contentElement:"#markedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),C(function(){w.cancel()},1e3)},e.showVerifiedDoneDialog=function(e){w.show({contentElement:"#verifiedDoneDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),C(function(){w.cancel()},1e3)},e.showRatingDoneDialog=function(e){w.show({contentElement:"#ratingDoneDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),C(function(){w.cancel()},1e3)},e.showContactInfoAddedDialog=function(e){w.show({contentElement:"#contactInfoAddedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),C(function(){w.cancel()},1e3)},e.showMarkLocationDialog=function(e){w.show({contentElement:"#markLocationDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})},e.showRemoveLastPhoneDialog=function(e){w.show({contentElement:"#removeLastPhoneDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})},e.showPhotoDialog=function(t,r){e.activePhotoIndex=r,e.activePhoto=e.provider.photo[r];var o=P(r,e.provider.photo.length);e.startPhotoIndex=o.start,e.endPhotoIndex=o.end,w.show({contentElement:"#photoDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.showFacultyDialog=function(t,r){e.activeFacultyIndex=r,e.activeFaculty=e.provider.faculty[r];var o=P(r,e.provider.faculty.length);e.startFacultyIndex=o.start,e.endFacultyIndex=o.end,w.show({contentElement:"#facultyDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.showResultDialog=function(t,r,o){e.activeResultIndex=r,e.activeResult=o.result[r];var a=P(r,o.result.length);console.info(r+" "+o.result.length),console.info(JSON.stringify(a)),e.startResultIndex=a.start,e.endResultIndex=a.end,e.dialogExamResult=o,w.show({contentElement:"#resultsDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.cancel=function(){w.cancel()},e.provider.mapAddress=e.provider.latlng?[e.provider.latlng.lat,e.provider.latlng.lng]:e.provider.pincode?e.provider.name+", "+e.provider.address+" "+e.provider.city+" "+e.provider.pincode:e.provider.name+", "+e.provider.address+" "+e.provider.city,e.uploadPhotos=function(t){var a=t.length;e.showAddPhotosForm=!1;var n=e.provider._id,i=0;e.photoProgess=0,t&&t.length&&t.forEach(function(s){var l={filename:s.name,contentType:s.type};o.s3Credentials(l).success(function(o){var l={},c=o.params;for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d]);l.file=s,u.upload({url:o.endpoint_url,data:l}).then(function(t){console.info("Success "+s.name+"uploaded. Response: "+t.data),s.link=$(t.data).find("Location").text(),s.newPhoto={image:s.link};var o={photo:s.newPhoto,providerId:n};r.addPhoto(o).success(function(){if(i+=1,i==a){e.showAddPhotosForm=!0,e.preUploadPhotoLength=e.provider.photo.length;{r.getProvider(n).success(function(t){e.provider=t,e.editPhotos()}).error(function(){console.info("Error ")})}}}).error(function(){console.info("Error ")})},function(e){console.log("Error status: "+e.status)},function(r){e.photoProgess=0,s.uploadProgress=parseInt(100*r.loaded/r.total),t.forEach(function(t,r){console.log(r+" "+t.uploadProgress+" "+a),t.uploadProgress||(t.uploadProgress=0),e.photoProgess+=t.uploadProgress}),e.photoProgess=e.photoProgess/a})}).error(function(){console.info("Error")})})},e.uploadResultPhotos=function(t,r){console.log(r.newresultphotos);{var a=t.length;e.provider._id}console.log(a),e.ResultPhotoProgess=0,t&&t.length&&t.forEach(function(e){var t={filename:e.name,contentType:e.type};o.s3Credentials(t).success(function(t){var r={},o=t.params;for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);r.file=e,u.upload({url:t.endpoint_url,data:r}).then(function(t){console.info("Success "+e.name+"uploaded. Response: "+t.data),e.link=$(t.data).find("Location").text()},function(e){console.log("Error status: "+e.status)},function(){})}).error(function(){console.info("Error")})})},e.uploadResultPic=function(t,a){var n=[t],i=n.length,s=0,l=e.provider._id,c=a._id;n&&n.length&&n.forEach(function(t){var a={filename:t.name,contentType:t.type};o.s3Credentials(a).success(function(o){var a={},n=o.params;for(var d in n)n.hasOwnProperty(d)&&(a[d]=n[d]);a.file=t,u.upload({url:o.endpoint_url,data:a}).then(function(o){console.info("Success "+t.name+"uploaded. Response: "+o.data);var a=$(o.data).find("Location").text(),n={image:a,resultId:c,providerId:l};r.addResultPic(n).success(function(){if(s+=1,s==i){r.getProvider(l).success(function(t){e.provider=t,e.provider=t,e.resultHelper("exam",e.providerExamIds),e.examPivotResults=e.pivotResult,e.resultSortExamYear(),e.editResult=!1,e.showSavedDialog()}).error(function(){console.info("Error ")})}}).error(function(){console.info("Error ")})},function(e){console.log("Error status: "+e.status)},function(){})}).error(function(){console.info("Error")})})},e.uploadLogo=function(t){var a=[t],n=a.length,i=0,s=e.provider._id;a&&a.length&&a.forEach(function(t){var a={filename:t.name,contentType:t.type};o.s3Credentials(a).success(function(o){var a={},l=o.params;for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c]);a.file=t,u.upload({url:o.endpoint_url,data:a}).then(function(o){console.info("Success "+t.name+"uploaded. Response: "+o.data);var a=$(o.data).find("Location").text(),l={logo:a,providerId:s};r.addLogo(l).success(function(){if(i+=1,i==n){r.getProvider(s).success(function(t){e.showSavedDialog(),e.provider=t}).error(function(){console.info("Error ")})}}).error(function(){console.info("Error ")})},function(e){console.log("Error status: "+e.status)},function(){})}).error(function(){console.info("Error")})})},e.uploadResults=function(t){var a=t.length;e.showAddResultsForm=!1;var n=e.provider._id,i=0;e.resultProgess=0,t&&t.length&&t.forEach(function(s){var l={filename:s.name,contentType:s.type};console.log(JSON.stringify(l)),o.s3Credentials(l).success(function(o){var l={},c=o.params;for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d]);l.file=s,u.upload({url:o.endpoint_url,data:l}).then(function(t){console.info("Success "+s.name+"uploaded. Response: "+t.data),s.link=$(t.data).find("Location").text(),s.newResult={image:s.link};var o={result:s.newResult,providerId:n};r.addResult(o).success(function(){if(i+=1,i==a){e.showAddResultsForm=!0,e.preUploadResultLength=e.provider.results.length;{r.getProvider(n).success(function(t){e.provider=t,e.editResults()}).error(function(){console.info("Error ")})}}}).error(function(){console.info("Error ")})},function(e){console.log("Error status: "+e.status)},function(r){e.resultProgess=0,s.uploadProgress=parseInt(100*r.loaded/r.total),t.forEach(function(t){e.resultProgess+=t.uploadProgress}),e.resultProgess=e.resultProgess/a})}).error(function(){console.info("Error")})})},e.uploadFaculties=function(t){var a=t.length;e.showAddFacultiesForm=!1;var n=e.provider._id,i=0;e.facultyProgess=0,t&&t.length&&t.forEach(function(s){var l={filename:s.name,contentType:s.type};console.log(JSON.stringify(l)),o.s3Credentials(l).success(function(o){var l={},c=o.params;for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d]);l.file=s,u.upload({url:o.endpoint_url,data:l}).then(function(t){console.info("Success "+s.name+"uploaded. Response: "+t.data),s.link=$(t.data).find("Location").text(),s.newFaculty={image:s.link};var o={faculty:s.newFaculty,providerId:n};r.addFaculty(o).success(function(){if(i+=1,i==a){e.showAddFacultysForm=!0,e.preUploadFacultyLength=e.provider.faculty.length;{r.getProvider(n).success(function(t){e.provider=t,e.editFaculties()}).error(function(){console.info("Error ")})}}}).error(function(){console.info("Error ")})},function(e){console.log("Error status: "+e.status)},function(r){e.facultyProgess=0,s.uploadProgress=parseInt(100*r.loaded/r.total),t.forEach(function(t){t.uploadProgress||(t.uploadProgress=0),e.facultyProgess+=t.uploadProgress}),e.facultyProgess=e.facultyProgess/a})}).error(function(){console.info("Error")})})},e.ratingParams=[{name:"n_centers",displayname:"No. of Centres",options:["> 20","10 - 20","5 - 10","2 - 5","1"]},{name:"n_exams",displayname:"No. of Exams",options:["> 5","4","3","2","1"]},{name:"total_students",displayname:"Total Students",options:["> 1000","500 - 1000","250 - 500","100 - 250","< 100"]},{name:"avg_batch_strength",displayname:"Average Batch Strength",options:["20 - 30","30 - 50","50 - 70","70 - 100","> 100"]},{name:"student_to_faculty_ratio",displayname:"Student to Faculty Ratio",options:["< 20","20 - 30","30 - 50","50 - 100","> 100"]},{name:"avg_teacher_experience",displayname:"Average Teacher Experience (years)",options:["> 15","10 - 15","5 - 10","2 - 5","< 2"]}],e.ratingFacilities=[{name:"printed_notes",displayname:"Printed Notes/ Study Material",description:"Does the CI supply printed notes?"},{name:"test_series",displayname:"Test Series",description:"Does the CI have its own test series?"},{name:"dlp",displayname:"DLP",description:"Does the CI have Distance Learning Program?"},{name:"hostel",displayname:"Hostel",description:"Does the CI have hostel facilities?"},{name:"doubt_sessions",displayname:"Doubt sessions",description:"Does the CI have periodic doubt sessions?"},{name:"periodic_performance_tests",displayname:"Periodic Performance Tests",description:"Does the CI have periodic performance tests?"},{name:"online_lectures",displayname:"Online Lectures",description:"Does the CI have online lectures?"},{name:"n_classrooms",displayname:"Classrooms > 5",description:"Does the CI have more than 5 classrooms in the centre?"},{name:"counselling",displayname:"Counselling",description:"Does the CI offer counselling?"},{name:"entrance_test",displayname:"Entrance Test",description:"Does the CI have an entrance test?"}],e.examRatingParams=[{name:"percent_students_selected",displayname:"% of students selected in the Exam",options:["> 50%","25% - 50%","10% - 25%","5% - 10%","< 5%"]},{name:"ranks_top100",displayname:"Ranks of students in top 100",options:["> 25","15 - 25","10 - 15","5 - 10","1 - 5","0"]},{name:"ranks_top1000",displayname:"Ranks of students in top 1000",options:["> 200","100 - 200","50 - 100","10 - 50","< 10","0"]}],e.editRating=!1,e.editRatings=function(){e.editRating=!0},e.ratingParamValues={},e.ratingParamEstimate={},e.ratingParamValue={},e.examRatingParamValues=[],e.ratingFacilitiesValues={},e.ratingParams.forEach(function(t){e.ratingParamValues[t.name]=null,e.ratingParamEstimate[t.name]=!1,e.ratingParamValue[t.name]=""}),e.ratingFacilities.forEach(function(t){e.ratingFacilitiesValues[t.name]=!1}),e.setExamRatingResultType=function(e,t){t.resultType=e},e.examRatingResultTypes=["CLP only","CLP+DLP"],e.provider.exams.forEach(function(t){var r={exam:t,resultType:"CLP+DLP",rating:{}};e.examRatingParams.forEach(function(e){r.rating[e.name]={option:null,estimate:!1,value:""}}),e.examRatingParamValues.push(r)}),e.provider.rating){for(var L in e.ratingParamValues)e.provider.rating[L]&&(e.ratingParamValues[L]=e.provider.rating[L].option,e.ratingParamEstimate[L]=e.provider.rating[L].estimate,e.ratingParamValue[L]=e.provider.rating[L].value);e.provider.rating.examRating&&e.provider.rating.examRating.length>0&&(e.examRatingParamValues=e.provider.rating.examRating),e.provider.rating.facilities&&(e.ratingFacilitiesValues=e.provider.rating.facilities)}e.setRatingParam=function(t,r){e.ratingParamValues[t.name]=r},e.setRatingFacility=function(t){e.ratingFacilitiesValues[t.name]=!0},e.unsetRatingFacility=function(t){e.ratingFacilitiesValues[t.name]=!1},e.setExamRatingParam=function(e,t,r){e.rating[t.name].option=r},e.checkRatingFilled=function(){var t=!1;for(var r in e.ratingParamValues)e.ratingParamValues[r]||(t=!0);return t},e.saveProviderRating=function(){e.provider.rating||(e.provider.rating={}),e.ratingParams.forEach(function(t){var r={option:e.ratingParamValues[t.name],estimate:e.ratingParamEstimate[t.name],value:e.ratingParamValue[t.name]};e.provider.rating[t.name]=r}),e.provider.rating.facilities=e.ratingFacilitiesValues,e.provider.rating.examRating=[],e.examRatingParamValues.forEach(function(t){var r={exam:t.exam._id,rating:t.rating};e.provider.rating.examRating.push(r)});var t={targetStudyProvider:e.provider,user:e.user.userId};r.saveProvider(t).success(function(){var t={institute:e.provider._id};console.log(t),E.markDone(t).success(function(){e.showRatingDoneDialog(),console.info("Rating Marked")}).error(function(){console.info("Error ")})}).error(function(){console.info("Error ")})},t.pageTitle=e.provider.name;var D=(e.provider.name+" listing in "+e.provider.city+" - Claim Now","");e.provider.exams.forEach(function(t,r){D+=t.displayname,r<e.provider.exams.length-1&&(D+=", ")});var O="Study at "+e.provider.name+", "+e.city+" for "+D+". | Exambazaar - results, fees, faculty, photos, vidoes, reviews of "+y.groupName;t.pageDescription=O}]),exambazaar.controller("showCoachingController",["$scope","$rootScope","targetStudyProviderService","thisProvider","$state","$stateParams","$cookies","thisStream","thisExam","$document",function(e,t,r,o,a,n,i,s,l){if(e.hideLoginDialog(),e.category=s.data,e.subcategory=l.data,e.city=n.cityName,e.editable=!1,i.getObject("sessionuser")){var c=i.getObject("sessionuser");"Master"==c.userType&&(e.editable=!0)}e.components=["Contact","Results","Courses","Photos","Videos","Faculty","Location"],e.provider=o.data,e.provider.mapAddress=e.provider.pincode?e.provider.name+", "+e.provider.address+" "+e.provider.city+" "+e.provider.pincode:e.provider.name+", "+e.provider.address+" "+e.provider.city,e.exams=e.provider.exams,e.streamIds=[],e.streams=[],e.exams.forEach(function(t){-1==e.streamIds.indexOf(t.stream._id)&&(e.streamIds.push(t.stream._id),e.streams.push(t.stream))}),console.info(e.streams),e.overviewIcons=[{icon:"images/icons/centre.png",text:"Centres",data:"1"},{icon:"images/icons/city.png",text:"Cities",data:"1"},{icon:"images/icons/students.png",text:"Students",data:"100"},{icon:"images/icons/faculty.png",text:"Faculty",data:"10"}],e.showMap=!1,e.flipMap=function(){e.showMap=!e.showMap},t.pageTitle=e.provider.name+": "+e.subcategory.displayname+" preparation in "+e.city}]),exambazaar.controller("partnerDashboardController",["$scope","$state","thisPartner","targetStudyProviderService","$mdDialog","$timeout",function(e,t,r,o,a,n){e.partner=r.data,e.listing=e.partner.partner[0],e.editManagement=!1,e.management=e.listing.management,e.primaryManagement=e.listing.primaryManagement,e.addPrimaryManagement=!1,e.showOtherManagement=!1,e.primaryManagement&&""!=e.primaryManagement.mobile&&""!=e.primaryManagement.name||(e.addPrimaryManagement=!0,e.primaryManagement={name:"",mobile:"",role:"",email:""}),e.showOthers=function(){e.showOtherManagement=!0},e.unShowOthers=function(){e.showOtherManagement=!1},e.editAll=function(){e.editManagement=!0,e.management.forEach(function(e){e.editable=!0})},e.editPrimaryManagement=function(){e.addPrimaryManagement=!0,e.showOthers(),e.editAll()},e.management||(e.management=[]);var i={name:"",mobile:"",role:"",email:"",editable:!0};e.addNewManagement=function(){e.management.push(i)},e.removeManagement=function(r,a){if(r._id){var n=e.management.map(function(e){return e._id}),i=n.indexOf(r._id);if(-1!=i){var s={management:r,providerId:e.listing._id};o.removeManagement(s).success(function(){e.showSavedDialog(),t.reload(),console.info("Done")}).error(function(){console.info("Error ")})}else e.management.splice(a,1)}else e.management.splice(a,1)},e.savePrimaryManagement=function(){var r=e.primaryManagement,a=r.mobile,n=r.name,i=e.management.map(function(e){return e.mobile});if(""!=a&&""!=n){var s=i.indexOf(a);if(-1==s){var l={management:r,providerId:e.listing._id};o.addPrimaryManagement(l).success(function(){e.showSavedDialog(),t.reload(),console.info("Done")}).error(function(){console.info("Error ")})}else e.existingManagement=e.management[s],e.showMobileExistDialog()}else e.showErrorDialog()},e.editManagementFunc=function(e){e.editable=!0},e.saveManagement=function(r){var a=r.mobile,n=r.name,i=e.management.map(function(e){return e.editable?null:e.mobile});if(""!=a&&""!=n){var s=i.indexOf(a);if(-1==s){var l={management:r,providerId:e.listing._id};
o.addManagement(l).success(function(){e.showSavedDialog(),t.reload(),console.info("Done")}).error(function(){console.info("Error ")})}else e.existingManagement=e.management[s],e.showMobileExistDialog()}else e.showErrorDialog()},e.dontsaveChanges=function(){t.reload()},e.showSavedDialog=function(e){a.show({contentElement:"#savedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),n(function(){a.cancel()},1e3)},e.showMobileExistDialog=function(e){a.show({contentElement:"#mobileExistDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),n(function(){a.cancel()},5e3)},e.showErrorDialog=function(e){a.show({contentElement:"#errorDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),n(function(){a.cancel()},5e3)},e.edit=function(){t.go("claim",{coachingId:e.listing._id})}}]),exambazaar.controller("masterDashboardController",["$scope","usersCount","verifiedUsersCount","studentCount","coachingCount","internList","tofillciList","tofillciService","viewService","$state","masterViewSummary","coachingSavedCount","filledCount","reviewsCount","couponsCount","issuedcouponsCount","$mdDialog","toverifyciService","toverifyciList","verifiedCount","$rootScope","targetStudyProviderService","$timeout","addContactInfoService","addContactInfoList","rateInstituteService","rateInstituteList","couponService",function(e,t,r,o,a,n,i,s,l,c,u,d,m,f,g,p,h,v,y,b,w,C,S,I,x,E,P,T){e.today=moment();var k=moment().startOf("week").subtract(3,"days"),U=moment().endOf("week").add(1,"w");e.days=[];for(var L=k;U>=L;)e.days.push(L.toDate()),L=L.clone().add(1,"d");e.daysTask=function(t,r){var o=e.compareDates(t._deadline,r);return console.info(t._deadline+" "+r+" "+o),0==o?!0:!1},e.compareDates=function(e,t){e=new Date(e);var r=moment(e,"DD/MM/YYYY"),o=moment(t,"DD/MM/YYYY");return r>o?1:o>r?-1:0},e.usersCount=t.data,e.studentCount=o.data,e.coachingCount=a.data,e.coachingSavedCount=d.data,e.internList=n.data,e.activeInternList=[],e.internList.forEach(function(t){t.active&&e.activeInternList.push(t)}),e.couponDatabaseEdit=function(){console.log("Database edit starting"),T.databaseServices().success(function(){alert("All Done")}).error(function(e,t){console.info(t+" "+e)})},e.showSavedDialog=function(e){h.show({contentElement:"#savedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),S(function(){h.cancel()},1e3)},e.showFillDialog=function(e){h.show({contentElement:"#fillDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})},e.showInternAssignedDialog=function(e){h.show({contentElement:"#internAssignedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})},e.changeUser=function(){v.changeUser().success(function(){e.showSavedDialog(),c.reload()}).error(function(e,t){console.info(t+" "+e)})},e.changeUserContactInfo=function(){I.changeUser().success(function(){e.showSavedDialog(),c.reload()}).error(function(e,t){console.info(t+" "+e)})},e.filledCount=m.data,e.reviewsCount=f.data,e.couponsCount=g.data,e.issuedcouponsCount=p.data,e.tofillciList=i.data;var $=e.tofillciList.map(function(e){return e.institute.groupName});e.toverifyciList=y.data,e.addContactInfoList=x.data,e.rateInstituteList=P.data;var D=e.rateInstituteList.map(function(e){return e.institute.groupName});e.verifiedCount=b.data,e.masterViewSummary=u.data,e.internDueList=[],e.yesterdayTasks=[],e.fillsDue=0,e.fillsAssigned=0;var O=e.internList.map(function(e){return e._id});e.internList.forEach(function(t){var r={intern:t,done:0,due:0,assigned:0,taskList:[]};e.internDueList.push(r)});var R=new Date;R.setDate(R.getDate()-1),R.setHours(0,0,0,0),e.yesterday=R;var M=new Date;e.tofillciList.forEach(function(t){var r=O.indexOf(t.user._id);if(1==e.compareDates(t._deadline,e.days[0])&&e.internDueList[r].taskList.push(t),t.active){e.fillsAssigned+=1;var o=O.indexOf(t.user._id);e.internDueList[o].assigned+=1,1==compare(M,new Date(t._deadline))&&(e.internDueList[o].due+=1,e.fillsDue+=1)}else{var a=t.institute.email;t.noEmail=a&&0!=a.length?!1:!0;var o=O.indexOf(t.user._id);e.internDueList[o].done+=1,1==compare(new Date(t._finished),R)&&e.yesterdayTasks.push(t)}}),e.verifiedUsersCount=r.data,e.ciDeadline=new Date,e.ciDeadline.setDate(e.ciDeadline.getDate()+1),e.assignCIFill=function(){var t=e.ciIntern,r=e.instituteInput,o=e.ciDeadline;o.setHours(23,59,59);var a=r.split("/"),r=a[a.length-1];if(r.length<15||!o)alert("Check Coaching Id or URL and deadline date");else{var n={institute:r,user:t,_deadline:o};console.log(JSON.stringify(n)),s.savetofillci(n).success(function(){e.showSavedDialog(),c.reload()}).error(function(e,t){console.info(t+" "+e)})}},e.getInternAssigned=function(t){var r=t.intern._id,o=O.indexOf(r);e.activeIntern=e.internDueList[o],e.showInternAssignedDialog()},e.getSummary=function(t){var r=t.institute._id;C.getProviderFillSummary(r).success(function(r){e.fillProvider=r,e.fillUser=t.user,e.showFillDialog(),console.info(JSON.stringify(r))}).error(function(){console.info("Error ")})},e.rankedCities=["Jaipur","Delhi","Mumbai","New Delhi","Gurgaon","Kota"],e.ciVerifyDeadline=new Date,e.ciVerifyDeadline.setDate(e.ciVerifyDeadline.getDate()+1),e.instituteVerifyCount=1,e.ciVerifyIntern=e.internList[e.internList.length-1],e.verifyCity="Jaipur",e.assignCIVerify=function(){var t=e.ciVerifyIntern,r=e.instituteVerifyCount,o=e.ciVerifyDeadline,a=e.verifyCity;if(o.setHours(23,59,59),""!=r&&o){var n={verifyCity:a,instituteVerifyCount:r,user:t,_deadline:o};console.info(n),v.savetoverifyci(n).success(function(){console.info("Done"),c.reload()}).error(function(e,t){console.info(t+" "+e)})}else alert("Check Count or URL and deadline date")},e.addContactInfoDeadline=new Date,e.addContactInfoDeadline.setDate(e.addContactInfoDeadline.getDate()+1),e.assignAddContactInfo=function(){var t=e.addContactInfoIntern,r=e.addContactInfoCount,o=e.addContactInfoDeadline,a=e.addContactInfoCity;if(o.setHours(23,59,59),""!=r&&o){var n={addContactInfoCity:a,addContactInfoCount:r,user:t,_deadline:o};console.info(n),I.saveaddContactInfo(n).success(function(){console.info("Done"),c.reload()}).error(function(e,t){console.info(t+" "+e)})}else alert("Check Count or URL and deadline date")},e.showRemoveConfirm=function(t,r){var o=h.confirm().title("Would you like to remove "+t.institute.name+" for "+t.user.basic.name+"?").textContent("Assigned on: "+moment(t._created).format("DD-MMM HH:mm")+", Deadline: "+moment(t._deadline).format("DD-MMM HH:mm")+"!").ariaLabel("Lucky day").targetEvent(r).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");h.show(o).then(function(){e.removeAssigned(t)},function(){})},e.showRateRemoveConfirm=function(t,r){var o=h.confirm().title("Would you like to remove "+t.institute.name+" for "+t.user.basic.name+"?").textContent("Assigned on: "+moment(t._created).format("DD-MMM HH:mm")+", Deadline: "+moment(t._deadline).format("DD-MMM HH:mm")+"!").ariaLabel("Lucky day").targetEvent(r).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");h.show(o).then(function(){e.removeRateAssigned(t)},function(){})},e.removeAssigned=function(e){console.log(e),s.removeAssigned(e._id),c.reload()},e.removeRateAssigned=function(e){console.log(e),E.removeAssigned(e._id),c.reload()},w.pageTitle="Master Dashboard",e.fetching=!1,e.$watch("instituteInput",function(t){if(null!=t&&""!=t){var r=t.split("/");t=r[r.length-1],t.length>5&&(e.fetching=!0,e.assignError=!1,console.log(t),C.getGroupName(t).success(function(t){console.log(t),t?(e.assignGroup=t,e.prevFilledLength=-1==$.indexOf(t)?0:1):e.assignError=!0,e.fetching=!1}).error(function(){console.info("Error ")}))}},!0),e.rateInstitutefetching=!1,e.$watch("rateInstitute",function(t){if(null!=t&&""!=t){var r=t.split("/");t=r[r.length-1],t.length>5&&(e.fetching=!0,e.assignError=!1,console.log(t),C.getGroupName(t).success(function(t){console.log(t),t?(e.assignGroup=t,e.prevRateLength=-1==D.indexOf(t)?0:1):e.assignError=!0,e.fetching=!1}).error(function(){console.info("Error ")}))}},!0),e.ciRateDeadline=new Date,e.ciRateDeadline.setDate(e.ciRateDeadline.getDate()+1),e.assignCIRate=function(){var t=e.ciRateIntern,r=e.rateInstitute,o=e.ciRateDeadline;o.setHours(23,59,59);var a=r.split("/"),r=a[a.length-1];if(r.length<15||!o)alert("Check Coaching Id or URL and deadline date");else{var n={institute:r,user:t,_deadline:o};console.log(JSON.stringify(n)),E.saverateInstitute(n).success(function(){e.showSavedDialog(),c.reload()}).error(function(e,t){console.info(t+" "+e)})}}}]),exambazaar.controller("seocontroller",["$rootScope",function(e){e.pageTitle="Exambazaar: Exclusive Deals and Videos for test preparation"}]),exambazaar.controller("loginController",["$scope","$rootScope","$state","$cookies","$http","UserService","$mdDialog",function(e,t,r,o,a,n,i){i.hide(),e.login={mobile:"",password:""},"undefined"!=typeof o.getObject("sessionuser")&&(e.sessionuser=o.getObject("sessionuser")),null!=e.sessionuser&&null!=e.sessionuser.studentId&&StudentService.getStudentNotification(e.sessionuser.studentId).success(function(t){e.$evalAsync(function(e){e.notification=t})}).error(function(e,t){console.info(t+" "+e)}),e.login=function(){a.post("/login",{mobile:e.login.mobile,password:e.login.password}).success(function(e){var t={userId:e._id};if(o.getObject("ip")){var a=o.getObject("ip");t.ip=a}console.info(JSON.stringify(t)),n.markLogin(t).success(function(){console.info("Login marked")}).error(function(e,t){console.info(t+" "+e)}),n.getUser(e._id).success(function(t){var a,n=t;e.verified===!0?(console.info("User type is: "+e.userType),a={userId:n._id,masterId:n._id,facebookId:n.facebookId,userType:n.userType,basic:n.basic,image:n.image,mobile:n.mobile,email:n.email},o.putObject("sessionuser",a),"landing"==r.current.name||"login"==r.current.name?("Master"==a.userType&&r.go("master-dashboard",{masterId:a.masterId}),"Intern - Business Development"==a.userType&&r.go("assigned",{userId:a.userId}),"Student"==a.userType&&r.reload()):r.reload()):r.go("verify",{userId:e._id})}).error(function(){console.info("Error")})}).error(function(){e.login.password="",e.message="Incorrect Mobile or Password"})}}]),exambazaar.controller("headerController",["$scope","$rootScope","$state","$stateParams","$cookies","$http","UserService","OTPService","NotificationService","ipService","$geolocation","$facebook","$mdDialog","EmailService",function(e,t,r,o,a,n,i,s,l,c,u,d,m,f){function g(){d.api("/me",{fields:"id, name, age_range, link, gender, picture, email"}).then(function(t){e.sessionuser&&e.sessionuser.userId?(e.sessionuser.fbuser={name:t.name,gender:t.gender,image:t.picture.data.url,email:t.email,facebook:{link:t.link,id:t.id}},e.sessionuser.facebookId||(console.log("Calls being made to add user"),e.sessionuser.fbuser.facebook.accessToken=e.fbLoginStatus.authResponse.accessToken,i.fbSave(e.sessionuser).success(function(t){m.hide();var o=t;console.log(o);var n={_id:o._id,userId:o._id,facebookId:o.facebookId,userType:o.userType,basic:o.basic,image:o.image,mobile:o.mobile,email:o.email};a.putObject("sessionuser",n),e.sessionuser=n,m.hide(),console.log(n.userType),"landing"==r.current.name?("Master"==n.userType&&r.go("master-dashboard",{masterId:n.userId}),"Intern - Business Development"==n.userType&&r.go("assigned",{userId:n.userId}),"Student"==n.userType&&r.reload(),"Partner"==n.userType&&r.go("partner-dashboard",{userId:n.userId})):window.location.reload(!0)}).error(function(){console.info("Error ")}))):(e.sessionuser={},e.sessionuser.fbuser={name:t.name,gender:t.gender,image:t.picture.data.url,email:t.email,facebook:{link:t.link,id:t.id}},e.sessionuser.facebookId||(console.log("Calls being made to add user"),e.sessionuser.fbuser.facebook.accessToken=e.fbLoginStatus.authResponse.accessToken,i.fbSave(e.sessionuser).success(function(t){m.hide();var o=t;console.log(o);var n={_id:o._id,userId:o._id,facebookId:o.facebookId,userType:o.userType,basic:o.basic,image:o.image,mobile:o.mobile,email:o.email};a.putObject("sessionuser",n),e.sessionuser=n,m.hide(),"landing"==r.current.name?("Master"==n.userType&&r.go("master-dashboard",{masterId:n.userId}),"Intern - Business Development"==n.userType&&r.go("assigned",{userId:n.userId}),"Student"==n.userType&&r.reload(),"Partner"==n.userType&&r.go("partner-dashboard",{userId:n.userId})):r.reload()}).error(function(){console.info("Error ")})))},function(){e.welcomeMsg="Please log in",e.isLoggedIn=!1}),d.api("/me/permissions").then(function(t){e.permissions=t},function(){e.welcomeMsg="Permissions Error"})}e.sendWelcomeEmail=function(){e.user||(e.user=a.getObject("sessionuser")),console.log(e.user),e.user&&e.user.email?(e.email={to:e.user.email,templateName:"Welcome Email",username:e.user.basic.name},f.welcomeEmail(e.email).success(function(e){var t=e;console.info(JSON.stringify(t))}).error(function(e,t){console.info("Error "+e+" "+t)})):console.log("Either no user or no email for the user")},t.stateName=r.current.name,"showGroup"==t.stateName&&(t.coachingGroupName=o.groupName,t.coachingGroupCity=o.cityName),e.showLoginDialog=function(e){m.show("showGroup"==r.current.name||"claim"==r.current.name?{contentElement:"#loginDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!1,escapeToClose:!1,openFrom:{top:-50,width:30,height:80},closeTo:{left:1500}}:{contentElement:"#loginDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,escapeToClose:!0,openFrom:{top:-50,width:30,height:80},closeTo:{left:1500}})},e.hideLoginDialog=function(){m.hide()},e.signupMode=!1,e.resetMode=!1,e.signupToggle=function(){e.signupMode=!e.signupMode},e.resetToggle=function(){e.resetMode=!e.resetMode},a.getObject("ip")?console.log("IP exists"):c.getip().success(function(e){var t={city:e.city,country:e.country_name,region:e.region_name,lat:e.latitude,"long":e.longitude,zip:e.zip_code,query:e.ip};a.putObject("ip",t)}).error(function(){console.info()}),a.getObject("userlocation")?(e.userlocation=a.getObject("userlocation"),(!e.userPosition||e.userPosition.length<4)&&u.getCurrentPosition({timeout:6e4}).then(function(t){a.putObject("userlocation",t),e.userlocation=t,e.userlocation&&e.userlocation.coords&&e.userlocation.coords.latitude&&e.userlocation.coords.longitude&&(e.userlatlng=new google.maps.LatLng(e.userlocation.coords.latitude,e.userlocation.coords.longitude),e.userPosition=e.userlocation.coords.latitude.toString()+","+e.userlocation.coords.longitude.toString())}),e.userlocation&&e.userlocation.coords&&e.userlocation.coords.latitude&&e.userlocation.coords.longitude&&(e.userlatlng=new google.maps.LatLng(e.userlocation.coords.latitude,e.userlocation.coords.longitude),e.userPosition=e.userlocation.coords.latitude.toString()+","+e.userlocation.coords.longitude.toString())):u.getCurrentPosition({timeout:6e4}).then(function(t){a.putObject("userlocation",t),e.userlocation=t,e.userlocation&&e.userlocation.coords&&e.userlocation.coords.latitude&&e.userlocation.coords.longitude&&(e.userlatlng=new google.maps.LatLng(e.userlocation.coords.latitude,e.userlocation.coords.longitude))}),e.showLoginForm=function(){e.showLoginDialog()},t.$on("CallShowLogin",function(){e.showLoginForm()}),e.sessionuser=a.getObject("sessionuser")?a.getObject("sessionuser"):{},e.userlogin={mobile:"",password:""},e.login=function(){console.log("Login Initiated"),n.post("/login",{mobile:e.userlogin.mobile,password:e.userlogin.password}).success(function(t){var o={userId:t._id};if(a.getObject("ip")){var n=a.getObject("ip");o.ip=n}console.info(JSON.stringify(o)),i.markLogin(o).success(function(){console.info("Login marked")}).error(function(e,t){console.info(t+" "+e)}),i.getUser(t._id).success(function(o){e.hideLoginDialog();var n=o;console.log(n);var i;t.verified===!0?(i={_id:n._id,userId:n._id,masterId:n._id,facebookId:n.facebookId,userType:n.userType,basic:n.basic,image:n.image,mobile:n.mobile,email:n.email},"Partner"==t.userType&&(i.partner=t.partner),a.putObject("sessionuser",i),"Partner"==i.userType&&console.info(JSON.stringify(i)),"landing"==r.current.name?("Master"==i.userType&&r.go("master-dashboard",{masterId:i.masterId}),"Intern - Business Development"==i.userType&&r.go("assigned",{userId:i.userId}),"Student"==i.userType&&r.reload(),"Partner"==i.userType&&r.go("partner-dashboard",{userId:i.userId})):"Partner"==i.userType?r.go("partner-dashboard",{userId:i.userId}):window.location.reload(!0)):r.go("verify",{userId:t._id})}).error(function(){console.info("Error")})}).error(function(){e.login.password="",e.loginErrorMessage="Incorrect mobile or password"})},e.logout=function(){e.sessionuser&&e.sessionuser.facebookId?(console.log("Facebook Logout Initiated"),a.remove("sessionuser"),e.sessionuser={},d.logout().then(function(){console.log("Facebook Logout done"),r.reload()})):(console.log("Normal Logout Inititated"),a.remove("sessionuser"),e.sessionuser={},n.post("/logout"),r.reload())},e.fblogin=function(){console.log("FB Login Initiated"),d.login().then(function(t){e.fbLoginStatus=t,console.log("Login Status is: "+e.fbLoginStatus),console.log(e.fbLoginStatus),g()})},e.signup={name:"",email:"",mobile:"",password:""},e.checkSignupForm=function(){var t=!1;return e.signup.name.length<3&&(t=!0),(!e.signup.password||e.signup.password.length<6)&&(t=!0),e.OTPVerified||(t=!0),t},e.checkResetForm=function(){var t=!1;return e.reset.mobile&&(e.reset.mobile=e.reset.mobile.toString()),e.reset.mobile&&10==e.reset.mobile.length||(t=!0),(!e.reset.password||e.reset.password.length<6)&&(t=!0),e.ResetOTPVerified||(t=!0),t},e.showVerifyOTP=!1,e.showResetVerifyOTP=!1,e.OTPsent=!1,e.ResetOTPsent=!1,e.$watch("signup.mobile",function(t){t&&(t=t.toString()),t&&10==t.length&&(e.showVerifyOTP=!0,e.userExistMessage=null)},!0),e.reset={mobile:"",otp:"",password:""},e.$watch("reset.mobile",function(t){t&&(t=t.toString()),t&&10==t.length?(e.showResetVerifyOTP=!0,e.userExistMessage=null):(e.showResetVerifyOTP=!1,e.userExistMessage=null)},!0),e.$watch("reset.otp",function(t){t&&(t=t.toString()),t&&4==t.length&&(console.log(t),e.setResetOTP==t?(e.ResetOTPVerified=!0,e.ResetOTPmessage=null):e.ResetOTPmessage="Incorrect OTP")},!0),e.$watch("signup.otp",function(t){t&&(t=t.toString()),t&&4==t.length&&(e.setOTP==t?(e.OTPVerified=!0,e.OTPmessage=null):e.OTPmessage="Incorrect OTP")},!0),e.verifyPhone=function(){e.generateUserOTP()},e.resetPhone=function(){e.generateUserResetOTP()},e.verifyOTP=function(){e.newUser.OTP==e.setOTP?(e.step2=!1,e.step3=!0):e.OTPmessage="Incorrect OTP"},e.signupUser=function(){e.signup.userType="Student",e.signup.verified=!0;i.saveUser(e.signup).success(function(t){var o=t,n={_id:o._id,userId:o._id,masterId:o._id,facebookId:o.facebookId,userType:o.userType,basic:o.basic,image:o.image,mobile:o.mobile,email:o.email};a.putObject("sessionuser",n),e.sessionuser=n,m.hide(),r.reload()}).error(function(e,t){console.info("Error "+e+" "+t)})},e.generateUserResetOTP=function(){console.log("Sending Reset Message"),i.userexists(e.reset.mobile).success(function(t){var r=t;if(r){var o={mobile:e.reset.mobile,otp:generateOtp(),reason:"Reset"};s.generateOTP(o).success(function(t){e.ResetOTPsent=!0,e.setResetOTP=t.otp,console.info("OTP sent to mobile "+o.mobile)}).error(function(){})}else e.userResetExistMessage="User with mobile "+e.reset.mobile+" does not exist!"}).error(function(e,t){console.info("Error "+e+" "+t)})},e.generateUserOTP=function(){i.userexists(e.signup.mobile).success(function(t){var r=t;if(r)e.userExistMessage="User with mobile "+e.signup.mobile+" already exists!";else{var o={mobile:e.signup.mobile,otp:generateOtp(),reason:"Signup"};s.generateOTP(o).success(function(t){e.OTPsent=!0,e.setOTP=t.otp,console.info("OTP sent to mobile "+o.mobile)}).error(function(){})}}).error(function(e,t){console.info("Error "+e+" "+t)})},e.resetPassword=function(){console.log(e.reset);var t={mobile:e.reset.mobile,newPassword:e.reset.password};i.updatePassword(t).success(function(){e.userlogin.mobile=e.reset.mobile,e.userlogin.password=e.reset.password,e.login()}).error(function(t,r,o,a){e.ServerResponse=htmlDecode("Data: "+t+"\n\n\n\nstatus: "+r+"\n\n\n\nheaders: "+o+"\n\n\n\nconfig: "+a)})}}]),exambazaar.controller("verifyController",["$scope","thisuser","OTPService","UserService","$rootScope","$state","$cookies",function(e,t,r,o,a,n,i){e.user=t.data,e.sessionuser=i.getObject("sessionuser"),e.enterOTP=!1,e.setOTP,e.next=!1,e.privacyPolicy=!1,e.OTPgenerated=!1,e.acceptPrivacyPolicy=!1;var s={_user:e.user._id,firstName:e.user.firstName,mobile:e.user.mobile,otp:generateOtp(),reason:"Verification"};e.generateUserOTP=function(){r.generateOTP(s).success(function(t){e.acknowledgement=t,e.enterOTP=!0,e.setOTP=t.otp,a.message="OTP sent to mobile "+s.mobile}).error(function(t,r,o,a){e.ServerResponse=htmlDecode("Data: "+t+"\n\n\n\nstatus: "+r+"\n\n\n\nheaders: "+o+"\n\n\n\nconfig: "+a)}),e.OTPgenerated=!0},e.checkOTP=function(){e.inputOTP==e.setOTP?(e.privacyPolicy=!0,e.acceptPrivacyPolicy=!0):(e.privacyPolicy=!1,e.acceptPrivacyPolicy=!0)},e.setNewPassword=function(){var t={userId:e.user._id,newPassword:e.password};o.updatePassword(t).success(function(){a.message="User verified & password updated! Please login again.",e.logout()}).error(function(t,r,o,a){e.ServerResponse=htmlDecode("Data: "+t+"\n\n\n\nstatus: "+r+"\n\n\n\nheaders: "+o+"\n\n\n\nconfig: "+a)})}}]),exambazaar.controller("internshipController",["$scope","$rootScope","FileUploader","MasterService",function(e,t,r,o){e.submitted=0,t.pageTitle="Internships at Exam Bazaar";var a=e.uploader=new r({url:"https://file.io",autoUpload:!0});a.onSuccessItem=function(t,r){var o=r.link;console.info("Resume added"),o&&(e.applicant.resume=o)},e.submit=function(){e.applicant.resume?(console.info("Ready to add to database"),o.addIntern(e.applicant).success(function(){console.info("Done"),e.submitted=1}).error(function(){console.info("Error!!!"),alert("Something went wrong. Instead email you candidacy to gaurav@educhronicle.com")})):alert("Add Resume or wait for it to upload before submitting")},e.responsibilities=["Building partnerships & collating further information about education providers","Assisting in the preparation, distribution and delivery of marketing material","Growing the business through social media and traditional expansion means","Receiving feedback from users and developing techniques to improve the service consequently"],e.requirements=["Excellent verbal and written communication skills, with extensive knowledge of social media","Proficient in Microsoft PowerPoint, Word and Excel","Good organizational and execution skills, focus on detail","Strong team player who can work independently"]}]),exambazaar.controller("accountController",["$scope","$rootScope","Upload","ImageService",function(e,t,r,o){e.uploadFiles=function(){var t=e.files;t&&t.length&&t.forEach(function(e){var t={filename:e.name,contentType:e.type};console.info(t),o.s3Credentials(t).success(function(t){var o={},a=t.params;for(var n in a)a.hasOwnProperty(n)&&(o[n]=a[n]);o.file=e,r.upload({url:t.endpoint_url,data:o}).then(function(t){console.log("Success "+e.name+"uploaded. Response: "+t.data),e.link=$(t.data).find("Location").text()},function(e){console.log("Error status: "+e.status)},function(t){e.uploadProgress=parseInt(100*t.loaded/t.total)})}).error(function(){console.info("Error ")})})},e.submit=function(){if(e.form.file.$valid&&e.file){var t={filename:e.file.name,contentType:e.file.type};console.info(JSON.stringify(t)),o.s3Credentials(t).success(function(t){var o={},a=t.params;for(var n in a)a.hasOwnProperty(n)&&(o[n]=a[n]);o.file=e.file,r.upload({url:t.endpoint_url,data:o}).then(function(t){console.log("Success "+e.file.name+"uploaded. Response: "+t.data)},function(e){console.log("Error status: "+e.status)},function(t){e.file.uploadProgress=parseInt(100*t.loaded/t.total),console.log("progress: "+e.file.uploadProgress+"% "+e.file.name)}),e.upload(o,t.endpoint_url)}).error(function(){console.info("Error ")})}else console.info("Error")},e.upload=function(e,t){console.info(e,t),r.upload({url:t,data:e}).then(function(e){console.log("Success "+e.config.data.file.name+"uploaded. Response: "+e.data)},function(e){console.log("Error status: "+e.status)},function(t){var r=parseInt(100*t.loaded/t.total);console.log("progress: "+r+"% "+e.file.name)})}}]),exambazaar.controller("masterController",["$scope","thismaster",function(e,t){e.master=t.data,e.filterText="",e.setFilter=function(t){e.searchText=t},e.clearFilter=function(){e.searchText=""};var r,o="";e.$watch("searchText",function(t){r&&$timeout.cancel(r),console.info(t),o=t,r=$timeout(function(){e.filterText=o},250)})}]),exambazaar.controller("providersWithAreasController",["$scope","targetStudyProviderService","targetStudyProvidersList","$state","$stateParams","$cookies",function(e,t,r){e.providersList=r.data,e.startsWithProviders=function(){""!=e.startsWith&&t.changeProvidersStartingWith(e.startsWith).success(function(){console.info("Done"),e.clear()}).error(function(){console.info("Error ")})},e.setStartsWith=function(t){var r=t.indexOf("-"),o=t.substring(0,r).trim();e.startsWith=o,e.startsWithProviders()},e.clear=function(){e.startsWith=""}}]),exambazaar.controller("groupController",["$scope","targetStudyProviderService","$timeout","$state","$stateParams","$cookies","$mdDialog","$window",function(e,t,r,o,a,n){e.findPartners=function(r){t.groupProviders(r).success(function(t){e.providersList=t,console.info("Done")}).error(function(){console.info("Error ")})},n.getObject("sessionuser")&&(e.user=n.getObject("sessionuser"),"Master"==e.user.userType&&(e.showLevel=10),"Intern - Business Development"==e.user.userType&&(e.showLevel=1)),e.saveChanges=function(r){var o={targetStudyProvider:r};t.saveProvider(o).success(function(){e.cancel(),console.info("Done")}).error(function(){console.info("Error ")})},e.searchText="",e.filterText="",e.setFilter=function(t){t&&""!=t?(e.searchText=t,e.filterText=t):e.filterText=e.searchText},e.clearFilter=function(){e.searchText="",e.filterText=""}}]),exambazaar.controller("getTargetStudyCoachingController",["$scope","targetStudyProviderService","targetStudyProvidersList","targetStudyCities","$timeout","$state","$stateParams","$cookies","$mdDialog","locationsList","$window","institutesSavedList","institutesFilledList","emailList",function(e,t,r,o,a,n,i,s,l,c,u,d,m,f){e.providersList=r.data,e.emailsList=f.data;var g=e.providersList.map(function(e){return e._id}),p=d.data,h=m.data;e.filledCounter=0,e.verifiedCounter=0,e.doesnotexistCounter=0,e.noresponseCounter=0,e.noMapCounter=0,e.noEmailCounter=0,e.emailSentCount=0,e.emailsList.forEach(function(t){var r=g.indexOf(t.institute);-1!=r&&(e.providersList[r].emailSent=!0,e.emailSentCount+=1)}),e.showDisableConfirm=function(t,r){var o=l.confirm().title("Would you like to diable "+t.name+"?").textContent("Address: "+t.address+", "+t.city+"!").ariaLabel("Lucky day").targetEvent(r).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");l.show(o).then(function(){e.disableProvider(t)},function(){})},e.showSavedDialog=function(e){l.show({contentElement:"#savedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),a(function(){l.cancel()},1e3)},e.providersList.forEach(function(t){t.noEmail=t.email&&0!=t.email.length?!1:!0,t.latlng||(e.noMapCounter+=1),t.cisaved=-1!=p.indexOf(t._id)?!0:!1,t.cifilled=-1!=h.indexOf(t.groupName)?!0:!1}),e.providersList.forEach(function(t){t.cifilled&&(e.filledCounter+=1),t.noEmail||e.providersList.forEach(function(e){e.name==t.name&&(e.noEmail=!1)}),t.ebVerifyState&&""!=t.ebVerifyState&&(e.verifiedCounter+=1,"Does not Exist"==t.ebVerifyState&&(e.doesnotexistCounter+=1),"No Response"==t.ebVerifyState&&(e.noresponseCounter+=1))}),e.providersList.forEach(function(t){t.noEmail&&(e.noEmailCounter+=1)}),e.cityStates=o.data.map(function(e){return e._id});var v=e.cityStates.map(function(e){return e.state});e.states=[],v.forEach(function(t){-1==e.states.indexOf(t)&&e.states.push(t)}),e.city=i.city,s.getObject("location")&&(e.location=s.getObject("location")),e.showLevel=0,s.getObject("sessionuser")&&(e.user=s.getObject("sessionuser"),"Master"==e.user.userType&&(e.showLevel=10),"Intern - Business Development"==e.user.userType&&(e.showLevel="Jaipur"!=e.city&&"New Delhi"!=e.city?0:1)),e.disableProvider=function(r){if(r._id){var o=[r._id],a={instituteIds:o,user:e.user.userId};t.bulkDisableProviders(a).success(function(){e.showSavedDialog()}).error(function(){console.info("Error ")})}},e.addEmail=function(e){u.open(e.targetStudyWebsite,"_newhtml")},e.locations=c.data,e.currProvider={},e.showLocationDialog=function(t,r){e.currProvider=r,l.show({contentElement:"#myDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},e.cancel=function(){l.cancel()},e.saveLocation=function(r){e.currProvider.location=r._id;var o={targetStudyProvider:e.currProvider};t.saveProvider(o).success(function(){e.cancel(),console.info("Done")}).error(function(){console.info("Error ")})},e.uprank=function(e){t.uprank(e._id).success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.downrank=function(e){t.downrank(e._id).success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.searchText="",e.filterText="",e.setFilter=function(t){t&&""!=t?(e.searchText=t,e.filterText=t):e.filterText=e.searchText},e.clearFilter=function(){e.searchText="",e.filterText=""},e.removeDuplicates=function(){t.removeDuplicates(e.city).success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.rank0=function(){t.rank0().success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.getWebsites=function(){alert("Starting"),t.getWebsites().success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.getCityCount=function(){t.getCityCount().success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.logoService=function(){t.logoService().success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.databaseService=function(){t.databaseService().success(function(t){e.distinctStates=t,console.info("Done")}).error(function(){console.info("Error ")})},e.UniqueLogoService=function(){e.showlogos=!0,t.UniqueLogoService().success(function(t){e.uniquelogos=t}).error(function(){console.info("Error ")})},e.allDistinct=function(){e.allDistinctBool=!1,t.allDistinct().success(function(){alert("Done")}).error(function(){console.info("Error ")})},e.allCourses=!1,e.getAllCourses=function(){t.getAllCourses().success(function(t){console.info("Done"),e.allCourses=!0,e.courses=t}).error(function(){console.info("Error ")})},e.cleanTargetstudyurls=function(){t.cleanTargetstudyurls().success(function(){console.info("Done")}).error(function(){console.info("Error ")})}}]),exambazaar.filter("bytes",function(){return function(e,t){if(isNaN(parseFloat(e))||!isFinite(e))return"-";"undefined"==typeof t&&(t=1);var r=["bytes","kB","MB","GB","TB","PB"],o=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(o))).toFixed(t)+" "+r[o]}}),exambazaar.controller("editTargetStudyCoachingController",["$scope","FileUploader","targetStudyProviderService","LocationService","thisTargetStudyProvider","$state","$stateParams","$cookies","ImageService","Upload","imageMediaTagList",function(e,t,r,o,a,n,i,s,l,c,u){if(console.info(u.data),e.provider=a.data,e.imageTags=u.data.mediaTypeTags,e.imageTypes=u.data.distinctTypes,e.locations=[],e.showButton=!0,e.getLocations=function(){var t=e.provider.city;o.getCityLocations(t).success(function(t){e.showButton=!1,e.locations=t,console.info("Done")}).error(function(){console.info("Error ")})},e.suggestedLeft=["contact","info","support","admin"],e.suggestedEmails=[],e.provider){e.suggestedLeft.push(e.provider.city.toLowerCase()),e.suggestedLeft.push(e.provider.state.toLowerCase());var d=e.provider.website[0]||[];if(d&&d.length>0){d=d.replace("www.",""),d=d.replace("https://",""),d=d.replace("https://","");
{d.substring(d.length-1,d.length)}}var m=d.indexOf("/");-1!=m&&(d=d.substring(0,m)),e.suggestedLeft.forEach(function(t){var r=t+"@"+d;e.suggestedEmails.push(r)});var f=e.provider.name;f=f.replace(/ /g,"").toLowerCase(),e.suggestedEmails.push(f+"@gmail.com"),e.suggestedEmails.push(f+"@yahoo.com")}e.uploadPhotos=function(){var t=e.photos,o=t.length;e.showAddPhotosForm=!1;var a=e.provider._id,n=0;t&&t.length&&t.forEach(function(t){var i={filename:t.name,contentType:t.type};l.s3Credentials(i).success(function(i){var s={},l=i.params;for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u]);s.file=t,c.upload({url:i.endpoint_url,data:s}).then(function(i){console.info("Success "+t.name+"uploaded. Response: "+i.data),t.link=$(i.data).find("Location").text(),t.newPhoto={image:t.link};var s={photo:t.newPhoto,providerId:a};r.addPhoto(s).success(function(){n+=1,n==o&&(e.showAddPhotosForm=!0)}).error(function(){console.info("Error ")})},function(e){console.log("Error status: "+e.status)},function(e){t.uploadProgress=parseInt(100*e.loaded/e.total)})}).error(function(){console.info("Error")})})},e.uploadFaculties=function(){var t=e.faculties,o=t.length;e.showAddFacultiesForm=!1;var a=e.provider._id,n=0;t&&t.length&&t.forEach(function(t){var i={filename:t.name,contentType:t.type};console.info(JSON.stringify(i)),l.s3Credentials(i).success(function(i){var s={},l=i.params;for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u]);s.file=t,c.upload({url:i.endpoint_url,data:s}).then(function(i){console.info("Success "+t.name+"uploaded. Response: "+i.data),t.link=$(i.data).find("Location").text(),t.newFaculty={name:"",image:t.link,subject:"",yearsExperience:"",qualification:"",description:""};var s={faculty:t.newFaculty,providerId:a};r.addFaculty(s).success(function(){if(n+=1,n==o){e.showAddFacultiesForm=!0,e.preUploadFacultyLength=e.provider.faculty.length;{r.getProvider(a).success(function(t){e.provider=t,e.editPhotos()}).error(function(){console.info("Error ")})}}}).error(function(){console.info("Error ")})},function(e){console.log("Error status: "+e.status)},function(e){t.uploadProgress=parseInt(100*e.loaded/e.total)})}).error(function(){console.info("Error")})})},e.setEmail=function(t){e.provider.email?e.provider.email+=", "+t:e.provider.email=t},e.setLocation=function(t){e.provider.location=t._id},e.uprank=function(e){r.uprank(e._id).success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.data="",e.add=function(){var t=document.getElementById("file").faculties[0],r=new FileReader;r.onloadend=function(t){e.Imagedata=t.target.result,e.newImage={data:e.Imagedata,contentType:"image/png"},console.info(JSON.stringify(e.newImage)),l.saveImage(e.newImage).success(function(){console.info("Done")}).error(function(e){console.info(e)})},r.readAsBinaryString(t)},e.downrank=function(e){r.downrank(e._id).success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.saveCoaching=function(){var t={targetStudyProvider:e.provider};r.saveProvider(t).success(function(){console.info("Done")}).error(function(){console.info("Error ")})}}]),exambazaar.controller("mastergetCoachingController",["$scope","ProviderService","providersList","$timeout","$state","$stateParams",function(e,t,r,o,a,n){e.cities=["Agra","Ahmedabad","Akola","Aligarh","Allahabad","Amravati","Amritsar","Aurangabad","Bareilly","Belgaum","Bengaluru","Bhavnagar","Bhilai","Bhopal","Bhubaneswar","Bikaner","Bokaro","Chandigarh","Chennai","Cochin","Coimbatore","Cuttack","Dehradun","Delhi","Dhanbad","Durgapur","Gorakhpur","Guwahati","Gwalior","Hyderabad","Indore","Jaipur","Jalandhar","Jalgaon","Jammu","Jamnagar","Jamshedpur","Jhansi","Kanpur","Kolhapur","Kolkata","Kota","Kozhikode","Lucknow","Ludhiana","Madurai","Meerut","Moradabad","Mumbai","Mysore","Nagpur","Nanded","Nashik","Nellore","Patiala","Patna","Pune","Raipur","Rajkot","Ranchi","Salem","Solapur","Surat","Tirupur","Trichy","Trivandrum","Udaipur","Ujjain","Vadodara","Varanasi","Vijayawada","Visakhapatnam"],e.city=n.city,e.providersList=r.data,e.urls=[],e.filterText="",e.setFilter=function(t){e.searchText=t},e.clearFilter=function(){e.searchText=""};var i,s="";e.$watch("searchText",function(t){i&&o.cancel(i),s=t,i=o(function(){e.filterText=s},250)}),e.removeDuplicates=function(){t.removeDuplicates(e.city).success(function(){console.info("Done")}).error(function(){console.info("Error ")})}}]),exambazaar.controller("addStudentController",["$scope","thisinstitute","InstituteService","StudentService","ParentService","$http","$state",function(e,t,r,o,a,n,i){e.salutations=["Mr","Mrs","Miss","Dr"],e.genders=["Female","Male"],e.sameAddress=!0,e.parentRoles=["Father","Mother","Guardian"],e.student={basic:{gender:"Male",dob:new Date("April 29, 1989")},contact:{mobile:"9602241098",email:"gauravparashar294@gmail.com"},address:{street:"A 12 Model Town A, Jagatpura Road, Malviya Nagar",city:"Jaipur",pincode:"302017"},parent:{basic:{role:"Father",firstName:"Abhay",lastName:"Parashar",gender:"Male",dob:new Date("July 25, 1957")},contact:{mobile:"9414061498",email:"abhayparashar27@gmail.com"}}},e.institute=t.data,e.student.institute=t,e.setStudent=function(t){e.student=t},e.updateProfilePic=function(t){e.profilePic=t},e.addStudent=function(){e.student.parent.mobile=e.student.contact.mobile,e.student.parent.email=e.student.contact.email,""!=e.profilePic&&(e.student.account={imageUrl:e.profilePic});o.saveStudent(e.student).success(function(t){var r=t;e.formmessage="Student "+e.student.basic.firstName+" "+e.student.basic.lastName+" saved!";var o=e.student.parent;o.studentId=r;a.saveParent(o).success(function(t){i.go("institute",{instituteId:e.institute._id})}).error(function(e,t,r,o){console.info("Data: "+e+"\n\n\n\nstatus: "+t+"\n\n\n\nheaders: "+r+"\n\n\n\nconfig: "+o)})}).error(function(t,r,o,a){e.ServerResponse=htmlDecode("Data: "+t+"\n\n\n\nstatus: "+r+"\n\n\n\nheaders: "+o+"\n\n\n\nconfig: "+a)})}}]),exambazaar.controller("addSendGridController",["$scope","sendGridCredentialList","SendGridService","$http","$state",function(e,t,r){e.sendGridCredentials=t.data,e.sendGridCredential={apiKey:"",active:!0},e.removeEmailTemplate=function(){},e.addEmailTemplate=function(){var t={name:"",templateKey:""};e.sendGridCredential.emailTemplate.push(t)},e.addSendGridCredential=function(){r.saveSendGridCredential(e.sendGridCredential).success(function(){alert("SendGrid Credential saved: "+e.sendGridCredential.apiKey)}).error(function(e,t){console.info("Error "+e+" "+t)})},e.setSendGridCredential=function(t){e.sendGridCredential=t}}]),exambazaar.controller("autocompleteController2",["$scope","$http","$state","$rootScope","targetStudyProviderService",function(e,t,r,o,a){function n(e){console.info("Item changed to "+JSON.stringify(e)),o.reviewInstitute=e}this.selectedItemChange=n,this.querySearch=function(e){if(e.length>2){var t={query:e,city:o.city};return a.searchCityProviders(t).then(function(e){return e.data})}},o.title="Sandbox"}]),exambazaar.controller("offerController",["$scope","$http","$state","$rootScope","targetStudyProviderService","$mdDialog","$document","offerService",function(e,t,r,o,a,n,i,s){e.offers=[],s.getActiveOffersBasic().success(function(t){e.offersList=t}).error(function(e,t){console.info("Error "+e+" "+t)}),e.$watch("offersList",function(t){null!=t&&""!=t&&(e.offers=t)},!0),e.instituteHolder="your Coaching Institute",e.goToReview=function(){var e=["landing","main","category","city","findCoaching"],t=e.indexOf(r.current.name);if("showGroup"==r.current.name){n.hide();var o=angular.element(document.getElementById("Reviews"));i.scrollToElement(o,-200,1e3)}else if("review"==r.current.name){var o=angular.element(document.getElementById("Reviews"));i.scrollToElement(o,0,1e3)}else-1!=t&&r.go("review")},e.showBottomOfferBar=function(){var e=!1,t=["landing","main","category","city","findCoaching","rankerswall"],o=t.indexOf(r.current.name);return-1!=o&&(e=!0),e},e.showUserReviewSearchDialog=function(t){n.show({contentElement:"#userReviewSearchDialog",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0}).finally(function(){e.userReviewMode=!0})}}]),exambazaar.controller("coachingGroupAutocompleteController",["$scope","$http","$state","$rootScope","targetStudyProviderService",function(e,t,r,o,a){function n(e){console.info("Item changed to "+JSON.stringify(e)),o.coachingGroup=e;var t=o.coachingGroupItems;console.log(t.length);var r=[];t.forEach(function(t){t.groupName==e.groupName?r.push(t):console.log(t)}),o.coachingGroupItems=r,console.log(r.length)}this.selectedItemChange=n,this.querySearch=function(e){return e.length>2?a.searchCoachingGroupProviders(e).then(function(e){return o.coachingGroupItems=e.data,e.data}):void 0},o.title="Sandbox"}]),exambazaar.controller("autocompleteController",["$scope","$http","$state","$rootScope","targetStudyProviderService",function(e,t,r,o,a){function n(e){console.info("Item changed to "+JSON.stringify(e)),r.go("claim",{coachingId:e._id})}this.selectedItemChange=n,this.querySearch=function(e){return e.length>2?a.searchProviders(e).then(function(e){return e.data}):void 0}}]),exambazaar.controller("citySearchController",["$scope","$http","$state","$rootScope","targetStudyProviderService",function(e,t,r,o,a){function n(e){o.newReviewCity=e,console.log(o.newReviewCity),o.newReviewError=null}e.reviewCity="",this.selectedItemChange=n,this.querySearch=function(e){var t=e;return""==e&&(t="exambazaar"),a.providercities(t).then(function(e){return e.data})}}]),exambazaar.controller("coachingSearchController",["$scope","$http","$state","$rootScope","targetStudyProviderService",function(e,t,r,o,a){function n(e){console.info("Item changed to "+JSON.stringify(e)),o.newReviewCoaching=e}this.selectedItemChange=n,this.querySearch=function(e){if(o.newReviewCity){o.newReviewError=null,""==e&&(e="exambazaar");var t={query:e,city:o.newReviewCity};return console.log(o.newReviewCity),a.searchCityReviewProviders(t).then(function(e){return e.data})}o.newReviewError=!0}}]),exambazaar.controller("reviewRedirectController",["$scope","$http","$state","$rootScope","targetStudyProviderService","offerService","$mdDialog","$document",function(e,t,r,o,a,n){e.redirectToReview=function(){if(o.newReviewCity&&o.newReviewCoaching){var e={city:o.newReviewCity,coachingName:o.newReviewCoaching.name};console.log(e),a.showGroupHelper(e).success(function(e){var t=e;console.log(t),r.go("showGroup",{categoryName:t.stream,subCategoryName:t.exam,cityName:o.newReviewCity,groupName:o.newReviewCoaching.name,"#":"Reviews"})}).error(function(e,t){console.info("Error "+e+" "+t)})}},e.offers=[],n.getActiveOffersBasic().success(function(t){e.offersList=t}).error(function(e,t){console.info("Error "+e+" "+t)}),e.$watch("offersList",function(t){null!=t&&""!=t&&(e.offers=t)},!0)}]),exambazaar.controller("resultAutocompleteController",["$scope","$http","$state","targetStudyProviderService",function(e,t,r,o){function a(e){console.info("Item changed to "+JSON.stringify(e)),r.go("claim",{coachingId:e._id})}this.selectedItemChange=a,this.querySearch=function(e){return e.length>2?o.searchProviders(e).then(function(e){return e.data}):void 0}}]),exambazaar.controller("sandbox2Controller",["$scope","$http","$state","$rootScope","NgMap","targetStudyProviderService","targetStudyProvidersList","$stateParams","targetStudyCities","cityProviderCount",function(e,t,r,o,a,n,i,s,l,c){e.providers=i.data,e.city=s.cityName,e.cityProviderCount=c.data,e.masterId=s.masterId,e.cityStates=l.data.map(function(e){return e._id});var u=e.cityStates.map(function(e){return e.state});e.states=[],u.forEach(function(t){-1==e.states.indexOf(t)&&e.states.push(t)}),e.providers.forEach(function(e){e.mapLatLng=[e.latlng.lat,e.latlng.lng]}),e.showProvider=function(t,r){e.activeProvider=r,r.logo&&""!=r.logo||(e.activeProvider.logo="")},o.title="Sandbox 2"}]),exambazaar.controller("thankyouController",["$scope","$http","$state","$rootScope","$location","Socialshare","$mdDialog","$timeout",function(e,t,r,o,a,n){var i="https://www.exambazaar.com";e.shareFacebook=function(){n.share({provider:"facebook",attrs:{socialshareType:"share",socialshareUrl:"https://www.exambazaar.com",socialshareVia:"1236747093103286",socialshareRedirectUri:i}})},e.shareText="Receive amazing discounts at Exambazaar by reviewing your coaching institute! Go ahead, review your coaching and get discount at ",o.pageTitle="Thank you for reviewing your coaching institute!",o.pageURL="https://www.exambazaar.com",o.pageImage="https://www.exambazaar.com/images/logo/eblogo.png"}]),exambazaar.controller("availOfferController",["$scope","$http","$state","$rootScope","thisuser","targetStudyProviderService","UserService","couponService","$location","thisReview","activeOfferInstitutes","activeCoupons","Socialshare","$mdDialog","$timeout",function(e,t,r,o,a,n,i,s,l,c,u,d,m,f,g){e.user=a.data,e.activeOfferInstitutes=u.data,e.activeCoupons=d.data,e.thisReview=c.data,e.states=["Browse","Refer","Coupon"],e.currState="Browse";var p=null;e.thisReview.coupon&&(e.currState="Coupon",p=e.thisReview.coupon),e.$watch("currState",function(){p&&s.getCoupon(p).success(function(t){e.deliveredCoupon=t,console.log(e.deliveredCoupon)}).error(function(e,t){console.info("Error "+e+" "+t)})},!0),e.chooseCoupon=function(t,r){e.selectedCoupon=t,e.selectedOfferInstitute=r,e.currState="Refer"},e.getBreadCrumbClass=function(t){var r="";return t==e.currState&&(r="active"),r},e.navigate=function(t){var r=e.states.indexOf(t),o=e.states.indexOf(e.currState);o>r&&"Coupon"!=e.currState&&(e.currState=t)},e.shareOnFacebook=!0,e.shareText="I have received an amazing discount at Exambazaar.com by reviewing "+e.thisReview.institute.name+"! Go ahead, review your coaching and get your discount at www.exambazaar.com/review/";var h="https://www.exambazaar.com/thankyou";e.fail=function(e){console.error("Error!",e)};var v=function(){var t="";"Percentage Discount"==e.selectedCoupon.discountType&&(t=e.selectedCoupon.percentageDiscount+"%"),"Flat Discount"==e.selectedCoupon.discountType&&(t=e.selectedCoupon.flatDiscount+"Rs.");var r=e.user.basic.name+" received "+t+" on prep material via www.exambazaar.com. Review your coaching institute and lock-in your 50% off now!";return r};e.showCopiedDialog=function(t,r){e.copiedText=t,f.show({contentElement:"#copiedDialog",parent:angular.element(document.body),targetEvent:r,clickOutsideToClose:!0}),g(function(){f.cancel()},500)},e.refermobiles=[];var y=1;for(y=1;5>=y;y++){var b={mobile:"",exists:null,placeholder:"10 Digit Mobile "+y};e.refermobiles.push(b)}e.$watch("refermobiles",function(e,t){e.forEach(function(e,r){e.mobile&&e.mobile!=t[r].mobile&&i.referexists(e.mobile).success(function(t){e.exists=t}).error(function(e,t){console.info("Error "+e+" "+t)})})},!0),e.shareFacebook=function(){m.share({provider:"facebook",attrs:{socialshareType:"send",socialshareUrl:"https://www.exambazaar.com",socialshareVia:"1236747093103286",socialshareRedirectUri:h}}),e.userSocial=!0},e.postFacebook=function(){m.share({provider:"facebook",attrs:{socialshareType:"feed",socialshareUrl:"https://www.exambazaar.com",socialshareVia:"1236747093103286",socialshareRedirectUri:"https://www.exambazaar.com"}})},e.inviteMobiles=function(){var t=!1;e.referMobilesError=null;e.refermobiles.map(function(e){return e.mobile});if(e.refermobiles.forEach(function(e){e.mobile&&(e.mobile=e.mobile.toString()),(10!=e.mobile.length||e.exists)&&(console.log(e.mobile.length+e.mobile),t=!0)}),t)e.referMobilesError="Please enter 5 valid mobile numbers";else{var r=v();console.log(r.length),console.log(r);var o={user:e.user._id,message:r,mobiles:e.refermobiles};console.log(o),i.sendReferrals(o).success(function(){console.log("Delivered"),e.userSocial=!0}).error(function(){console.info("Error ")})}},e.showSkipDialog=function(t){var r="";"Percentage Discount"==e.selectedCoupon.discountType&&(r=e.selectedCoupon.percentageSocialShareBenefit+"% !"),"Flat Discount"==e.selectedCoupon.discountType&&(r=e.selectedCoupon.flatSocialShareBenefit+" Rs !");var o=f.confirm().title("Would you like to skip referring your friends to Exambazaar?").textContent("You will not receive the additional Exambazaar discount of "+r).ariaLabel("Lucky day").targetEvent(t).clickOutsideToClose(!0).ok("Confirm").cancel("Cancel");f.show(o).then(function(){e.issueCoupon(!1)},function(){})},e.$watch("userSocial",function(t){t&&e.issueCoupon(!0)},!0),e.issueCoupon=function(t){var r={name:e.selectedCoupon.name,offer:e.selectedCoupon.offer};s.getOneActiveCouponCode(r).success(function(r){if(r){e.selectedCoupon=r,e.selectedCoupon.user=e.user._id,e.selectedCoupon.delivered={social:t,state:"Delivered"},e.selectedCoupon.delivered.usercode=t?e.selectedCoupon.socialShareCode:e.selectedCoupon.code;var o=moment();if(e.selectedCoupon.delivered._deliverDate=o,"From date of issue by Exambazaar"==e.selectedCoupon.validityType){var a=e.selectedCoupon.validtyDuration,n=o.add(a,"days");e.selectedCoupon.delivered._expiryDate=n}if("Fixed Expiry Date"==e.selectedCoupon.validityType){var l=e.selectedCoupon.fixedExpiryDate;e.selectedCoupon.delivered._expiryDate=l}var c={selectedCoupon:e.selectedCoupon,review:e.thisReview._id};s.deliver(c).success(function(t){if(console.log(t),t){e.selectedCoupon=t,p=e.selectedCoupon._id,e.currState="Coupon",console.log(e.selectedCoupon);var r={user:e.user._id,coupon:e.selectedCoupon._id};i.deliverVoucher(r).success(function(){console.log("Delivered")}).error(function(){console.info("Error ")})}else console.log("Something went wrong")}).error(function(){console.info("Error ")})}else console.log("Error: No more active coupon for this offer! Sorry")}).error(function(){console.info("Error ")})},e.deliverCoupon=function(){var t={user:e.user._id,coupon:e.deliveredCoupon._id};i.deliverVoucher(t).success(function(){console.log("Delivered")}).error(function(){console.info("Error ")})},o.pageTitle="Review your coaching institute to get rewarded!",o.pageImage="https://www.exambazaar.com/images/logo/eblogo.png"}]),exambazaar.controller("reviewedController",["$scope","$http","$state","$rootScope","thisuser","targetStudyProviderService","$location","thisuserReviewed","activeOffers",function(e,t,r,o,a,n,i,s,l){e.user=a.data,e.activeOffers=l.data,console.log(e.activeOffers),e.userReviewed=s.data,o.pageTitle="Reviews by "+e.user.basic.name,e.reviews=[1,1.5,2,2.5,3,3.5,4,4.5,5],e.reviewsClasses=["review1","review2","review3","review4","review5","review6","review7","review8","review9"],e.reviewParams=[{name:"faculty",displayname:"Faculty and Teaching Experience",hoverVal:-1},{name:"competitive_environment",displayname:"Competitive Environment",hoverVal:-1},{name:"quality_of_material",displayname:"Quality of material",hoverVal:-1},{name:"infrastructure",displayname:"Infrastructure",hoverVal:-1}];var c=e.reviewParams.map(function(e){return e.name});e.getBackgroundColour=function(t,r,o){var a=c.indexOf(t.name),n="noreview",i=e.reviewParams[a].name;if(o&&o[i]){var s=o[i],l=e.reviews.indexOf(Number(s));if(l>=r){var u=l+1;n="review"+u}}if(e.reviewParams[a].hoverVal>=0&&(n="noreview"),e.reviewParams[a].hoverVal>=r){var d=r+1;n="review"+d}return n},e.logMouseEvent=function(t,r){switch(event.type){case"mouseenter":console.log("Hey Mouse Entered");break;case"mouseover":var o=c.indexOf(t.name);e.reviewParams[o].hoverVal=r;break;case"mouseout":var o=c.indexOf(t.name);e.reviewParams[o].hoverVal=-1;break;case"mouseleave":console.log("Mouse Gone");break;default:console.log(event.type)}},e.flipShowCoupon=function(t){r.go("availOffer",{userId:e.user._id,reviewId:t._id})},o.pageImage="https://www.exambazaar.com/images/logo/eblogo.png"}]),exambazaar.controller("cityGroupExamQueryController",["$scope","$http","$state","$rootScope","targetStudyProviderService",function(e,t,r,o,a){function n(e){console.info("Item changed to "+JSON.stringify(e)),o.reviewInstitute=e}this.selectedItemChange=n,this.querySearch=function(e){if(e.length>2){var t={query:e,city:o.reviewCity,exam:o.reviewExam,stream:o.reviewStream};return a.cityGroupExamQueryForm(t).then(function(e){return e.data})}},o.title="Sandbox"}]),exambazaar.controller("reviewController",["$scope","$http","$state","$rootScope","targetStudyProviderService","allcities","$location","streamList","examList","$mdDialog",function(e,t,r,o,a,n,i,s,l,c){c.hide(),e.streams=s.data,e.exams=l.data,e.cities=n.data,e.rankedCities=["Delhi","Mumbai","New Delhi","Ahmedabad","Chennai","Kolkata","Hyderabad","Pune","Bangalore","Chandigarh","Jaipur","Agra","Ajmer","Allahabad","Alwar","Ambala","Amritsar","Bhilwara","Bhopal","Bilaspur","Bhubaneswar","Bikaner","Coimbatore","Dehradun","Ganganagar","Ghaziabad","Guwahati","Gwalior","Indore","Juhnjhunu","Kanpur","Kota","Kurukshetra","Lucknow","Ludhiana","Mangalore","Mathura","Meerut","Mohali","Mysore","Nasik","Noida","Patiala","Patna","Rajkot","Rohtak","Roorkee","Sonbhadra","Shimla","Sikar","Surat","Thrissur","Trivandrum","Vadodara","Vellore","Vishakhapatnam"],e.reviewPolicy="I certify that this review is based on my own experience and is my genuine opinion of this coaching institute, and that I have no personal or business relationship with this establishment, and have not been offered any incentive or payment originating from the establishment to write this review. I understand that Exambazaar has a zero-tolerance policy on fake reviews.",e.cancelDialog=function(){c.hide()},e.showOtherCityDialog=function(e){c.show({contentElement:"#cityDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})},e.examStep=function(){e.selectStream=!1,e.selectExam=!0,e.selectCity=!1,e.searchCoaching=!1,o.reviewExam=null,o.reviewCity=null,o.reviewInstitute=null},e.cityStep=function(){e.selectStream=!1,e.selectExam=!1,e.selectCity=!0,e.searchCoaching=!1,o.reviewCity=null,o.reviewInstitute=null},e.selectStream=!0,e.selectExam=!1,e.selectCity=!1,e.searchCoaching=!1,e.updateStream=function(t){o.reviewStream=t,e.selectStream=!1,e.selectExam=!0,e.selectCity=!1,e.searchCoaching=!1},e.updateExam=function(t){o.reviewExam=t,e.selectStream=!1,e.selectExam=!1,e.selectCity=!0,e.searchCoaching=!1},e.updateCity=function(t){c.hide(),o.reviewCity=t,e.selectStream=!1,e.selectExam=!1,e.selectCity=!1,e.searchCoaching=!0},e.clearAll=function(){e.selectStream=!0,e.selectExam=!1,e.selectCity=!1,e.searchCoaching=!1,o.reviewStream=null,o.reviewExam=null,o.reviewCity=null,o.reviewInstitute=null},e.checkReviewButton=function(){var e=!1;return o.reviewStream&&o.reviewExam&&o.reviewCity&&o.reviewInstitute||(e=!0),e},e.goToReview=function(){var e=o.reviewStream,t=o.reviewExam,a=o.reviewCity,n=o.reviewInstitute;console.log(e.name),console.log(t.name),console.log(a),console.log(n.groupName),r.go("showGroup",{categoryName:e.name,subCategoryName:t.name,cityName:a,groupName:n.groupName})},o.pageTitle="Write a Review - Exambazaar";var u=i.absUrl();o.pageURL=u,o.pageImage="https://www.exambazaar.com/images/logo/eblogo.png"}]),exambazaar.controller("coachingGroupController",["$scope","$http","$state","$rootScope","targetStudyProviderService",function(e,t,r,o){o.title="Sandbox"}]),exambazaar.controller("suggestCoachingController",["$scope","$http","$state","$rootScope","suggestCoachingService","suggestedList","$mdDialog","$timeout","thisuser",function(e,t,r,o,a,n,i,s,l){e.showSuggestions=!0,e.flipMode=function(){e.showSuggestions=!e.showSuggestions},e.suggestions=n.data,e.user=l.data,e.suggestion={coachingName:"",website:"",nCenters:"",newCoachingGroup:!0},e.saveSuggestion=function(){var t={user:e.user._id,coachingName:e.suggestion.coachingName,website:e.suggestion.website,nCenters:e.suggestion.nCenters};a.savesuggestCoaching(t).success(function(){console.log("Done"),e.showSavedDialog(),r.reload()}).error(function(e,t){console.info("Error "+e+" "+t)})},e.showSavedDialog=function(e){i.show({contentElement:"#savedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),s(function(){i.cancel()},1e3)},o.pageTitle="Search & Review Coaching Institutes"}]),exambazaar.controller("socialLoginController",["$scope","$http","$state","$rootScope","$facebook","$location","$cookies","UserService",function(e,t,r,o,a,n,i,s){function l(){a.api("/me",{fields:"id, name, age_range, link, gender, picture, email"}).then(function(t){e.user&&e.user.userId?e.user.fbuser={name:t.name,gender:t.gender,image:t.picture.data.url,email:t.email,facebook:{link:t.link,id:t.id}}:(e.user={},e.user.fbuser={name:t.name,gender:t.gender,image:t.picture.data.url,email:t.email,facebook:{link:t.link,id:t.id}})},function(){e.welcomeMsg="Please log in",e.isLoggedIn=!1}),a.api("/me/permissions").then(function(t){e.permissions=t},function(){e.welcomeMsg="Permissions Error"})}o.pageTitle="Search & Review Coaching Institutes",e.fbLoginStatus={},e.user=i.getObject("sessionuser"),e.loggedIn=!1,a.getLoginStatus().then(function(t){e.fbLoginStatus=t}),e.user&&e.user.userId?(e.loggedIn=!0,l()):e.loggedIn=!1,e.fblogin=function(){a.login().then(function(t){e.fbLoginStatus=t,l()})};var c=n.absUrl();c=c.replace("localhost:8000","exambazaar.com"),c="www.exambazaar.com/review",e.fbshare=function(){a.ui({method:"share",href:c,redirect_uri:"https://www.exambazaar.com/",hashtag:"#exambazaar",quote:"Exambazaar: Find best coaching institutes in your city for more than 50 exams",display:"iframe",mobile_iframe:!0},function(e){console.log("Response is: "+e),alert(e?"Done":"Error")})},e.fbshare2=function(){t.get("https://www.facebook.com/dialog/share?app_id=1236747093103286&display=popup&href=http%3A%2F%2Fwww.exambazaar.com/review%2F&redirect_uri=http%3A%2F%2Fwww.exambazaar.com/reviewed").success(function(e){console.log(e)}).error(function(e){alert(e),console.log("Error: "+e)})},e.fbfeed=function(){a.ui({method:"feed",link:"https://www.exambazaar.com",source:"https://www.exambazaar.com/images/logo/eblogo.png"},function(e){alert(e),console.log("Response is: "),console.log(e),alert(e?"Done":"Error")})},e.fbInvite=function(){a.ui({method:"send",name:"Review your coaching institute at Exambazaar.com",description:"Be heard and help others by reviewing your coaching institute! As a goodie, unlock discounts from Exambazaar.com",display:"popup",link:c},function(e){alert(e?"Successfully Invited":"Failed To Invite")})},e.$watch("[fbLoginStatus.status, user.fbuser.facebook.id]",function(t){"connected"==t[0]&&t[1]&&(e.fbUser=!0,e.user.fbuser.facebook.accessToken=e.fbLoginStatus.authResponse.accessToken,e.user.facebookId||s.fbSave(e.user).success(function(t){var o=t;console.log(o);var a={userId:o._id,facebookId:o.facebookId,userType:o.userType,basic:o.basic,image:o.image,mobile:o.mobile,email:o.email};i.putObject("sessionuser",a),e.user=a,console.log(a.userType),"Master"==a.userType&&r.go("master-dashboard",{masterId:a.userId}),"Intern - Business Development"==a.userType&&r.go("assigned",{userId:a.userId}),"Student"==a.userType&&r.reload(),"Partner"==a.userType&&r.go("partner-dashboard",{userId:a.userId})}).error(function(){console.info("Error ")}))},!0)}]),exambazaar.controller("allreviewsController",["$scope","$http","$rootScope","reviewService","allReviews",function(e,t,r,o,a){e.allReviews=a.data,r.pageTitle="All Reviews"}]),exambazaar.controller("rankerswallController",["$scope","$http","$state","$stateParams","$rootScope","targetStudyProviderService","allResults","thisExam","$location","Socialshare",function(e,t,r,o,a,n,i,s,l,c){e.currURL=l.absUrl(),e.shareText="Hey! This list of Top 100 AIRs (JEE 2017) on Exambazaar is sensational. Do check it out! ",e.shareText2="Check out the inspirational list of Top 100 (JEE 2017)! ",e.allResults=i.data,e.exam=s.data;var u={exam:e.exam.name,stream:e.exam.stream.name};e.year=o.year,e.yearResults=[],e.coachingMode=!1,e.flipAll=function(){e.coachingMode=!e.coachingMode},e.flipRank=function(e){e.coachingMode=!e.coachingMode},e.shareFacebook=function(){c.share({provider:"facebook",attrs:{socialshareType:"send",socialshareUrl:e.currURL,socialshareVia:"1236747093103286",socialshareRedirectUri:"https://www.exambazaar.com"}})},e.logMouseEvent=function(e){switch(event.type){case"mouseenter":console.log("Hey Mouse Entered");break;case"mouseover":e.coachingMode=!0,console.log("Hey Mouse Over");break;case"mouseout":e.coachingMode=!1,console.log("Hey Mouse Out");break;case"mouseleave":console.log("Mouse Gone");break;default:console.log(event.type)}};for(var d=1;100>=d;d++)e.yearResults.push({});e.goToCoaching=function(e){var t=r.href("showGroup",{categoryName:u.stream,subCategoryName:u.exam,cityName:e.coaching.city,groupName:e.coaching.name});window.open(t,"_blank")},e.allResults.forEach(function(t){t.result.rank=parseInt(t.result.rank);var r=t.result.rank-1;t.coachingMode=!1,t.result.year==e.year&&100>r&&(e.yearResults[r]=t)}),a.pageTitle=e.exam.displayname+" "+e.year+" Rankers Wall"}]),exambazaar.controller("searchController",["$scope","$http","$state","$rootScope","NgMap","targetStudyProviderService","targetStudyProvidersList","$facebook","$location",function(e,t,r,o){o.pageTitle="Search & Review Coaching Institutes"}]),exambazaar.controller("assignedToAddContactInfoController",["$scope","thisuser","thisuserAssignedToAddContactInfo","$http","$state","$rootScope",function(e,t,r,o,a,n){e.user=t.data,e.assigned=r.data,e.assignedCount=0,("Master"==e.user.userType||"Intern - Business Development"==e.user.userType)&&(e.authorized=!0),e.assigned.forEach(function(t){t.active&&(e.assignedCount+=1)}),n.title=e.user.basic.name}]),exambazaar.controller("assignedToVerifyController",["$scope","thisuser","thisuserAssignedToVerify","$http","$state","$rootScope",function(e,t,r,o,a,n){e.user=t.data,e.assigned=r.data,console.log(e.assigned),e.assignedCount=0,("Master"==e.user.userType||"Intern - Business Development"==e.user.userType)&&(e.authorized=!0),e.assigned.forEach(function(t){t.active&&(e.assignedCount+=1)}),n.title=e.user.basic.name}]),exambazaar.controller("assignedToRateController",["$scope","thisuser","thisuserAssignedToRate","$http","$state","$rootScope",function(e,t,r,o,a,n){e.user=t.data,e.assigned=r.data,console.log(e.assigned),e.assignedCount=0,("Master"==e.user.userType||"Intern - Business Development"==e.user.userType)&&(e.authorized=!0),e.assigned.forEach(function(t){t.active&&(e.assignedCount+=1)}),n.title=e.user.basic.name}]),exambazaar.controller("assignedController",["$scope","thisuser","thisuserAssigned","$http","$state","$rootScope",function(e,t,r,o,a,n){e.user=t.data,e.assigned=r.data,e.assignedCount=0,("Master"==e.user.userType||"Intern - Business Development"==e.user.userType)&&(e.authorized=!0),e.assigned.forEach(function(t){t.active&&(e.assignedCount+=1)}),n.title=e.user.basic.name}]),exambazaar.controller("filledCIController",["$scope","thisuser","thisuserFilled","$http","$state","$rootScope",function(e,t,r,o,a,n){e.user=t.data,e.authorized=!0,"filledAll"==a.current.name&&"Master"!=e.user.userType&&(e.authorized=!1,e.user._id&&a.go("filled",{userId:e.user._id})),e.filterText="",e.setUser=function(t){e.filterText=t},e.clear=function(){e.filterText=""},e.filled=r.data,e.uniqueUsers=[],e.uniqueInstitutes=[],e.filled.forEach(function(t){-1==e.uniqueUsers.indexOf(t.userName)&&e.uniqueUsers.push(t.userName)}),n.title=e.user.basic.name}]),exambazaar.controller("shortlistedController",["$scope","thisuser","thisuserShortlisted","$http","$state","$rootScope",function(e,t,r,o,a,n){e.user=t.data,e.shortlisted=r.data,n.title=e.user.basic.name}]),exambazaar.controller("viewedController",["$scope","thisuser","thisuserViewed","$http","$state","$rootScope",function(e,t,r,o,a,n){e.user=t.data,e.viewed=r.data,console.log(e.viewed),n.title=e.user.basic.name}]),exambazaar.controller("checkLogoController",["$scope","thisuser","logoList","$http","$state","$rootScope","$cookies","UserService","targetStudyProviderService",function(e,t,r,o,a,n,i,s,l){e.user=t.data,e.logoList=r.data,"Master"==e.user.userType&&(e.showLevel=10),e.logoList.forEach(function(e){e.mark=!0}),e.markChecked=function(){var t=[];e.logoList.forEach(function(e){e.mark&&t.push(e._id)});var r={ids:t};l.bulkCheckLogos(r).success(function(){alert("Marked")
}).error(function(e,t){console.info("Error "+e+" "+t)})},e.user.basic&&(n.title=e.user.basic.name)}]),exambazaar.controller("profileController",["$scope","thisuser","$http","$state","$rootScope","$cookies","Upload","ImageService","UserService","$facebook","$mdDialog","$timeout",function(e,t,r,o,a,n,i,s,l,c,u,d){function m(){c.api("/me",{fields:"id, name, age_range, link, gender, picture, email"}).then(function(t){e.user&&e.user._id?e.user.fbuser={name:t.name,gender:t.gender,image:t.picture.data.url,email:t.email,facebook:{link:t.link,id:t.id}}:(e.user={},e.user.fbuser={name:t.name,gender:t.gender,image:t.picture.data.url,email:t.email,facebook:{link:t.link,id:t.id}})},function(){e.welcomeMsg="Please log in",e.isLoggedIn=!1}),c.api("/me/permissions").then(function(t){e.permissions=t},function(){e.welcomeMsg="Permissions Error"})}if(e.user=t.data,n.getObject("sessionuser")){n.getObject("sessionuser")}else e.showLoginForm();e.uploadPic=function(t){var r=[t],a=r.length,c=0;console.log(JSON.stringify(e.user));var u=e.user._id;r&&r.length&&r.forEach(function(e){var t={filename:e.name,contentType:e.type};s.s3Credentials(t).success(function(t){var r={},s=t.params;for(var d in s)s.hasOwnProperty(d)&&(r[d]=s[d]);r.file=e,i.upload({url:t.endpoint_url,data:r}).then(function(t){console.info("Success "+e.name+"uploaded. Response: "+t.data);var r=$(t.data).find("Location").text(),i={image:r,userId:u};l.addPic(i).success(function(){if(c+=1,c==a){if(n.getObject("sessionuser")){var e=n.getObject("sessionuser");e.image=r,n.putObject("sessionuser",e)}o.reload()}}).error(function(){console.info("Error ")})},function(e){console.log("Error status: "+e.status)},function(){})}).error(function(){console.info("Error")})})},e.$on("mapInitialized",function(t,r){e.map=r;var o={lat:e.map.markers[0].getPosition().lat(),lng:e.map.markers[0].getPosition().lng()};if(o.lat&&o.lng&&""!=o.lat&&""!=o.lng){var a={userId:e.user._id,latlng:o};l.markLatLng(a).success(function(){console.info("Position marked: "+JSON.stringify(o))}).error(function(e,t){console.info(t+" "+e)})}}),e.user.basic&&(a.title=e.user.basic.name),e.fblogin=function(){c.getLoginStatus().then(function(t){e.fbLoginStatus=t}),c.login().then(function(t){e.fbLoginStatus=t,m()})},e.$watch("[fbLoginStatus.status, user.fbuser.facebook.id]",function(t){"connected"==t[0]&&t[1]&&(e.fbUser=!0,e.user.fbuser.facebook.accessToken=e.fbLoginStatus.authResponse.accessToken,e.user.facebookId&&""!=e.user.facebookId||(console.log(e.user),l.fbSave(e.user).success(function(t){var r=t,o={userId:r._id,facebookId:r.facebookId,userType:r.userType,basic:r.basic,image:r.image,mobile:r.mobile,email:r.email};n.putObject("sessionuser",o),e.user=o,e.showSavedDialog()}).error(function(){console.info("Error ")})))},!0),e.showSavedDialog=function(e){u.show({contentElement:"#savedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),d(function(){u.cancel()},1e3)},console.log("Profile Controller finished")}]),exambazaar.controller("addSubscriberController",["$scope","subscribersList","subscriberService","$http","$state",function(e,t,r){e.subscribersList=t.data,e.newSubscribers=[{name:"",email:"",mobile:""}],e.addSubscribers=function(){var t=[];e.newSubscribers.forEach(function(e){e&&e.name&&(e.email||e.mobile)&&t.push(e)}),r.saveSubscribers(t).success(function(){alert("Subscribers saved!")}).error(function(e,t){console.info("Error "+e+" "+t)})},e.selectedUser=null,e.setUser=function(t){e.selectedUser||(e.selectedUser=[]);var r=e.selectedUser.map(function(e){return e._id}),o=r.indexOf(t._id);-1==o?e.selectedUser.push(t):console.log(t._id+" already exists!")},e.selectedBackground=function(t){var r=e.selectedUser.map(function(e){return e._id}),o=r.indexOf(t._id);return-1==o?!1:!0},e.sendReviewInvite=function(){if(e.selectedUser){var t={userList:e.selectedUser};r.sendReviewInvites(t).success(function(){console.log("Delivered"),e.userSocial=!0}).error(function(){console.info("Error ")})}}}]),exambazaar.controller("addAwsCredentialController",["$scope","awsCredentialList","AwsCredentialService","$http","$state",function(e,t,r){e.awsCredentials=t.data,e.addAwsCredential=function(){r.saveAwsCredential(e.awsCredential).success(function(){alert("AWS Credential saved: "+e.awsCredential.accessKey)}).error(function(e,t){console.info("Error "+e+" "+t)})},e.setAwsCredential=function(t){e.awsCredential=t}}]),exambazaar.controller("addMediaTagController",["$scope","mediaTagList","mediaTypeList","MediaTagService","$http","$state",function(e,t,r,o){e.mediaTags=t.data,e.mediaTypes=r.data,e.newmediaTags=[{media:"Image",type:"External",subType:"Institute Logo"}],e.bulkAddMode=!1,e.setBulkAddMode=function(){e.bulkAddMode=!e.bulkAddMode},e.addMediaTag=function(){o.saveMediaTags([e.mediaTag]).success(function(){alert("Media Tag saved: "+e.mediaTag.media+" > "+e.mediaTag.type+" > "+e.mediaTag.subType)}).error(function(e,t){console.info("Error "+e+" "+t)})},e.addMediaTags=function(){e.newmediaTags.pop(),e.newmediaTags.pop(),e.newmediaTags.pop(),e.newmediaTags.pop(),e.newmediaTags.pop(),o.saveMediaTags(e.newmediaTags).success(function(){alert("MediaTags Saved!")}).error(function(e){console.info("Error: "+e)})},e.setMediaTag=function(t){e.mediaTag=t}}]),exambazaar.controller("addGroupController",["$scope","groupList","GroupService","$http","$state",function(e,t,r){e.groups=t.data,e.newgroups=[{group:"Jamboree"}],e.bulkAddMode=!0,e.setBulkAddMode=function(){e.bulkAddMode=!e.bulkAddMode},e.addGroup=function(){r.saveGroups([e.group]).success(function(){alert("Group saved: "+e.group.media+" > "+e.group.type+" > "+e.group.subType)}).error(function(e,t){console.info("Error "+e+" "+t)})},e.addGroups=function(){e.newgroups.pop(),e.newgroups.pop(),e.newgroups.pop(),e.newgroups.pop(),e.newgroups.pop(),r.saveGroups(e.newgroups).success(function(){alert("Groups Saved!")}).error(function(e){console.info("Error: "+e)})},e.setGroup=function(t){e.group=t}}]),exambazaar.controller("addLocationController",["$scope","locationList","cityList","LocationService","$http","$state",function(e,t,r,o){e.locations=t.data,e.cities=r.data,e.bulkAddMode=!1,e.setBulkAddMode=function(){e.bulkAddMode=!e.bulkAddMode},e.newlocations=[{city:"Jaipur",area:"Malviya Nagar"}],e.addLocation=function(){o.saveLocation(e.location).success(function(){alert("Location saved: "+e.location.area)}).error(function(e,t){console.info("Error "+e+" "+t)})},e.addLocations=function(){e.newlocations.pop(),e.newlocations.pop(),e.newlocations.pop(),e.newlocations.pop(),e.newlocations.pop(),o.saveLocations(e.newlocations).success(function(){alert("Locations Saved!")}).error(function(e){console.info("Error: "+e)})},e.setLocation=function(t){e.location=t}}]),exambazaar.controller("eligibilityController",["$scope","examList","streamList","EligibilityService","$http","$state","eligibilityList","$mdDialog",function(e,t,r,o,a,n,i,s){e.examNames="",e.exams=t.data,e.eligibilityList=i.data,e.elgVerified=!1,e.activeExamEligibility=null,e.showExamEligibility=function(t){e.activeExamEligibility=t,e.showExamEligDialog()},e.showExamEligDialog=function(e){s.show({contentElement:"#examEligDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})};e.exams.map(function(e){return e.displayname}),e.exams.map(function(e){return e._id});e.eligibilityList.forEach(function(e){var t=e.exam.displayname;e.examName=t}),e.exams.forEach(function(t){e.examNames+=t.displayname+","}),e.streams=r.data,e.categoryOptions=["general","sc","st","obc"],e.educationLevels=[{level:0,name:"I-X"},{level:2,name:"XI / XII / After XII"},{level:3,name:"In UG or equivalent"},{level:4,name:"During or After Final Year of UG"},{level:5,name:"During or After Final Year of PG"}],e.class12Subjects=[{name:"english",displayname:"English"},{name:"physics",displayname:"Physics"},{name:"chemistry",displayname:"Chemistry"},{name:"mathematics",displayname:"Mathematics"},{name:"biology",displayname:"Biology"},{name:"biotechnology",displayname:"Biotechnology"},{name:"others",displayname:"Others"}],e.undergradMajors=[{name:"btech",displayname:"B.Tech."},{name:"be",displayname:"B.E."},{name:"mbbs",displayname:"M.B.B.S."},{name:"bds",displayname:"B.D.S."},{name:"bsc",displayname:"B.Sc."},{name:"ba",displayname:"B.A."},{name:"bftech",displayname:"NIFT B.F.Tech."},{name:"bcom",displayname:"B.Com."},{name:"barch",displayname:"B. Arch."},{name:"llb",displayname:"LL.B."},{name:"others",displayname:"Others"},{name:"fiveyearballb",displayname:"Five Year B.A. LL.B."},{name:"fiveyearintegratedllb",displayname:"Five Year Integrated LL.B. (Hons.)"},{name:"lawdegreeequivalenttollb",displayname:"Law Degree equivalent to LL.B."},{name:"professionalcourseequivalenttobtech",displayname:"Professional Courses equivalent to B.E. / B.Tech."}],e.postgradMajors=[{name:"mba",displayname:"M.B.A."},{name:"ms",displayname:"M.S."},{name:"mtech",displayname:"M.Tech."},{name:"mcom",displayname:"M.Com."},{name:"msc",displayname:"M.Sc."},{name:"ma",displayname:"M.A."},{name:"mca",displayname:"M.C.A."},{name:"llm",displayname:"LL.M."},{name:"others",displayname:"Others"}],e.setCategory=function(t){e.categoryOptions.forEach(function(t){e.elgInput.category[t]=!1}),e.elgInput.category[t]=!0},e.setEducationLevel=function(t){e.elgInput.educationLevel=t},e.setPWD=function(t){e.elgInput.category.pwd=t},e.setClass12Subjects=function(t){e.elgInput.class12Subjects[t]=!0},e.unsetClass12Subjects=function(t){e.elgInput.class12Subjects[t]=!1},e.setUndergradMajor=function(t){e.undergradMajors.forEach(function(t){e.elgInput.undergradMajor[t.name]=!1}),e.elgInput.undergradMajor[t]=!0},e.setPostgradMajor=function(t){e.postgradMajors.forEach(function(t){e.elgInput.postgradMajor[t.name]=!1}),e.elgInput.postgradMajor[t]=!0},e.elgInput={category:{general:!0,sc:!1,st:!1,obc:!1,pwd:!1},age:null,educationLevel:{level:null,name:null},class12Subjects:{biology:!1,chemistry:!1,biotechnology:!1,physics:!1,mathematics:!1,english:!1,others:!1},class12Percentage:null,undergradMajor:{mbbs:!1,bds:!1,bsc:!1,bftech:!1,be:!1,btech:!1,bcom:!1,ba:!1,barch:!1,llb:!1,fiveyearintegratedllb:!1,fiveyearballb:!1,lawdegreeequivalenttollb:!1,others:!1},undergradPercentage:null,postgradMajor:{mcom:!1,msc:!1,ma:!1,mca:!1,mtech:!1,mba:!1,ms:!1,llm:!1,others:!1},postgradPercentage:null},e.elgInput={category:{general:!0,sc:!1,st:!1,obc:!1,pwd:!1},age:18,educationLevel:{level:null,name:null},class12Subjects:{biology:!1,chemistry:!0,biotechnology:!1,physics:!0,mathematics:!0,english:!0,others:!1},class12Percentage:90,undergradMajor:{mbbs:!1,bds:!1,bsc:!1,bftech:!1,be:!1,btech:!1,bcom:!1,ba:!1,barch:!1,llb:!1,fiveyearintegratedllb:!1,fiveyearballb:!1,lawdegreeequivalenttollb:!1,others:!1},undergradPercentage:null,postgradMajor:{mcom:!1,msc:!1,ma:!1,mca:!1,mtech:!1,mba:!1,ms:!1,llm:!1,others:!1},postgradPercentage:null},e.editQualifications=function(){e.elgVerified=!1},e.scrollTop=function(){document.body.scrollTop=document.documentElement.scrollTop=0},e.checkEligibility=function(){console.info(e.elgInput),e.error=!1;var t=!1,r=!0,o=!0,a=!0,n=[];if(e.elgInput.age||(t=!0,n.push("Please select your age")),null==e.elgInput.educationLevel.level&&(t=!0,n.push("Please select your current education level")),e.elgInput.educationLevel.level&&e.elgInput.educationLevel.level>=1&&e.class12Subjects.forEach(function(t){e.elgInput.class12Subjects[t.name]&&(r=!1)}),e.elgInput.educationLevel.level&&e.elgInput.educationLevel.level>=1&&r&&(t=!0,n.push("Please select your Class XII Subjects")),e.elgInput.educationLevel.level&&e.elgInput.educationLevel.level>=3&&(e.elgInput.class12Percentage||(t=!0,n.push("Please select your Class XII Percentage"))),e.elgInput.educationLevel.level&&e.elgInput.educationLevel.level>=3&&e.undergradMajors.forEach(function(r,a){e.elgInput.undergradMajor[r.name]&&(o=!1),a==e.undergradMajors.length-1&&o&&(t=o,n.push("Please select your Undergraduate Major"))}),e.elgInput.educationLevel.level&&e.elgInput.educationLevel.level>=4&&(e.elgInput.undergradPercentage||(t=!0,n.push("Please select your Undergraduate Percentage (or equivalent CGPA)"))),e.elgInput.educationLevel.level&&e.elgInput.educationLevel.level>=5&&e.postgradMajors.forEach(function(r,o){e.elgInput.postgradMajor[r.name]&&(a=!1),o==e.postgradMajors.length-1&&a&&(t=a,n.push("Please select your Postgraduate Major"))}),e.elgInput.educationLevel.level&&e.elgInput.educationLevel.level>=5&&(e.elgInput.postgradPercentage||(t=!0,n.push("Please select your achieved or expected Postgraduate Percentage (or equivalent CGPA)"))),t)e.error=!0,e.errorMessages=n;else{e.elgVerified=!0,e.validEligibilities=[],e.uniqueValidEligibilities=[];var i=["58cedb079eef5e0011c17e91"];e.eligibilityList.forEach(function(t,r){var o=t.category.applicable,a=t.age.applicable,n=t.class12Subjects.applicable,s=t.class12Percentage.applicable,l=t.undergradMajor.applicable,c=t.undergradPercentage.applicable,u=t.postgradMajor.applicable,d=t.postgradPercentage.applicable,m=!0;if(o){var f=!1;e.categoryOptions.forEach(function(r){t.category[r]&&e.elgInput.category[r]&&(f=!0)}),f||(m=!1)}if(a&&(e.elgInput.age<t.age.minage||e.elgInput.age>t.age.maxage)&&(m=!1,-1!=i.indexOf(t.exam._id)&&console.info(r+" "+m+" "+t._id)),n&&(e.elgInput.educationLevel.level<1&&(m=!1),e.class12Subjects.forEach(function(o){t.class12Subjects[o.name]&&!e.elgInput.class12Subjects[o.name]&&(m=!1,-1!=i.indexOf(t.exam._id)&&console.info(r+" "+m+" "+o.name+" "+t._id))})),s&&(t.class12Percentage.minPercentage&&e.elgInput.class12Percentage<t.class12Percentage.minPercentage&&(m=!1),(null==e.elgInput.class12Percentage||0==e.elgInput.class12Percentage)&&(m=!1)),l){var g=!1;e.elgInput.educationLevel.level<3&&(m=!1),e.undergradMajors.forEach(function(r){t.undergradMajor[r.name]&&e.elgInput.undergradMajor[r.name]&&(g=!0)}),g||(m=!1)}if(c&&(t.undergradPercentage.minPercentage&&e.elgInput.undergradPercentage<t.undergradPercentage.minPercentage&&(m=!1),(null==e.elgInput.undergradPercentage||0==e.elgInput.undergradPercentage)&&(m=!1)),u){var p=!1;e.elgInput.educationLevel.level<5&&(m=!1),e.postgradMajors.forEach(function(r){t.postgradMajor[r.name]&&e.elgInput.postgradMajor[r.name]&&(p=!0)}),p||(m=!1)}d&&(t.postgradPercentage.minPercentage&&e.elgInput.postgradPercentage<t.postgradPercentage.minPercentage&&(m=!1),(null==e.elgInput.postgradPercentage||0==e.elgInput.postgradPercentage)&&(m=!1)),m&&t.level>=e.elgInput.educationLevel.level&&e.validEligibilities.push(t)}),e.validStreamExams=[];var s=[];e.validEligibilities.forEach(function(t){var r=t.exam.stream._id,o=t.exam._id,a=s.indexOf(r);if(-1==a){s.push(r);var n={stream:t.exam.stream,examEligs:[]},i={exam:t.exam,eligibilitys:[t]};n.examEligs.push(i),e.validStreamExams.push(n)}else{var l=e.validStreamExams[a],c=-1;if(l.examEligs.forEach(function(e,t){e.exam._id==o&&(c=t)}),-1!=c)l.examEligs[c].eligibilitys.push(t);else{var i={exam:t.exam,eligibilitys:[t]};l.examEligs.push(i)}}}),console.log(e.validStreamExams),e.scrollTop()}}}]),exambazaar.controller("addEligibilityController",["$scope","examList","streamList","EligibilityService","$http","$state","eligibilityList",function(e,t,r,o,a,n,i){e.examNames="",e.exams=t.data,e.newEligibility=i.data,e.newEligibility||(e.newEligibility=[]);{var s=e.exams.map(function(e){return e.displayname});e.exams.map(function(e){return e._id})}e.newEligibility.forEach(function(e){var t=e.exam.displayname;e.examName=t}),e.exams.forEach(function(t){e.examNames+=t.displayname+","}),e.streams=r.data,e.addEligibility=function(){var t=[];e.newEligibility.forEach(function(r){var o=s.indexOf(r.examName),a=null;-1!=o&&(a=e.exams[o]._id,r.exam=a),a?t.push(r):r.examName&&console.info("Please check exam name: "+r.examName+". You need to match it exactly.")});o.bulksaveEligibility(t).success(function(){alert("Eligibilities saved!")}).error(function(e,t){console.info("Error "+e+" "+t)})},e.setExam=function(t){e.exam=t}}]),exambazaar.controller("addExamController",["$scope","examList","streamList","ExamService","$http","$state","$mdDialog","ImageService","Upload","$timeout",function(e,t,r,o,a,n,i,s,l,c){e.exams=t.data,e.streams=r.data,e.resultFormats=["Rank","Percentile","Percentage","Marks","Pass/Fail"],e.addExam=function(){o.saveExam(e.exam).success(function(){alert("Exam saved: "+e.exam.displayname)}).error(function(e,t){console.info("Error "+e+" "+t)})},e.setExam=function(t){e.exam=t,e.exam.logo||(e.exam.logo="")},e.showSavedDialog=function(e){i.show({contentElement:"#savedDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),c(function(){i.cancel()},1e3)},e.saveExamFirstDialog=function(e){i.show({contentElement:"#saveExamFirstDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),c(function(){i.cancel()},1e3)},e.uploadLogo=function(t){var r=[t],a=(r.length,0);r&&r.length&&r.forEach(function(t){var r={filename:t.name,contentType:t.type};s.s3Credentials(r).success(function(r){var i={},s=r.params;for(var c in s)s.hasOwnProperty(c)&&(i[c]=s[c]);i.file=t,l.upload({url:r.endpoint_url,data:i}).then(function(r){console.info("Success "+t.name+"uploaded. Response: "+r.data);var i=$(r.data).find("Location").text(),s={logo:i,examId:e.exam._id};console.info(s),s.examId?o.addLogo(s).success(function(){a+=1,e.showSavedDialog(),n.reload()}).error(function(){console.info("Error ")}):e.saveExamFirstDialog()},function(e){console.log("Error status: "+e.status)},function(){})}).error(function(){console.info("Error")})})}}]),exambazaar.controller("addStreamController",["$scope","streamList","StreamService","$http","$state",function(e,t,r){e.streams=t.data,console.info(t.data),e.addStream=function(){r.saveStream(e.stream).success(function(){}).error(function(e,t){console.info("Error "+e+" "+t)})},e.setStream=function(t){e.stream=t}}]),exambazaar.controller("addOfferController",["$scope","offersList","offerService","$http","$state",function(e,t,r){e.offersList=t.data,e.addOffer=function(){r.saveOffer(e.offer).success(function(){}).error(function(e,t){console.info("Error "+e+" "+t)})},e.setOffer=function(t){e.offer=t}}]),exambazaar.controller("addInternController",["$scope","UserService","$http","$state",function(e,t){e.genders=["Female","Male"],e.intern={userType:"Intern",password:"",basic:{name:"Lakshana Gopi",gender:"Female"},contact:{mobile:"9940179709",email:"lakiilaksh28@gmail.com"}},e.internTypes=["Intern - Business Development","Intern - Content"],e.addIntern=function(){console.info(JSON.stringify(e.intern));t.saveUser(e.intern).success(function(e){alert("Done")}).error(function(e,t){console.info("Error "+e+" "+t)})}}]),exambazaar.controller("addMasterController",["$scope","UserService","$http","$state",function(e,t,r,o){e.genders=["Female","Male"],e.master={userType:"Master",password:"",basic:{name:"Gaurav Parashar",gender:"Male",dob:new Date("April 29, 1989")},contact:{mobile:"9829685919",email:"gauravparashar294@gmail.com"}},e.addMaster=function(){t.saveUser(e.master).success(function(t){var r=t;e.formmessage="Master "+e.master.basic.firstName+" "+e.master.basic.lastName+" saved!",o.go("master-dashboard",{masterId:r})}).error(function(e,t){console.info("Error "+e+" "+t)})}}]),exambazaar.controller("bulkDisableController",["$scope","UserService","$http","$state","thisuser","targetStudyProviderService",function(e,t,r,o,a,n){e.user=a.data,"Master"==e.user.userType&&(e.showLevel=10),"5922d8dbe20d000011b025e5"==e.user._id&&(e.showLevel=10),e.disableinstitutes=[],e.disableinstitute={_id:""},e.disableInstitutes=function(){var t=[];e.disableinstitutes.forEach(function(e){e._id&&t.push(e)});var r={user:e.user._id,instituteIds:t};e.disabledIds=t,console.log(t.length),n.bulkDisableProviders(r).success(function(){console.info("Done")}).error(function(){console.info("Error ")})},e.claimInstitute=function(){e.addedInstituteId&&o.go("claim",{coachingId:e.addedInstituteId})}}]),exambazaar.controller("addInstituteController",["$scope","UserService","$http","$state","thisuser","targetStudyProviderService","examList","streamList",function(e,t,r,o,a,n,i,s){e.user=a.data,e.exams=i.data,console.log(e.exams),e.streams=s.data,"Master"==e.user.userType&&(e.showLevel=10),"5922d8dbe20d000011b025e5"==e.user._id&&(e.showLevel=10),e.newinstitutes=[],e.commonExams=[],e.addExam=function(t){-1==e.commonExams.indexOf(t)&&(e.commonExams.push(t),console.log(e.commonExams))},e.removeExam=function(t){var r=e.commonExams.indexOf(t);-1!=r&&e.commonExams.splice(r,1)},e.newInstitute={name:"",groupName:"",address:"",city:"",state:"",pincode:""},e.addInstitute=function(){e.newInstitute.groupName=e.newInstitute.name;var t={targetStudyProvider:e.newInstitute,user:e.user.userId};n.saveProvider(t).success(function(t){e.addedInstituteId=t,console.info("Done")}).error(function(){console.info("Error ")})},e.addInstitutes=function(){var t=[];e.newinstitutes.forEach(function(r){if(r.name&&""!=r.name){r.groupName=r.name;var o={targetStudyProvider:r,user:e.user._id};e.commonExams.length>0&&(o.targetStudyProvider.exams=e.commonExams),t.push(o)}}),console.log(t),n.bulkSaveProviders(t).success(function(t){e.addedInstituteIds=t,console.info("Done")}).error(function(){console.info("Error ")})},e.claimInstitute=function(){e.addedInstituteId&&o.go("claim",{coachingId:e.addedInstituteId})}}]),exambazaar.controller("sitemapController",["$scope","$http","$state","cities",function(e){var t=["https://www.exambazaar.com/stream/engineering/JEE%20Advanced/","https://www.exambazaar.com/stream/engineering/BITSAT/","https://www.exambazaar.com/stream/engineering/GATE/","https://www.exambazaar.com/stream/engineering/NATA/","https://www.exambazaar.com/stream/medical/AIPMT/","https://www.exambazaar.com/stream/medical/AIIMS/","https://www.exambazaar.com/stream/medical/AFMC/","https://www.exambazaar.com/stream/cacs/CA%20CPT/","https://www.exambazaar.com/stream/cacs/CS%20Foundation%20Exam/","https://www.exambazaar.com/stream/school/NTSE%20Exam/","https://www.exambazaar.com/stream/school/KVPY/","https://www.exambazaar.com/stream/mba/CAT/","https://www.exambazaar.com/stream/mba/XAT/","https://www.exambazaar.com/stream/mba/SNAP/","https://www.exambazaar.com/stream/law/CLAT/","https://www.exambazaar.com/stream/law/LSAT/","https://www.exambazaar.com/stream/law/AILET/","https://www.exambazaar.com/stream/foreigneducation/SAT/","https://www.exambazaar.com/stream/foreigneducation/GMAT/","https://www.exambazaar.com/stream/foreigneducation/GRE/","https://www.exambazaar.com/stream/foreigneducation/IELTS/","https://www.exambazaar.com/stream/foreigneducation/TOEFL/","https://www.exambazaar.com/stream/civilservices/Civil%20Services%20Exam/","https://www.exambazaar.com/stream/civilservices/IFS%20Exam/","https://www.exambazaar.com/stream/civilservices/IES~2FISS%20Exam/","https://www.exambazaar.com/stream/ssc/SSC%20CGLE/","https://www.exambazaar.com/stream/ssc/SSC%20CHSL%20Exam/","https://www.exambazaar.com/stream/ssc/SSC%20CMLE/","https://www.exambazaar.com/stream/ssc/SSC%20CPO%20(S.I)%20Exam/","https://www.exambazaar.com/stream/ssc/SSC%20JE/","https://www.exambazaar.com/stream/bank/SBI%20PO%20Exam/","https://www.exambazaar.com/stream/bank/IBPS%20PO%20CWE/","https://www.exambazaar.com/stream/bank/IBPS%20Clerk%20CWE/","https://www.exambazaar.com/stream/bank/RBI%20Assistant%20Exam/","https://www.exambazaar.com/stream/defence/NDA%20Exam/","https://www.exambazaar.com/stream/defence/CDS%20Exam/","https://www.exambazaar.com/stream/defence/I.A.F.%20Exam/","https://www.exambazaar.com/stream/defence/I.N.A%20Exam/","https://www.exambazaar.com/stream/defence/AFCAT/","https://www.exambazaar.com/stream/insurance/IRDA%20Exam/","https://www.exambazaar.com/stream/insurance/LIC%20AAO%20Exam/","https://www.exambazaar.com/stream/insurance/L.I.C%20D.O/","https://www.exambazaar.com/stream/insurance/G.I.C%20Exam/"],r=["Delhi","Mumbai","New%20Delhi","Ahmedabad","Chennai","Kolkata","Hyderabad","Pune","Bangalore","Chandigarh","Jaipur","Agra","Ajmer","Allahabad","Alwar","Ambala","Amritsar","Bhilwara","Bhopal","Bikaner","Coimbatore","Dehradun","Ganganagar","Ghaziabad","Guwahati","Gwalior","Indore","Juhnjhunu","Kanpur","Kota","Kurukshetra","Lucknow","Ludhiana","Mathura","Meerut","Mohali","Mysore","Nasik","Noida","Patiala","Patna","Rajkot","Rohtak","Roorkee","Shimla","Sikar","Surat","Thrissur","Trivandrum","Vadodara","Vellore","Vishakhapatnam"],o=[];e.urls=[],t.forEach(function(e){r.forEach(function(t){var r="<url><loc>"+e+t+"</loc><changefreq>daily</changefreq><priority>1.0</priority></url>";o.push(r)})}),e.urls=o}]),exambazaar.controller("sendEmailController",["$scope","$http","$state","EmailService","targetStudyProviderService","thisuser","$mdDialog","$timeout","thisuserEmails","tofillciService",function(e,t,r,o,a,n,i,s,l,c){e.fetchEmails=function(){c.sendEmails().success(function(t){var r=t,o=[];r.forEach(function(e){-1==o.indexOf(e)&&o.push(e)}),e.bulkEmails=o,console.info(JSON.stringify(o.length))}).error(function(e,t){console.info("Error "+e+" "+t)})},e.setBulkProvider=function(t){e.email.instituteId=t},e.user=n.data,e.userEmails=l.data,e.sendingMode=!0,e.flipSendingMode=function(){e.sendingMode=!e.sendingMode},e.email={to:"",templateName:"Claim CI Email - 5thApril2017",sender:"",senderId:"",from:"",subject:"",html:"",instituteName:"",instituteAddress:"",institutePhoneMobile:"",instituteId:"",logo:""},e.instituteIds=["5870d1271a807f0011545809","587139ba5f53bc1f94b0210a","5870f6dab2a1c11da8740271","5870f236b2a1c11da8740236","5870ff60b2a1c11da87402df","5870f7cdb2a1c11da874027d","5870f7d5b2a1c11da874027e","5870fcadb2a1c11da87402be","58e3707a76035205d401c22f","587138cf5f53bc1f94b020ff","5870d1271a807f001154580b","58713a045f53bc1f94b0210c","5870ce8d1131e4320865fc81","5870ef6280ea0e069889091c","5870f328b2a1c11da8740242","5870f6efb2a1c11da8740273","5870f787b2a1c11da874027c","587138b25f53bc1f94b020fc","587139275f53bc1f94b02101","587139495f53bc1f94b02103","5870d1271a807f0011545806","5870f86bb2a1c11da8740287","587126eb72dbba182cb4a644","587137ad5f53bc1f94b020ee","5870d1271a807f0011545807","58f5ed043d592300f42b5c72"],e.update=function(t){e.email.instituteId=t},e.setEmail=function(t){e.email.to=t},e.showSentDialog=function(e){i.show({contentElement:"#sentDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),s(function(){i.cancel()},8e3)},e.showErrorDialog=function(e){i.show({contentElement:"#errorDialog",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0}),s(function(){i.cancel()},9e3)},e.templateNames=["Claim CI Email - 5thApril2017","Follow Up 1 to CIs"],e.showLevel=0,"Master"==e.user.userType?(e.showLevel=10,e.email.from=e.user.email,e.email.sender=e.user.basic.name,e.email.senderId=e.user._id):"Intern - Business Development"==e.user.userType&&("58c8e895bbaebf3560545f19"==e.user._id||"59085f0fc7289d0011d6ea8c"==e.user._id||"58e5fdd86c9be422e4820d7e"==e.user._id)&&(e.showLevel=10,e.email.from="always@exambazaar.com",e.email.sender="Exambazaar",e.email.senderId=e.user._id),e.$watch("email.instituteId",function(t){if(null!=t&&""!=t){var r=t.split("/");t=r[r.length-1],t.length>5&&a.getProviderBasic(t).success(function(t){if(t){var r=t.provider;t.emailSent&&(e.emailSent=t.emailSent,e.emailSent.forEach(function(e){e.fromNow=moment(e._date).fromNow()})),e.provider=r,e.email.to="",e.email.instituteName=e.provider.name,e.email.instituteAddress=e.provider.address+", "+e.provider.city,e.provider.pincode&&(e.email.instituteAddress+=e.provider.pincode),e.email.institutePhoneMobile="",e.provider.mobile.forEach(function(t,r){0==r&&(e.email.institutePhoneMobile+="Mobile: "),e.email.institutePhoneMobile+=t,r!=e.provider.mobile.length-1&&(e.email.institutePhoneMobile+=", ")}),e.provider.phone.forEach(function(t,r){0==r&&(e.email.institutePhoneMobile+=" Phone: "),e.email.institutePhoneMobile+=t,r!=e.provider.phone.length-1&&(e.email.institutePhoneMobile+=", ")}),e.email.instituteId=e.provider._id,e.email.logo=e.provider.logo,e.email.subject=e.provider.name+" - Don't Wait! Claim Your Free Exambazaar Listing Now"}}).error(function(){console.info("Error ")})}},!0),e.sendEmail=function(){o.sendGrid(e.email).success(function(t){var r=t;console.info(JSON.stringify(r)),"202"==r.statusCode?e.showSentDialog():e.showErrorDialog()}).error(function(e,t){console.info("Error "+e+" "+t)})}}]),exambazaar.config(function(e){e.formatDate=function(e){return moment(e).format("MMM DD YYYY")}}),exambazaar.factory("metaService",function(){function e(){return a}function t(e){a=e}function r(){return n}function o(e){n=e}var a="Exambazaar: Select the stream you want to study",n="Exambazaar is Indias biggest and largest education discovery platform and is the fastest way to discover best coaching institutes in your city. Our easy-to-use website shows you all the coaching institutes based on study streams, along with courses, photos, vidoes and results. Exambazaar also provides comprehensive information for test prep for entrance exams in India, colleges, courses, universities and career options. You can find information about more than 50 exams and coaching institutes to succeed",i={title:e,setTitle:t,description:r,setDescription:o};return i}),exambazaar.config(function(e){e.interceptors.push(function(e,t){return{response:function(e){return e},responseError:function(r){return 401===r.status&&t.url("/login"),e.reject(r)}}})});exambazaar.config(function(e,t,r){t.otherwise("/"),e.state("landing",{url:"/",views:{header:{templateUrl:"header2.html",controller:"headerController"},body:{templateUrl:"landing.html",controller:"landingController"},footer:{templateUrl:"footer.html"}},resolve:{data:function(e){e.pageTitle="Exambazaar: Find best coaching institutes in your city for 50+ Indian exams",e.pageDescription="Exambazaar:find best coaching institutes in your city. Browse courses, photos, vidoes and results for over 50 entrance exams in India"}}}).state("login",{url:"/login",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"login.html",controller:"loginController"},footer:{templateUrl:"footer.html"}}}).state("main",{url:"/stream",views:{header:{templateUrl:"header2.html",controller:"headerController"},body:{templateUrl:"stream.html",controller:"streamController"},footer:{templateUrl:"footer.html"}},resolve:{streamList:["StreamService",function(e){return e.getStreams()}],stream:function(){return{}}}}).state("signup",{url:"/signup",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"signup.html",controller:"signupController"},footer:{templateUrl:"footer.html"}}}).state("category",{url:"/stream/:categoryName",views:{header:{templateUrl:"header2.html",controller:"headerController"},body:{templateUrl:"category.html",controller:"categoryController"},footer:{templateUrl:"footer.html"}},resolve:{examList:["ExamService","$stateParams",function(e,t){return e.getStreamExams(t.categoryName)}],exam:function(){return{}}}}).state("city",{url:"/stream/:categoryName/:subCategoryName/",views:{header:{templateUrl:"header2.html",controller:"headerController"},body:{templateUrl:"city.html",controller:"cityController"},footer:{templateUrl:"footer.html"}},resolve:{thisStream:["StreamService","$stateParams",function(e,t){return e.getStreamByName(t.categoryName)}],thisExam:["ExamService","$stateParams",function(e,t){return e.getExamByName(t.subCategoryName)}],exam:function(){return{}}}}).state("findCoaching",{url:"/stream/:categoryName/:subCategoryName/:cityName",views:{header:{templateUrl:"header1.html",controller:"headerController"},body:{templateUrl:"coaching.html",controller:"coachingController"},footer:{templateUrl:"footer.html"}},resolve:{thisStream:["StreamService","$stateParams",function(e,t){return e.getStreamByName(t.categoryName)}],thisExam:["ExamService","$stateParams",function(e,t){return e.getExamByName(t.subCategoryName)}],streamExams:["ExamService","$stateParams",function(e,t){return e.getStreamExams(t.categoryName)}],targetStudyProvidersList:["targetStudyProviderService","$stateParams",function(e,t){var r={city:t.cityName,course:t.subCategoryName};
return e.getCourseProviders(r)}],provider:function(){return{}}}}).state("showCoaching",{url:"/stream/:categoryName/:subCategoryName/:cityName/:coachingId",views:{header:{templateUrl:"header1.html",controller:"headerController"},body:{templateUrl:"showCoaching.html",controller:"showCoachingController"},footer:{templateUrl:"footer.html"}},resolve:{thisStream:["StreamService","$stateParams",function(e,t){return e.getStreamByName(t.categoryName)}],thisExam:["ExamService","$stateParams",function(e,t){return e.getExamByName(t.subCategoryName)}],thisProvider:["targetStudyProviderService","$stateParams",function(e,t){return e.getProvider(t.coachingId)}],provider:function(){return{}}}}).state("showGroup",{url:"/group/:categoryName/:subCategoryName/:cityName/:groupName",views:{header:{templateUrl:"header1.html",controller:"headerController"},body:{templateUrl:"showGroup.html",controller:"showGroupController"},footer:{templateUrl:"footer.html"}},resolve:{thisStream:["StreamService","$stateParams",function(e,t){return e.getStreamByName(t.categoryName)}],thisExam:["ExamService","$stateParams",function(e,t){return e.getExamByName(t.subCategoryName)}],examList:["ExamService",function(e){return e.getExams()}],streamList:["StreamService",function(e){return e.getStreams()}],thisGroup:["targetStudyProviderService","$stateParams",function(e,t){var r={groupName:t.groupName,cityName:t.cityName};return e.getGroupCity(r)}],provider:function(){return{}}}}).state("oldclaim",{url:"/oldclaim/:coachingId",views:{header:{templateUrl:"header1.html",controller:"headerController"},body:{templateUrl:"oldclaim.html",controller:"oldClaimController"},footer:{templateUrl:"footer.html"}},resolve:{thisProvider:["targetStudyProviderService","$stateParams",function(e,t){return e.getProvider(t.coachingId)}],provider:function(){return{}}}}).state("claim",{url:"/claim/:coachingId",views:{header:{templateUrl:"header1.html",controller:"headerController"},body:{templateUrl:"claim.html",controller:"claimController"},footer:{templateUrl:"footer.html"}},resolve:{thisProvider:["targetStudyProviderService","$stateParams",function(e,t){return e.getProvider(t.coachingId)}],thisGroupInfo:["targetStudyProviderService","$stateParams",function(e,t){return e.getGroupInfo(t.coachingId)}],imageMediaTagList:["MediaTagService","$stateParams",function(e){return e.getMediaTagByType("Image")}],videoMediaTagList:["MediaTagService","$stateParams",function(e){return e.getMediaTagByType("Video")}],examList:["ExamService",function(e){return e.getExams()}],streamList:["StreamService",function(e){return e.getStreams()}],cisavedUsersList:["targetStudyProviderService","$stateParams",function(e,t){return e.cisavedUsers(t.coachingId)}],provider:function(){return{}}}}).state("offers",{url:"/partner/:coachingId/offers",views:{header:{templateUrl:"header1.html",controller:"headerController"},body:{templateUrl:"offers.html",controller:"offersController"},footer:{templateUrl:"footer.html"}},resolve:{thisProvider:["targetStudyProviderService","$stateParams",function(e,t){return e.getProvider(t.coachingId)}],offersList:["offerService","$stateParams",function(e,t){return e.getProviderOffers(t.coachingId)}],couponsList:["couponService",function(e){return e.getAllCodes()}],thisGroupInfo:["targetStudyProviderService","$stateParams",function(e,t){return e.getGroupInfo(t.coachingId)}],provider:function(){return{}}}}).state("verifyClaim",{url:"/verifyClaim/:coachingId",views:{header:{templateUrl:"header1.html",controller:"headerController"},body:{templateUrl:"verifyClaim.html",controller:"verifyClaimController"},footer:{templateUrl:"footer.html"}},resolve:{thisProvider:["targetStudyProviderService","$stateParams",function(e,t){return e.getProvider(t.coachingId)}],provider:function(){return{}}}}).state("socialLogin",{url:"/socialLogin",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"socialLogin.html",controller:"socialLoginController"},footer:{templateUrl:"footer.html"}},resolve:{provider:function(){return{}}}}).state("allreviews",{url:"/allreviews",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"allreviews.html",controller:"allreviewsController"},footer:{templateUrl:"footer.html"}},resolve:{allReviews:["reviewService",function(e){return e.getreviews()}],provider:function(){return{}}}}).state("rankerswall",{url:"/rankerswall/:examName/:year",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"rankerswall.html",controller:"rankerswallController"},footer:{templateUrl:"footer.html"}},resolve:{thisExam:["ExamService","$stateParams",function(e,t){return e.getExamByName(t.examName)}],allResults:["targetStudyProviderService","$stateParams",function(e,t){return e.allResults(t.examName)}],provider:function(){return{}}}}).state("search",{url:"/search",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"search.html",controller:"searchController"},footer:{templateUrl:"footer.html"}},resolve:{targetStudyProvidersList:["targetStudyProviderService","$stateParams",function(e){return e.coachingAddressService()}],provider:function(){return{}}}}).state("suggestCoaching",{url:"/user/:userId/suggestCoaching",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"suggestCoaching.html",controller:"suggestCoachingController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],suggestedList:["suggestCoachingService","$stateParams",function(e){return e.getsuggestCoachings()}],provider:function(){return{}}}}).state("coachingGroup",{url:"/user/:userId/coachingGroup",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"coachingGroup.html",controller:"coachingGroupController"},footer:{templateUrl:"footer.html"}},resolve:{provider:function(){return{}}}}).state("review",{url:"/review",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"review.html",controller:"reviewController"},footer:{templateUrl:"footer.html"}},resolve:{allcities:["targetStudyProviderService","$stateParams",function(e){return e.getCities()}],streamList:["StreamService",function(e){return e.getStreams()}],examList:["ExamService",function(e){return e.getExams()}],provider:function(){return{}}}}).state("reviewed",{url:"/user/:userId/reviewed",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"reviewed.html",controller:"reviewedController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],activeOffers:["offerService","$stateParams",function(e){return e.getActiveOffersMedium()}],thisuserReviewed:["reviewService","$stateParams",function(e,t){return e.getuserReviews(t.userId)}],provider:function(){return{}}}}).state("availOffer",{url:"/user/:userId/:reviewId/availoffer",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"availOffer.html",controller:"availOfferController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],activeOfferInstitutes:["offerService",function(e){return e.getActiveOffersMedium()}],activeCoupons:["couponService",function(e){return e.getOneOfEachActiveCoupon()}],thisReview:["reviewService","$stateParams",function(e,t){return e.getreview(t.reviewId)}],provider:function(){return{}}}}).state("thankyou",{url:"/thankyou",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"thankyou.html",controller:"thankyouController"},footer:{templateUrl:"footer.html"}}}).state("sandbox2",{url:"/master/:masterId/sandbox2/:cityName",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"sandbox2.html",controller:"sandbox2Controller"},footer:{templateUrl:"footer.html"}},resolve:{targetStudyProvidersList:["targetStudyProviderService","$stateParams",function(e,t){return e.sandbox2Service(t.cityName)}],cityProviderCount:["targetStudyProviderService","$stateParams",function(e,t){return e.getCityProviderCount(t.cityName)}],targetStudyCities:["targetStudyProviderService","$stateParams",function(e){return e.getCities()}],provider:function(){return{}}}}).state("eligibility",{url:"/user/:userId/eligibility",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"eligibility.html",controller:"eligibilityController"},footer:{templateUrl:"footer.html"}},resolve:{eligibilityList:["EligibilityService",function(e){return e.getEligibilities()}],examList:["ExamService",function(e){return e.getExams()}],streamList:["StreamService",function(e){return e.getStreams()}],exam:function(){return{}}}}).state("privacy",{url:"/privacy",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"privacyPolicy.html",controller:"headerController"},footer:{templateUrl:"footer.html"}}}).state("about",{url:"/about",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"aboutus.html",controller:"headerController"},footer:{templateUrl:"footer.html"}}}).state("calendar",{url:"/calendar",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"calendar.html",controller:"calendarCtrl"},footer:{templateUrl:"footer.html"}}}).state("bulkAddStudents",{url:"/:instituteId/bulkAddStudents",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"bulkaddStudents.html",controller:"bulkAddStudentsCtrl"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}}}}).state("bulkAddTeachers",{url:"/:instituteId/bulkAddTeachers",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"bulkAddTeachers.html",controller:"bulkAddTeachersCtrl"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}}}}).state("bulkAddBatches",{url:"/:instituteId/bulkAddBatches",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"bulkAddBatches.html",controller:"bulkAddBatchesCtrl"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}}}}).state("instituteCalendar",{url:"/:instituteId/instituteCalendar",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"instituteCalendar.html",controller:"calendarCtrl"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}}}}).state("batchCalendar",{url:"/:batchId/batchCalendar",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"batchCalendar.html",controller:"batchCalendarCtrl"},footer:{templateUrl:"footer.html"}},resolve:{thisbatch:["BatchService","$stateParams",function(e,t){return e.getBatch(t.batchId)}],batch:function(){return{}}}}).state("admin",{url:"/admin/:adminId/main",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"admin.html",controller:"adminController"},footer:{templateUrl:"footer.html"}},resolve:{thisadmin:["AdminService","$stateParams",function(e,t){return e.getAdmin(t.adminId)}],admin:function(){return{}}}}).state("sendEmail",{url:"/user/:userId/sendEmail",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"sendEmail.html",controller:"sendEmailController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],thisuserEmails:["UserService","$stateParams",function(e,t){return e.getEmails(t.userId)}],user:function(){return{}}}}).state("master",{url:"/master/:masterId/main",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"master.html",controller:"masterController"},footer:{templateUrl:"footer.html"}},resolve:{thismaster:["MasterService","$stateParams",function(e,t){return e.getMaster(t.masterId)}],master:function(){return{}}}}).state("providers",{url:"/coaching/database2/:city",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"getCoaching.html",controller:"mastergetCoachingController"},footer:{templateUrl:"footer.html"}},resolve:{providersList:["ProviderService","$stateParams",function(e,t){return e.getProviders(t.city)}],provider:function(){return{}}}}).state("internship",{url:"/internship",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"internship.html",controller:"internshipController"},footer:{templateUrl:"footer.html"}}}).state("account",{url:"/account",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"account.html",controller:"accountController"},footer:{templateUrl:"footer.html"}}}).state("editTargetStudyProvider",{url:"/edit/database1/:coachingId",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"editTargetStudyCoaching.html",controller:"editTargetStudyCoachingController"},footer:{templateUrl:"footer.html"}},resolve:{thisTargetStudyProvider:["targetStudyProviderService","$stateParams",function(e,t){return e.getProvider(t.coachingId)}],imageMediaTagList:["MediaTagService","$stateParams",function(e){return e.getMediaTagByType("Image")}],provider:function(){return{}}}}).state("providersWithAreas",{url:"/coaching/providersWithAreas",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"providersWithAreas.html",controller:"providersWithAreasController"},footer:{templateUrl:"footer.html"}},resolve:{targetStudyProvidersList:["targetStudyProviderService","$stateParams",function(e){return e.getProvidersWithAreas()}],provider:function(){return{}}}}).state("targetStudyProviders",{url:"/coaching/database1/:city",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"getTargetStudyCoaching.html",controller:"getTargetStudyCoachingController"},footer:{templateUrl:"footer.html"}},resolve:{locationsList:["LocationService","$stateParams",function(e,t){return e.getCityLocations(t.city)}],targetStudyProvidersList:["targetStudyProviderService","$stateParams",function(e,t){return e.getProviders(t.city)}],institutesSavedList:["cisavedService",function(e){return e.institutesSaved()}],institutesFilledList:["tofillciService",function(e){return e.institutesFilled()}],emailList:["EmailService",function(e){return e.getEmails()}],provider:function(){return{}},targetStudyCities:["targetStudyProviderService","$stateParams",function(e){return e.getCities()}]}}).state("master-analytics",{url:"/master/:masterId/analytics",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"analytics.html",controller:"analyticsController"},footer:{templateUrl:"footer.html"}},resolve:{}}).state("master-institutes",{url:"/master/:masterId/institutes",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"institutes.html",controller:"InstitutesController"},footer:{templateUrl:"footer.html"}},resolve:{institutesList:["InstituteService",function(e){return e.getInstitutes()}],institute:function(){return{}}}}).state("master-dashboard",{url:"/master/:masterId/dashboard",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"master-dashboard.html",controller:"masterDashboardController"},footer:{templateUrl:"footer.html"}},resolve:{usersCount:["UserService",function(e){return e.getUsersCount()}],verifiedUsersCount:["UserService",function(e){return e.getVerfiedUsersCount()}],studentCount:["UserService",function(e){return e.getStudentCount()}],masterViewSummary:["viewService",function(e){return e.masterViewSummary()}],internList:["UserService",function(e){return e.getInterns()}],coachingCount:["targetStudyProviderService",function(e){return e.getCount()}],coachingSavedCount:["cisavedService",function(e){return e.savedCount()}],filledCount:["tofillciService",function(e){return e.filledCount()}],reviewsCount:["reviewService",function(e){return e.reviewsCount()}],couponsCount:["couponService",function(e){return e.couponsCount()}],issuedcouponsCount:["couponService",function(e){return e.issuedcouponsCount()}],tofillciList:["tofillciService",function(e){return e.gettofillcis()}],toverifyciList:["toverifyciService",function(e){return e.gettoverifycis()}],addContactInfoList:["addContactInfoService",function(e){return e.getaddContactInfos()}],rateInstituteList:["rateInstituteService",function(e){return e.getrateInstitutes()}],verifiedCount:["toverifyciService",function(e){return e.verifiedCount()}]}}).state("partner-dashboard",{url:"/partner/:userId/dashboard",views:{header:{templateUrl:"header1.html",controller:"headerController"},body:{templateUrl:"partner-dashboard.html",controller:"partnerDashboardController"},footer:{templateUrl:"footer.html"}},resolve:{thisPartner:["UserService","$stateParams",function(e,t){return e.getPartner(t.userId)}],provider:function(){return{}}}}).state("master-manageBatchStudents",{url:"/master/:masterId/manageBatchStudents",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"manageBatchStudents.html",controller:"manageBatchStudentsController"},footer:{templateUrl:"footer.html"}}}).state("master-manageInstituteStudents",{url:"/master/:masterId/manageInstituteStudents",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"manageInstituteStudents.html",controller:"manageInstituteStudentsController"},footer:{templateUrl:"footer.html"}}}).state("master-addGlobalSubject",{url:"/master/:masterId/addGlobalSubject",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addGlobalSubject.html",controller:"addGlobalSubjectController"},footer:{templateUrl:"footer.html"}},resolve:{thisglobalSubjects:["globalSubjectService","$stateParams",function(e){return e.getglobalSubjects()}],globalSubject:function(){return{}}}}).state("invalidusers",{url:"/master/:masterId/invalidusers",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"invalidusers.html",controller:"invalidusersController"},footer:{templateUrl:"footer.html"}},resolve:{invalidUsers:["UserService","$stateParams",function(e){return e.getInvalidUsers()}],user:function(){return{}}}}).state("master-addGlobalFeeItem",{url:"/master/:masterId/addGlobalFeeItem",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addGlobalFeeItem.html",controller:"addGlobalFeeItemController"},footer:{templateUrl:"footer.html"}},resolve:{thisglobalFeeItems:["globalFeeItemService",function(e){return e.getglobalFeeItems()}],globalFeeItem:function(){return{}}}}).state("mergeUsers",{url:"/master/:masterId/mergeUsers",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"mergeUsers.html",controller:"mergeUsersController"},footer:{templateUrl:"footer.html"}},resolve:{}}).state("invalidParents",{url:"/master/:masterId/invalidParents",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"invalidParents.html",controller:"invalidParentsController"},footer:{templateUrl:"footer.html"}},resolve:{}}).state("invalidTeachers",{url:"/master/:masterId/invalidTeachers",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"invalidTeachers.html",controller:"invalidTeachersController"},footer:{templateUrl:"footer.html"}},resolve:{}}).state("institute",{url:"/institute/:instituteId",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"institute.html",controller:"instituteController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}}}}).state("institute-batches",{url:"/institute-batches/:instituteId",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"institute-batches.html",controller:"instituteBatchesController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getBatchInstitute(t.instituteId)}],institute:function(){return{}}}}).state("institute-teachers",{url:"/institute-teachers/:instituteId",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"institute-teachers.html",controller:"instituteTeachersController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getTeacherInstitute(t.instituteId)}],institute:function(){return{}}}}).state("institute-students",{url:"/institute-students/:instituteId",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"institute-students.html",controller:"instituteStudentsController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getStudentInstitute(t.instituteId)}],institute:function(){return{}},batchNames:["InstituteService","$stateParams",function(e,t){return e.getBatchNames(t.instituteId)}]}}).state("student",{url:"/student/:studentId/main",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"student.html",controller:"studentController"},footer:{templateUrl:"footer.html"}},resolve:{thisstudent:["StudentService","$stateParams",function(e,t){return e.getStudent(t.studentId)}],student:function(){return{}},thisattendance:["StudentService","$stateParams",function(e,t){return e.getStudentAttendance(t.studentId)}]}}).state("student-attendance",{url:"/student/:studentId/attendance",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"student-attendance.html",controller:"studentAttendanceController"},footer:{templateUrl:"footer.html"}},resolve:{thisstudent:["StudentService","$stateParams",function(e,t){return e.getStudent(t.studentId)}],student:function(){return{}},thisattendance:["StudentService","$stateParams",function(e,t){return e.getStudentAttendance(t.studentId)}]}}).state("student-class",{url:"/student/:studentId/class",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"student-class.html",controller:"studentController"},footer:{templateUrl:"footer.html"}},resolve:{thisstudent:["StudentService","$stateParams",function(e,t){return e.getStudent(t.studentId)}],student:function(){return{}}}}).state("shortlisted",{url:"/user/:userId/shortlisted",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"shortlisted.html",controller:"shortlistedController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],thisuserShortlisted:["UserService","$stateParams",function(e,t){return e.getUserShortlisted(t.userId)}],user:function(){return{}}}}).state("viewed",{url:"/user/:userId/viewed",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"viewed.html",controller:"viewedController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],thisuserViewed:["viewService","$stateParams",function(e,t){return e.getuserviews(t.userId)}],user:function(){return{}}}}).state("filled",{url:"/user/:userId/filled",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"filled.html",controller:"filledCIController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],thisuserFilled:["UserService","$stateParams",function(e,t){return e.getUserFilled(t.userId)}],user:function(){return{}}}}).state("assigned",{url:"/user/:userId/assigned",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"assigned.html",controller:"assignedController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],thisuserAssigned:["tofillciService","$stateParams",function(e,t){return e.getusertofillcis(t.userId)}],user:function(){return{}}}}).state("assignedToVerify",{url:"/user/:userId/assignedToVerify",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"assignedToVerify.html",controller:"assignedToVerifyController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],thisuserAssignedToVerify:["toverifyciService","$stateParams",function(e,t){return e.getusertoverifycis(t.userId)}],user:function(){return{}}}}).state("assignedToRate",{url:"/user/:userId/assignedToRate",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"assignedToRate.html",controller:"assignedToRateController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],thisuserAssignedToRate:["rateInstituteService","$stateParams",function(e,t){return e.getuserrateInstitute(t.userId)}],user:function(){return{}}}}).state("assignedToAddContactInfo",{url:"/user/:userId/assignedToAddContactInfo",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"assignedToAddContactInfo.html",controller:"assignedToAddContactInfoController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],thisuserAssignedToAddContactInfo:["addContactInfoService","$stateParams",function(e,t){return e.getuseraddContactInfos(t.userId)}],user:function(){return{}}}}).state("filledAll",{url:"/user/:userId/filledAll",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"filled.html",controller:"filledCIController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],thisuserFilled:["UserService","$stateParams",function(e){return e.getUserFilled("all")}],user:function(){return{}}}}).state("group",{url:"/user/:userId/group",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"group.html",controller:"groupController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],user:function(){return{}}}}).state("profile",{url:"/user/:userId/profile",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"profile.html",controller:"profileController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],user:function(){return{}}}}).state("checkLogo",{url:"/user/:userId/checkLogo/:pageNumber/",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"checkLogo.html",controller:"checkLogoController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],logoList:["targetStudyProviderService","$stateParams",function(e,t){return e.checkLogo(t.pageNumber)}],user:function(){return{}}}}).state("student-subjects",{url:"/student/:studentId/subjects",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"student-subjects.html",controller:"studentController"},footer:{templateUrl:"footer.html"}},resolve:{thisstudent:["StudentService","$stateParams",function(e,t){return e.getStudent(t.studentId)}],student:function(){return{}}}}).state("addTeacher",{url:"/:instituteId/addTeacher",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addTeacher.html",controller:"addTeacherController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}},thisglobalSubjects:["globalSubjectService","$stateParams",function(e){return e.getglobalSubjects()}],globalSubject:function(){return{}}}}).state("addAdmin",{url:"/:instituteId/addAdmin",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addAdmin.html",controller:"addAdminController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}}}}).state("addStream",{url:"/addStream",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addStream.html",controller:"addStreamController"},footer:{templateUrl:"footer.html"}},resolve:{streamList:["StreamService",function(e){return e.getStreams()}],stream:function(){return{}}}}).state("addOffer",{url:"/addOffer",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addOffer.html",controller:"addOfferController"},footer:{templateUrl:"footer.html"}},resolve:{offersList:["offerService",function(e){return e.getOffers()}],stream:function(){return{}}}}).state("addLocation",{url:"/addLocation",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addLocation.html",controller:"addLocationController"},footer:{templateUrl:"footer.html"}},resolve:{locationList:["LocationService",function(e){return e.getLocations()}],cityList:["LocationService",function(e){return e.getCities()}],exam:function(){return{}}}}).state("addMediaTag",{url:"/addMediaTag",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addMediaTag.html",controller:"addMediaTagController"},footer:{templateUrl:"footer.html"}},resolve:{mediaTagList:["MediaTagService",function(e){return e.getMediaTags()}],mediaTypeList:["MediaTagService",function(e){return e.getMediaTypes()}],mediaTag:function(){return{}}}}).state("addGroup",{url:"/addGroup",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addGroup.html",controller:"addGroupController"},footer:{templateUrl:"footer.html"}},resolve:{groupList:["GroupService",function(e){return e.getGroups()}],group:function(){return{}}}}).state("addSendGridCredential",{url:"/addAwsCredential",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addSendGrid.html",controller:"addSendGridController"},footer:{templateUrl:"footer.html"}},resolve:{sendGridCredentialList:["SendGridService",function(e){return e.getSendGridCredentials()}],sendGridCredential:function(){return{}}}}).state("addAwsCredential",{url:"/addAwsCredential",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addAwsCredential.html",controller:"addAwsCredentialController"},footer:{templateUrl:"footer.html"}},resolve:{awsCredentialList:["AwsCredentialService",function(e){return e.getAwsCredentials()}],awsCredential:function(){return{}}}}).state("addSubscriber",{url:"/addSubscriber",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addSubscriber.html",controller:"addSubscriberController"},footer:{templateUrl:"footer.html"}},resolve:{subscribersList:["subscriberService",function(e){return e.getSubscribers()}],subscriber:function(){return{}
}}}).state("addExam",{url:"/addExam",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addExam.html",controller:"addExamController"},footer:{templateUrl:"footer.html"}},resolve:{examList:["ExamService",function(e){return e.getExams()}],streamList:["StreamService",function(e){return e.getStreams()}],exam:function(){return{}}}}).state("addEligibility",{url:"/addEligibility",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addEligibility.html",controller:"addEligibilityController"},footer:{templateUrl:"footer.html"}},resolve:{eligibilityList:["EligibilityService",function(e){return e.getEligibilities()}],examList:["ExamService",function(e){return e.getExams()}],streamList:["StreamService",function(e){return e.getStreams()}],exam:function(){return{}}}}).state("addMaster",{url:"/master/:masterId/addMaster",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addMaster.html",controller:"addMasterController"},footer:{templateUrl:"footer.html"}},resolve:{}}).state("addInstitute",{url:"/master/:userId/addInstitute",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addInstitute.html",controller:"addInstituteController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],examList:["ExamService",function(e){return e.getExams()}],streamList:["StreamService",function(e){return e.getStreams()}],user:function(){return{}}}}).state("bulkDisable",{url:"/master/:userId/bulkDisable",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"bulkDisable.html",controller:"bulkDisableController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],user:function(){return{}}}}).state("addIntern",{url:"/user/:userId/addIntern",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addIntern.html",controller:"addInternController"},footer:{templateUrl:"footer.html"}},resolve:{}}).state("sitemap",{url:"/sitemap",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"generateSitemap.html",controller:"sitemapController"},footer:{templateUrl:"footer.html"}},resolve:{}}).state("addStudent",{url:"/:instituteId/addStudent",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addStudent.html",controller:"addStudentController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}}}}).state("addTransportVehicle",{url:"/:instituteId/addTransportVehicle",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addTransportVehicle.html",controller:"addTransportVehicleController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}}}}).state("addBatch",{url:"/:instituteId/addBatch",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"addBatch.html",controller:"addBatchController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}},thisglobalSubjects:["globalSubjectService","$stateParams",function(e){return e.getglobalSubjects()}],globalSubject:function(){return{}}}}).state("feeStructure",{url:"/:instituteId/feeStructure",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"feeStructure.html",controller:"feeStructureController"},footer:{templateUrl:"footer.html"}},resolve:{thisinstitute:["InstituteService","$stateParams",function(e,t){return e.getInstitute(t.instituteId)}],institute:function(){return{}},thisglobalFeeItems:["globalFeeItemService",function(e){return e.getglobalFeeItems()}],globalFeeItem:function(){return{}}}}).state("verify",{url:"/verify/:userId/",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"verify.html",controller:"verifyController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],user:function(){return{}}}}).state("chooselogin",{url:"/chooselogin/:userId/",views:{body:{templateUrl:"chooselogin.html",controller:"chooseloginController"},footer:{templateUrl:"footer.html"}},resolve:{thisuser:["UserService","$stateParams",function(e,t){return e.getUser(t.userId)}],user:function(){return{}}}}).state("subject",{url:"/subject/:subjectId",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"subject.html",controller:"subjectController"},footer:{templateUrl:"footer.html"}},resolve:{thissubject:["SubjectService","$stateParams",function(e,t){return e.getSubject(t.subjectId)}],subject:function(){return{}}}}).state("eval",{url:"/eval/:evalId",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"eval.html",controller:"evalController"},footer:{templateUrl:"footer.html"}},resolve:{allEvals:["EvalService","$stateParams",function(e,t){return e.getEvalAnalytics(t.evalId)}],eval:function(){return{}}}}).state("exam",{url:"/exam/:examId",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"exam.html",controller:"examController"},footer:{templateUrl:"footer.html"}},resolve:{thisexam:["ExamService","$stateParams",function(e,t){return e.getExam(t.examId)}],thisevals:["EvalService","$stateParams",function(e,t){return e.getEvals(t.examId)}],exam:function(){return{}}}}).state("batch",{url:"/batch/:batchId",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"batch.html",controller:"batchController"},footer:{templateUrl:"footer.html"}},resolve:{thisbatch:["BatchService","$stateParams",function(e,t){return e.getBatch(t.batchId)}],batch:function(){return{}},batchCalendar:["BatchService","$stateParams",function(e,t){return e.getCalendar(t.batchId)}]}}).state("batch-attendance",{url:"/batch/:batchId/attendance",views:{header:{templateUrl:"header.html",controller:"headerController"},body:{templateUrl:"batch-attendance.html",controller:"batchController"},footer:{templateUrl:"footer.html"}},resolve:{thisbatch:["BatchService","$stateParams",function(e,t){return e.getBatch(t.batchId)}],batch:function(){return{}},batchCalendar:["BatchService","$stateParams",function(e,t){return e.getCalendar(t.batchId)}],batchAttendanceDays:["BatchService","$stateParams",function(e,t){return e.getBatchAttendanceDays(t.batchId)}]}}),r.html5Mode(!0)})}(),exambazaar.run(function(e,t,r){e.navBarTitle="Exambazaar: Exclusive Deals and Videos for test preparation",e.message="",e.imageUrl="",e.today=moment().toDate(),moment.tz.add("Asia/Calcutta|HMT BURT IST IST|-5R.k -6u -5u -6u|01232|-18LFR.k 1unn.k HB0 7zX0"),moment.tz.link("Asia/Calcutta|Asia/Kolkata"),e.$on("$stateChangeSuccess",function(){document.body.scrollTop=document.documentElement.scrollTop=0,t.hide()});var o=r.absUrl();if(e.pageURL=o,e.pageImage="https://www.exambazaar.com/images/logo/eblogo.png",function(e,t,r){var o,a=e.getElementsByTagName(t)[0];e.getElementById(r)||(o=e.createElement(t),o.id=r,o.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.9&appId=1236747093103286",a.parentNode.insertBefore(o,a))}(document,"script","facebook-jssdk"),!document.getElementById("facebook-jssdk")){var a=document.getElementsByTagName("script")[0],n=document.createElement("script");n.id="facebook-jssdk",n.src="//connect.facebook.net/en_US/all.js",a.parentNode.insertBefore(n,a)}}),exambazaar.directive("focusMe",["$timeout","$parse",function(e,t){return{link:function(r,o,a){var n=t(a.focusMe);r.$watch(n,function(t){t===!0&&e(function(){o[0].focus()})}),o.bind("blur",function(){})}}}]),exambazaar.directive("affixer",function(e){return{restrict:"A",link:function(t,r){function o(){console.log(e.pageYOffset),e.pageYOffset>n?(r.css("position","fixed"),r.css("top","0px")):(r.css("position",""),r.css("top",""))}var a=angular.element(e),n=r[0].offsetTop;t.$on("$routeChangeStart",function(){a.unbind("scroll",o)}),a.bind("scroll",o)}}}),exambazaar.directive("onlyDigits",function(){return{require:"ngModel",restrict:"A",link:function(e,t,r,o){function a(e){if(e){var t=e.replace(/[^0-9]/g,"");return t!==e&&(o.$setViewValue(t),o.$render()),parseInt(t,10)}return void 0}o.$parsers.push(a)}}}),exambazaar.directive("limitTo",[function(){return{restrict:"A",link:function(e,t,r){var o=parseInt(r.limitTo);angular.element(t).on("keypress",function(e){this.value.length==o&&e.preventDefault()})}}}]),exambazaar.directive("moveNextOnMaxlength",function(){return{restrict:"A",link:function(e,t){t.on("input",function(){if(t.val().length==t.attr("ng-maxlength")){var e=t.next();e.length&&e[0].focus()}})}}}),exambazaar.directive("www.exambazaar.com",function(){return{scope:{},link:function(e,t){t.on("copy",function(e){e.preventDefault()})}}});
//# sourceMappingURL=app.min.js.map