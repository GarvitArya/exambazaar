<div class="container">
    <h4 class="md-headline text">{{institute.basic.name}} - Add student</h4>
    
    <div class="row">
        <div class="col-md-4">
            <md-content flex layout-padding>
            <h6 class="md-subhead text-primary">Students</h6>
                <span ng-repeat = "student in institute.students | orderBy:'batch.name'"><small>{{student.batch.name}}: {{student.basic.firstName}} {{student.basic.lastName}}</small><br/></span>
            </md-content>
        </div>
    <div class="col-md-8">
    <md-content flex layout-padding>
        <small>
        <form name="studentForm" >
        
        <div layout="column" >
            <h6 class="md-subhead text-primary">School Batch</h6>
            <div layout="row">
                <md-input-container class="md-block" flex-gt-sm>  
                    <md-select required ng-model="student.batch" placeholder="Select Student Batch">
                        <md-option ng-repeat="batch in institute.batches | orderBy:'name'" ng-value="batch._id" >{{batch.name}}
                        </md-option>
                    </md-select>
                </md-input-container>
            </div>
            <h6 class="md-subhead text-primary">Student Information</h6>
            <div layout="row">
                
                <md-input-container class="md-block" flex-gt-sm>
                    <label>First Name</label>
                    <input required ng-model="student.basic.firstName">
                     <div ng-messages="studentForm.student.basic.firstName.$error">
                        <div ng-message="required">This is required.</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Last Name</label>
                    <input required ng-model="student.basic.lastName">
                     <div ng-messages="studentForm.institute.name.$error">
                        <div ng-message="required">This is required.</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm>  
                    <md-select required ng-model="student.basic.gender" placeholder="Gender" size="8">
                        <md-option ng-repeat="gender in genders" ng-value="gender" >{{gender}}
                        </md-option>
                    </md-select>
                </md-input-container>
            </div>
            <h6 class="md-subhead text">Date of Birth</h6>
            <div layout="row">
                <md-datepicker required ng-model="student.basic.dob" md-placeholder="Date of Birth"></md-datepicker>
            </div>
            <br/>
            <br/>
            
            <h6 class="md-subhead text-primary">Parent Information</h6>
            <div layout="row">
            <md-input-container class="md-block" flex-gt-sm>  
                    <md-select required ng-model="student.parent.basic.role" placeholder="Parent">
                        <md-option ng-repeat="role in parentRoles" ng-value="role" >{{role}}
                        </md-option>
                    </md-select>
                </md-input-container>
            
            <md-input-container class="md-block" flex-gt-sm>
                <label>First Name</label>
                <input required ng-model="student.parent.basic.firstName">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
                <label>Last Name</label>
                <input required ng-model="student.parent.basic.lastName">
            </md-input-container>
            </div>
            <!--<div layout="row">
            <md-input-container class="md-block" flex-gt-sm>
                <label>Mobile (used as login)<small>{{student.parent.contact.mobile.length}}/10</small></label>
                <input required ng-model="student.parent.contact.mobile" ng-minlength="10" ng-maxlength="10">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
                <label>Email</label>
                <input type="Email" ng-model="student.parent.contact.email">
            </md-input-container>
            </div>-->
            
            <h6 class="md-subhead text-primary">Registered Mobile Number and Email (Parent)</h6>
            <div layout="row">
                <md-input-container class="md-block" flex-gt-sm >
                    <label>Mobile <small>{{student.contact.mobile.length}}/10</small></label>
                    <input required ng-model="student.contact.mobile" ng-minlength="10" ng-maxlength="10">
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Email</label>
                    <input type="Email" required ng-model="student.contact.email">
                </md-input-container>
            </div>
            <h6 class="md-subhead text">Current Address</h6>
            <div layout="row">
            <md-input-container class="md-block" flex-gt-sm>
                <label>Address - Street</label>
                <input ng-model="student.address.street">
            </md-input-container>
            </div>
            <div layout="row">
            <md-input-container class="md-block" flex-gt-sm>
                <label>City</label>
                <input ng-model="student.address.city">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
                <label>Pin Code</label>
                <input ng-model="student.address.pincode">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
                <label>Telephone</label>
                <input ng-model="student.address.tel">
            </md-input-container>
            </div>
            
            
            
            <!--
            <div layout="row">
                <h6 class="md-subhead text">
                <md-switch ng-model="sameAddress" aria-label="Permanent Address same as Communication Address">
                Permanent Address same as Communication Address {{ sameAddress }}
                </md-switch>
                </h6>
            </div>
            <h6 class="md-subhead text">Permanent Address</h6>
            <div layout="row">
            <md-input-container class="md-block" flex-gt-sm>
                <label>Address - Street</label>
                <input required ng-model="student.permanentAddress.street">
            </md-input-container>
            </div>
            <div layout="row">
            <md-input-container class="md-block" flex-gt-sm>
                <label>City</label>
                <input required ng-model="student.permanentAddress.city">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
                <label>Pin Code</label>
                <input required ng-model="student.permanentAddress.pincode">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
                <label>Telephone</label>
                <input ng-model="student.permanentAddress.tel">
            </md-input-container>
            </div>-->
            
            
        <h6 class="md-subhead text">Profile Picture</h6>
        <md-input-container class="md-block" flex-gt-sm>
            <label for="profilepic">Add Photo</label><br>
            <button onclick="document.getElementById('fileUpload').click()">Upload Image</button>
            <input id="fileUpload" style="visibility: collapse; width: 0px;" type="file" onchange="uploadStudentProfilePic(this.files[0])">
            <img id="imgsrc" height="100" >
        </md-input-container>
        
        
        
        <h6 class="md-subhead text-primary">Transportation Vehicle</h6>
        <div layout="row">
            <md-input-container class="md-block" flex-gt-sm>  
            <md-select ng-model="student.transportVehicle" placeholder="Select Student Transport Vehicle">
            <md-option ng-repeat="transportVehicle in institute.transportVehicles | orderBy:'owner.name'" ng-value="transportVehicle._id" >
                {{transportVehicle.type}}
                {{transportVehicle.registration}}
                {{transportVehicle.driver.name}}
            </md-option>
            </md-select>
            </md-input-container>
        </div>
        <div layout="row">
            <md-button class="md-raised md-primary" ng-click="addStudent()" ng-disabled="studentForm.$invalid">Add Student</md-button>
        </div>
    </div>
    </form>
    </small>
    </md-content>
    </div>
    </div>
</div>
<div>
    {{ServerResponse}}
</div>